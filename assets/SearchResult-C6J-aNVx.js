import{u as K,g as le,h as ae,i as U,j as te,k as Ee,t as se,l as re,m as x,n as f,p as ne,w as z,q as a,v as oe,R as T,x as ie,y as ue,z as me,D as Be,A as ge,B as he,C as de,E as ce,F as Ae,G as D,H as ve,I as Fe,J as ye,K as j,L as G,M as pe}from"./app-b9yWyLtc.js";const we=["/","/portfolio.html","/computer/0.%E7%AE%97%E6%B3%95.html","/computer/1.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html","/share/git.html","/share/markdown.html","/share/%E5%A5%BD%E7%89%A9%E5%88%86%E4%BA%AB.html","/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","/computer/%E7%BD%91%E7%BB%9C/","/golang/Gorm%E6%A1%86%E6%9E%B6/0.use.html","/golang/Gorm%E6%A1%86%E6%9E%B6/1.howWork.html","/golang/Gorm%E6%A1%86%E6%9E%B6/","/golang/web%E6%A1%86%E6%9E%B6/","/golang/%E5%8E%9F%E7%90%86/","/golang/%E5%8E%9F%E7%90%86/%E5%B8%B8%E7%94%A8%E5%8C%85%E5%A4%A7%E5%85%A8.html","/golang/%E5%9F%BA%E7%A1%80/0.golang.html","/golang/%E5%9F%BA%E7%A1%80/1.grammer.html","/golang/%E5%9F%BA%E7%A1%80/2.datatype.html","/golang/%E5%9F%BA%E7%A1%80/3.variable.html","/golang/%E5%9F%BA%E7%A1%80/4.io.html","/golang/%E5%9F%BA%E7%A1%80/5.condition.html","/golang/%E5%9F%BA%E7%A1%80/6.data_structures.html","/golang/%E5%9F%BA%E7%A1%80/","/golang/%E8%BF%9B%E9%98%B6/1.interface.html","/golang/%E8%BF%9B%E9%98%B6/10.cgo.html","/golang/%E8%BF%9B%E9%98%B6/11.pprof.html","/golang/%E8%BF%9B%E9%98%B6/12.followUp.html","/golang/%E8%BF%9B%E9%98%B6/2.generic.html","/golang/%E8%BF%9B%E9%98%B6/3.reflect.html","/golang/%E8%BF%9B%E9%98%B6/4.types.html","/golang/%E8%BF%9B%E9%98%B6/5.error.html","/golang/%E8%BF%9B%E9%98%B6/6.file.html","/golang/%E8%BF%9B%E9%98%B6/7.concurrency.html","/golang/%E8%BF%9B%E9%98%B6/8.module.html","/golang/%E8%BF%9B%E9%98%B6/9.test.html","/golang/%E8%BF%9B%E9%98%B6/","/golang/%E8%BF%9B%E9%98%B6/test.html","/golang/%E9%9D%A2%E8%AF%95/1.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html","/golang/%E9%9D%A2%E8%AF%95/2.%E8%BF%9B%E9%98%B6%E5%8E%9F%E7%90%86.html","/golang/%E9%9D%A2%E8%AF%95/","/golang/%E9%9D%A2%E8%AF%95/%E5%AF%B9%E8%B1%A1%E6%B1%A0.html","/framework/%E5%88%86%E5%B8%83%E5%BC%8F/","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/Consul.html","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/Docker.html","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/GRPC.html","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/Jaeger.html","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/Kong.html","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/Kubernetes.html","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/Nacos.html","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/","/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/Sentinel.html","/framework/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8/","/framework/%E9%AB%98%E5%8F%AF%E7%94%A8/","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Elasticsearch.html","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Elasticsearch%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%20(text%E3%80%81keyword%E3%80%81date%E3%80%81object%E3%80%81geo%E7%AD%89).html","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL%E9%AB%98%E7%BA%A7.html","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB.html","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-Go.html","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis.html","/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/mongodb1.html","/middleware/%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6/EMQX.html","/middleware/%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6/Kafka1.html","/middleware/%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6/","/middleware/%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6/RocketMQ.html","/middleware/%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6/kafka.html","/middleware/%E7%BD%91%E5%85%B3/Kong.html","/middleware/%E7%BD%91%E5%85%B3/Nginx.html","/middleware/%E7%BD%91%E5%85%B3/","/middleware/%E8%BF%90%E7%BB%B4/Docker.html","/middleware/%E8%BF%90%E7%BB%B4/Kubernetes.html","/middleware/%E8%BF%90%E7%BB%B4/","/middleware/%E9%89%B4%E6%9D%83/casbin.html","/golang/web%E6%A1%86%E6%9E%B6/gin/0.use.html","/golang/web%E6%A1%86%E6%9E%B6/gin/1.howWork.html","/golang/web%E6%A1%86%E6%9E%B6/gin/","/golang/web%E6%A1%86%E6%9E%B6/go-zero/0.use.html","/golang/web%E6%A1%86%E6%9E%B6/go-zero/1.howWork.html","/golang/web%E6%A1%86%E6%9E%B6/go-zero/","/golang/web%E6%A1%86%E6%9E%B6/lib/","/golang/web%E6%A1%86%E6%9E%B6/lib/Zap.html","/golang/%E5%8E%9F%E7%90%86/standard/0.intro.html","/golang/%E5%8E%9F%E7%90%86/standard/","/golang/%E5%8E%9F%E7%90%86/standard/encode.html","/golang/%E5%8E%9F%E7%90%86/standard/flag.html","/golang/%E5%8E%9F%E7%90%86/standard/http.html","/golang/%E5%8E%9F%E7%90%86/standard/log.html","/golang/%E5%8E%9F%E7%90%86/standard/math.html","/golang/%E5%8E%9F%E7%90%86/standard/net.html","/golang/%E5%8E%9F%E7%90%86/standard/sort.html","/golang/%E5%8E%9F%E7%90%86/standard/strconv.html","/golang/%E5%8E%9F%E7%90%86/standard/strings.html","/golang/%E5%8E%9F%E7%90%86/standard/template.html","/golang/%E5%8E%9F%E7%90%86/standard/time.html","/golang/%E5%8E%9F%E7%90%86/standard/unicode.html","/golang/%E5%8E%9F%E7%90%86/standard/unsafe.html","/golang/%E5%8E%9F%E7%90%86/theory/0.runtime.html","/golang/%E5%8E%9F%E7%90%86/theory/1.%E5%B9%B6%E5%8F%91.html","/golang/%E5%8E%9F%E7%90%86/theory/2.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html","/golang/%E5%8E%9F%E7%90%86/theory/3.%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86.html","/golang/%E5%8E%9F%E7%90%86/theory/","/404.html","/computer/","/share/","/golang/","/framework/","/middleware/","/middleware/%E9%89%B4%E6%9D%83/"],fe="SLIMSEARCH_QUERY_HISTORY",c=K(fe,[]),De=()=>{const{queryHistoryCount:t}=D,E=t>0;return{enabled:E,queryHistories:c,addQueryHistory:s=>{E&&(c.value=Array.from(new Set([s,...c.value.slice(0,t-1)])))},removeQueryHistory:s=>{c.value=[...c.value.slice(0,s),...c.value.slice(s+1)]}}},q=t=>we[t.id]+("anchor"in t?`#${t.anchor}`:""),ke="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:I}=D,A=K(ke,[]),Ce=()=>{const t=I>0;return{enabled:t,resultHistories:A,addResultHistory:E=>{if(t){const s={link:q(E),display:E.display};"header"in E&&(s.header=E.header),A.value=[s,...A.value.slice(0,I-1)]}},removeResultHistory:E=>{A.value=[...A.value.slice(0,E),...A.value.slice(E+1)]}}},be=t=>{const E=Be(),s=U(),k=ge(),n=x(0),F=f(()=>n.value>0),h=he([]);return de(()=>{const{search:d,terminate:C}=ce(),v=Ae(i=>{const{resultsFilter:y=o=>o,querySplitter:L,suggestionsFilter:b,...H}=E.value;i?(n.value+=1,d(i,s.value,H).then(o=>y(o,i,s.value,k.value)).then(o=>{n.value-=1,h.value=o}).catch(o=>{console.warn(o),n.value-=1,n.value||(h.value=[])})):h.value=[]},D.searchDelay-D.suggestDelay,{maxWait:5e3});z([t,s],([i])=>{v(i.join(" "))},{immediate:!0}),ve(()=>{C()})}),{isSearching:F,results:h}};var Re=le({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(t,{emit:E}){const s=ae(),k=U(),n=te(Ee),{enabled:F,addQueryHistory:h,queryHistories:d,removeQueryHistory:C}=De(),{enabled:v,resultHistories:i,addResultHistory:y,removeResultHistory:L}=Ce(),b=F||v,H=se(t,"queries"),{results:o,isSearching:P}=be(H),r=re({isQuery:!0,index:0}),B=x(0),g=x(0),M=f(()=>b&&(d.value.length>0||i.value.length>0)),R=f(()=>o.value.length>0),Q=f(()=>o.value[B.value]||null),W=()=>{const{isQuery:e,index:l}=r;l===0?(r.isQuery=!e,r.index=e?i.value.length-1:d.value.length-1):r.index=l-1},Y=()=>{const{isQuery:e,index:l}=r;l===(e?d.value.length-1:i.value.length-1)?(r.isQuery=!e,r.index=0):r.index=l+1},_=()=>{B.value=B.value>0?B.value-1:o.value.length-1,g.value=Q.value.contents.length-1},O=()=>{B.value=B.value<o.value.length-1?B.value+1:0,g.value=0},J=()=>{g.value<Q.value.contents.length-1?g.value+=1:O()},N=()=>{g.value>0?g.value-=1:_()},S=e=>e.map(l=>pe(l)?l:a(l[0],l[1])),V=e=>{if(e.type==="customField"){const l=Fe[e.index]||"$content",[u,w=""]=ye(l)?l[k.value].split("$content"):l.split("$content");return e.display.map(m=>a("div",S([u,...m,w])))}return e.display.map(l=>a("div",S(l)))},p=()=>{B.value=0,g.value=0,E("updateQuery",""),E("close")},X=()=>F?a("ul",{class:"slimsearch-result-list"},a("li",{class:"slimsearch-result-list-item"},[a("div",{class:"slimsearch-result-title"},n.value.queryHistory),d.value.map((e,l)=>a("div",{class:["slimsearch-result-item",{active:r.isQuery&&r.index===l}],onClick:()=>{E("updateQuery",e)}},[a(j,{class:"slimsearch-result-type"}),a("div",{class:"slimsearch-result-content"},e),a("button",{class:"slimsearch-remove-icon",innerHTML:G,onClick:u=>{u.preventDefault(),u.stopPropagation(),C(l)}})]))])):null,Z=()=>v?a("ul",{class:"slimsearch-result-list"},a("li",{class:"slimsearch-result-list-item"},[a("div",{class:"slimsearch-result-title"},n.value.resultHistory),i.value.map((e,l)=>a(T,{to:e.link,class:["slimsearch-result-item",{active:!r.isQuery&&r.index===l}],onClick:()=>{p()}},()=>[a(j,{class:"slimsearch-result-type"}),a("div",{class:"slimsearch-result-content"},[e.header?a("div",{class:"content-header"},e.header):null,a("div",e.display.map(u=>S(u)).flat())]),a("button",{class:"slimsearch-remove-icon",innerHTML:G,onClick:u=>{u.preventDefault(),u.stopPropagation(),L(l)}})]))])):null;return ne("keydown",e=>{if(t.isFocusing){if(R.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")J();else if(e.key==="Enter"){const l=Q.value.contents[g.value];h(t.queries.join(" ")),y(l),s.push(q(l)),p()}}else if(v){if(e.key==="ArrowUp")W();else if(e.key==="ArrowDown")Y();else if(e.key==="Enter"){const{index:l}=r;r.isQuery?(E("updateQuery",d.value[l]),e.preventDefault()):(s.push(i.value[l].link),p())}}}}),z([B,g],()=>{var e;(e=document.querySelector(".slimsearch-result-list-item.active .slimsearch-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>a("div",{class:["slimsearch-result-wrapper",{empty:t.queries.length?!R.value:!M.value}],id:"slimsearch-results"},t.queries.length?P.value?a(oe,{hint:n.value.searching}):R.value?a("ul",{class:"slimsearch-result-list"},o.value.map(({title:e,contents:l},u)=>{const w=B.value===u;return a("li",{class:["slimsearch-result-list-item",{active:w}]},[a("div",{class:"slimsearch-result-title"},e||n.value.defaultTitle),l.map((m,ee)=>{const $=w&&g.value===ee;return a(T,{to:q(m),class:["slimsearch-result-item",{active:$,"aria-selected":$}],onClick:()=>{h(t.queries.join(" ")),y(m),p()}},()=>[m.type==="text"?null:a(m.type==="title"?ie:m.type==="heading"?ue:me,{class:"slimsearch-result-type"}),a("div",{class:"slimsearch-result-content"},[m.type==="text"&&m.header?a("div",{class:"content-header"},m.header):null,a("div",V(m))])])})])})):n.value.emptyResult:b?M.value?[X(),Z()]:n.value.emptyHistory:n.value.emptyResult)}});export{Re as default};
