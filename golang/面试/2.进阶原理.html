<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.66" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://Cospk.github.io/vuepress-app/golang/%E9%9D%A2%E8%AF%95/2.%E8%BF%9B%E9%98%B6%E5%8E%9F%E7%90%86.html"><meta property="og:site_name" content="Golangå…¨æ ˆæŒ‡å—"><meta property="og:title" content="è¿›é˜¶é¢è¯•"><meta property="og:description" content="é¢è¯•æµç¨‹ï¼š è‡ªæˆ‘ä»‹ç» èŠå‡ é“åŸºç¡€å…«è‚¡æ–‡â­ èŠèŠé¡¹ç›®å’Œè¿›é˜¶å…«è‚¡æ–‡ğŸŒŸ åœºæ™¯è®¾è®¡é¢˜ å†™ä¸¤é“ä»£ç é¢˜ åˆ¤æ–­æ˜¯å¦æœ‰æˆï¼š åˆ¤æ–­é¢è¯•æ—¶é—´ï¼šè‹¥æ˜¯10æ¥åˆ†é’Ÿç›´æ¥å†™ä»£ç äº†ï¼Œå¤§æ¦‚ç‡æ˜¯ä¸æ»¡æ„ä¸æƒ³ç»§ç»­èŠäº† æé—®ï¼šå¿«ç»“æŸæ—¶å€™ï¼Œé¢è¯•å®˜ä¼šé—®æœ‰ä»€ä¹ˆæƒ³é—®çš„ï¼Ÿå¯ä»¥æé—®ä¸‹é¢ä¸€äº›é—®é¢˜ å²—ä½å·¥ä½œå†…å®¹ è¿›å»å…·ä½“åšå•¥ ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆ è‹¥æ˜¯é¢è¯•å®˜è¯¦ç»†ä»‹ç»äº†ï¼Œæˆ–è€…è¯´æ‹›ä½ è¿›å»å®‰æ’å“ªäº›å·¥ä½œå°±å¾ˆæœ‰æœºä¼šï¼›è‹¥æ˜¯æ•·è¡..."><meta property="og:type" content="article"><meta property="og:image" content="https://gavvy-cloud.oss-cn-shenzhen.aliyuncs.com/web/GMP_modle.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-03-18T03:55:25.000Z"><meta property="article:author" content="xiaoxie"><meta property="article:tag" content="golang"><meta property="article:published_time" content="2020-01-01T00:00:00.000Z"><meta property="article:modified_time" content="2025-03-18T03:55:25.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"è¿›é˜¶é¢è¯•","image":["https://gavvy-cloud.oss-cn-shenzhen.aliyuncs.com/web/GMP_modle.png"],"datePublished":"2020-01-01T00:00:00.000Z","dateModified":"2025-03-18T03:55:25.000Z","author":[{"@type":"Person","name":"xiaoxie"}]}</script><link rel="icon" href="/vuepress-app/favicon.svg"><title>è¿›é˜¶é¢è¯• | Golangå…¨æ ˆæŒ‡å—</title><meta name="description" content="é¢è¯•æµç¨‹ï¼š è‡ªæˆ‘ä»‹ç» èŠå‡ é“åŸºç¡€å…«è‚¡æ–‡â­ èŠèŠé¡¹ç›®å’Œè¿›é˜¶å…«è‚¡æ–‡ğŸŒŸ åœºæ™¯è®¾è®¡é¢˜ å†™ä¸¤é“ä»£ç é¢˜ åˆ¤æ–­æ˜¯å¦æœ‰æˆï¼š åˆ¤æ–­é¢è¯•æ—¶é—´ï¼šè‹¥æ˜¯10æ¥åˆ†é’Ÿç›´æ¥å†™ä»£ç äº†ï¼Œå¤§æ¦‚ç‡æ˜¯ä¸æ»¡æ„ä¸æƒ³ç»§ç»­èŠäº† æé—®ï¼šå¿«ç»“æŸæ—¶å€™ï¼Œé¢è¯•å®˜ä¼šé—®æœ‰ä»€ä¹ˆæƒ³é—®çš„ï¼Ÿå¯ä»¥æé—®ä¸‹é¢ä¸€äº›é—®é¢˜ å²—ä½å·¥ä½œå†…å®¹ è¿›å»å…·ä½“åšå•¥ ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆ è‹¥æ˜¯é¢è¯•å®˜è¯¦ç»†ä»‹ç»äº†ï¼Œæˆ–è€…è¯´æ‹›ä½ è¿›å»å®‰æ’å“ªäº›å·¥ä½œå°±å¾ˆæœ‰æœºä¼šï¼›è‹¥æ˜¯æ•·è¡...">
    <link rel="preload" href="/vuepress-app/assets/style-BU0LSV_n.css" as="style"><link rel="stylesheet" href="/vuepress-app/assets/style-BU0LSV_n.css">
    <link rel="modulepreload" href="/vuepress-app/assets/app-DIJDtupu.js"><link rel="modulepreload" href="/vuepress-app/assets/2.è¿›é˜¶åŸç†.html-83xh_rnD.js"><link rel="modulepreload" href="/vuepress-app/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/vuepress-app/assets/index.html-BMYgyfDp.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/portfolio.html-4bxlMBYl.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.ç®—æ³•.html-CvQ1gy67.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.è®¾è®¡æ¨¡å¼.html-oqIrtBe8.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.è§„åˆ’.html-BTctlwB6.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/git è§„èŒƒ.html-pOzt2Sya.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/git.html-ixPi_0Ze.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/markdown.html-Dy_QlVnL.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¥½ç‰©åˆ†äº«.html-B6NfvEM_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-8AQshAED.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/best-practice-template.html-BLs6dmQM.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/reference-template.html-CRcAKI7_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/tutorial-template.html-DD31Wvmc.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/writing-standards.html-CYxaf07f.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-E7qiWZU4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Consul.html-D9i7V0zV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Docker.html-CALiwnXG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/GRPC.html-BDKbTmRI.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Jaeger.html-DGQmYk9d.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kong.html-BY9r39zx.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kubernetes.html-rzGxnWd0.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Nacos.html-CpWI1heb.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CqzJH2kl.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Sentinel.html-QBl6g7n4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BQep9Ms_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-W0IZn2xO.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html--HZ9Xv38.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BNzatcUR.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç½‘ç»œåŸºç¡€.html-53H3D8RM.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.use.html-BfZix_tO.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.howWork.html-CL03OcGt.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-f8ivuiuF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CxO_qeK1.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-C-Cxe3ur.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¸¸ç”¨åŒ…å¤§å…¨.html-BWGXltvN.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/01-ä»‹ç»ä¸å®‰è£….html-BLLTtCrI.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/02-Hello-World.html-B4m4QWVp.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/03-å˜é‡.html-DBpH8CZF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/04-ç±»å‹.html-3lTaKrEX.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/05-å¸¸é‡.html-Dem3SKBW.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/06-å‡½æ•°.html-TWV5xDWN.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/07-åŒ….html-Bb9b61PO.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/08-if-else-è¯­å¥.html-BKuKh2bl.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/09-å¾ªç¯.html-xBYX8gSg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/10-switch-è¯­å¥.html-DmGE68tD.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/11-æ•°ç»„å’Œåˆ‡ç‰‡.html-DrrlC8sJ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/12-å¯å˜å‚æ•°å‡½æ•°.html-CVgsTexs.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/13-Maps.html-DcKwMN0L.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/14-å­—ç¬¦ä¸².html-D71PugAn.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/15-æŒ‡é’ˆ.html-BQKNFZz4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/16-ç»“æ„ä½“.html-BR_npihr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/17-æ–¹æ³•.html-Cea2EL0W.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/18-æ¥å£.html-5vpBAdeJ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/19-æ¥å£.html-IZQZkccS.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/20-å¹¶å‘å…¥é—¨.html-DFCOqalS.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/21-Go-åç¨‹.html-C7X86pID.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/22-ä¿¡é“.html-C5SZUNIN.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/23-ç¼“å†²ä¿¡é“å’Œå·¥ä½œæ± .html-Dw9yzm21.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/24-Select.html-BZRmoLwg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/25-Mutex.html-DlRLxIO0.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/26-ç»“æ„ä½“å–ä»£ç±».html-Cb0CQeQI.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/27-ç»„åˆå–ä»£ç»§æ‰¿.html-D-1lRcAm.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/28-å¤šæ€.html-D5cES2MF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/29-Defer.html-BTOlmwqG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/30-é”™è¯¯å¤„ç†.html--URdZGOa.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/31-è‡ªå®šä¹‰é”™è¯¯.html-qjjG4dD1.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/32-panic-å’Œ-recover.html-C__hWiny.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/33-å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘.html-CKtAIjCE.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/34-åå°„.html-gT_ubIYV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/35-è¯»å–æ–‡ä»¶.html-Dim6lJth.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/36-å†™å…¥æ–‡ä»¶.html-DMMy5Akp.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-Ce4QncUh.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.interface.html-Bcwpxkz_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/10.cgo.html-Cc3IBgZh.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/11.pprof.html-B1TBiF-S.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/12.followUp.html-ChgosObn.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.generic.html-t9F8JkZ-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/3.reflect.html-CsqwkGQg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/4.types.html-DTz3KnZN.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/5.error.html-CYyqf_8g.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/6.file.html-IQGOyJmj.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/7.concurrency.html-DWHb7NV7.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/8.module.html-D1WyiQU-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/9.test.html-BDgM0J0K.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CpG6FWU3.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/notes.html-B6gucJy2.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/test.html-D2d8EnW4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.åŸºç¡€è¯­æ³•.html-iIWzYafk.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-wT1nHTio.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¤§å‚é¢è¯•é¢˜.html-Dwwv4_YP.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¯¹è±¡æ± .html-CbIFXFAU.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ææ™ºå¤©ä¸‹.html-CUbP6xEh.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/é¢è¯•é¢˜ï¼ˆç­”æ¡ˆï¼‰.html-DcUI8xsg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Elasticsearch-Go.html-DH3iL3t-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Elasticsearch.html-Dbqk6yba.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MYSQLé«˜çº§.html-DjU99qc2.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MongoDB-Go.html-LC00SqHY.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MongoDB.html-BsiiWKPF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MySQL-Go.html-BP44ICxm.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MySQL.html-DvFuWdDI.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-No9QF5uf.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Redis-Go.html-68Ve0Bms.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Redis.html-COY3AC-z.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/EMQX.html-Z2ULNNu9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kafka1.html-CIwYmfIl.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kafka_go.html-BtHi9Ay4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CoyHYM4r.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/RocketMQ.html-DKnvI3P9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/kafka.html-C45XgCVY.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kong.html-CFRTKV3Q.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Nginx.html-DobIArYS.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-C_myC_ON.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Docker-Do.html-CAeX33hD.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Docker.html-CrfPN4Ea.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Jenkins.html-D7fd_zxG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kubernetes.html-CiCaNrju.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-D3i7y_nz.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/kubernetes-Do.html-Mn8O0iYA.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/casbin.html-CmdXnvo-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.use.html-mGGwb0Xs.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.howWork.html-BPbATKWp.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BDiG7Sa9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.use.html-CFS7SGEx.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.howWork.html-CWMWUGai.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-M11fprN-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-KksFQ35C.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Zap.html-cSNtc6K9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç”¨æˆ·è®¤è¯é€‰å‹.html-D8ZbBlYF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç›‘æ§.html-CblSNQ5X.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.intro.html-BiC5KbBB.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-V-gxjtkQ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/encode.html-DULShIO4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/flag.html-BNP6mLKg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/http.html-Ds7Bn6Dh.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/log.html-Bi8nr_fy.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/math.html-BRgtQXkC.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/net.html-Cez-sJPL.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/sort.html-B-_PynF9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/strconv.html-D9aq_0ge.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/strings.html-BEBdT1VN.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/template.html-CDhZ4T2L.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/time.html-B2s7biyE.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/unicode.html-KfTwaqW3.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/unsafe.html-Ck5rncWr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.runtime.html-U_tTe_nE.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.å¹¶å‘.html-B3G74HKx.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.æ•°æ®ç»“æ„.html-zwbg06cB.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/3.é”™è¯¯å¤„ç†.html-CdT9wDTr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/GC-çš„è®¤è¯†.html-OPEMhhHh.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/GO-ä¸­çš„è°ƒåº¦ï¼šç¬¬ä¸‰éƒ¨åˆ†---å¹¶å‘.html-CDUpX-uL.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-Channelçš„å®ç°.html-mcjtDZL8.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-GC.html-XyX71R-p.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-Hashmapå†…å­˜å¸ƒå±€å’Œå®ç°.html-CEaCfe5Y.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-Modules-ç»ˆæå…¥é—¨.html-Dg9PFqQr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-Selectçš„å®ç°.html-B83V5ZdL.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-Sliceä¸Stringå†…å­˜å¸ƒå±€å’Œå®ç°.html-DjzVnYMo.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-work-stealing-è°ƒåº¦å™¨.html-yoXF58Gm.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-ä¸­çš„åƒåœ¾å›æ”¶ï¼šç¬¬ä¸€éƒ¨åˆ†---åŸºç¡€.html-DtW8VjA8.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-å†…å­˜ç®¡ç†.html-BjEWhmRz.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-å†…å­˜ç®¡ç†ä¹‹äºŒ.html-CR15EHul.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-å†…å­˜é€ƒé€¸è¯¦ç»†åˆ†æ.html-DVPlddTO.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-å‡½æ•°è°ƒç”¨æƒ¯ä¾‹.html-_ZCeAlFf.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-åå°„ä¸interfaceæ‹¾é—.html-Dbd8kK8e.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-åƒåœ¾å›æ”¶.html-C1kvG1yM.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-åƒåœ¾å›æ”¶ï¼šç¬¬äºŒéƒ¨åˆ†---GC-è¿½è¸ª.html-B0G6QDGf.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-æ‰§è¡Œè¿½è¸ªå™¨ï¼ˆexecution-tracerï¼‰.html-9tss-d8y.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-æ–¹æ³•è°ƒç”¨ä¸æ¥å£.html-DErdsZ4B.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-çš„è°ƒåº¦å™¨è¿½è¸ª.html-ekQk2krk.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-ç¬”è®°ä¹‹å¦‚ä½•é˜²æ­¢-goroutine-æ³„éœ².html-B1dU8GVD.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-ç¬”è®°ä¹‹å¦‚ä½•é˜²æ­¢-goroutine-æ³„éœ²ï¼ˆäºŒï¼‰.html-CyBRGTsl.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€-Channel-å®ç°åŸç†ç²¾è¦.html-Dk44jpBB.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€-for-å’Œ-range-çš„å®ç°.html-B70zygT9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€æ•°ç»„å’Œåˆ‡ç‰‡çš„åŸç†.html-BL11UMTM.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€æœºåˆ¶ä¹‹å†…å­˜å‰–æï¼ˆLanguage-Mechanics-On-Memory-Profilingï¼‰.html-Dr15sYk2.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€æœºåˆ¶ä¹‹æ ˆå’ŒæŒ‡é’ˆ.html-OIXWOgUo.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€æœºåˆ¶ä¹‹é€ƒé€¸åˆ†æï¼ˆLanguage-Mechanics-On-Escape-Analysisï¼‰.html-BSwrK1hN.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€æ±‡ç¼–å¿«é€Ÿå…¥é—¨.html-DsM55op-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€çš„å†…å­˜ç®¡ç†.html-d6UUqBKY.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è¯­è¨€ç¼–è¯‘è¿‡ç¨‹æ¦‚è¿°.html-DLcEQVB_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-è°ƒä¼˜æŠ€æœ¯.html-52kbwzM7.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-é€ƒé€¸åˆ†æçš„ç¼ºé™·.html-CMuBeG6r.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go-é—®ç­”ä¹‹å¦‚ä½•é˜…è¯»-Go-æºç .html-D3lneojF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Go1.13-defer-çš„æ€§èƒ½æ˜¯å¦‚ä½•æé«˜çš„ï¼Ÿ.html-DzeL2P07.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golang---è°ƒåº¦å‰–æã€ç¬¬ä¸€éƒ¨åˆ†ã€‘.html-T60WRdbu.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golang---è°ƒåº¦å‰–æã€ç¬¬äºŒéƒ¨åˆ†ã€‘.html-DgywT52V.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golang-socketæ•°æ®ç»“æ„.html-BZRKzByu.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golang-å¦‚ä½•è¿›è¡Œç±»å‹æ£€æŸ¥.html-DjB_4Qzk.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangåç¨‹æ ˆåˆå§‹åŒ–.html-Bm7ULxn_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangåç¨‹æ ˆæ¦‚è¿°.html-BKvkbs6k.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangåç¨‹è°ƒåº¦(ä¸€)-åç¨‹çŠ¶æ€.html-BNQjQpr3.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangåç¨‹è°ƒåº¦äºŒï¼šåç¨‹åˆ‡æ¢åŸç†.html-CH3A2Pa7.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangåç¨‹è°ƒåº¦çš„æ•°æ®ç»“æ„.html-CM1oAeM0.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangæºç æ¢ç´¢(ä¸€)-ç¼–è¯‘å’Œè°ƒè¯•æºç .html-OvSovgtG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangæºç æ¢ç´¢(ä¸‰)-GCçš„å®ç°åŸç†.html-Djtfq-R-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangæºç æ¢ç´¢(äºŒ)-åç¨‹çš„å®ç°åŸç†.html-C1ggllGC.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangç½‘ç»œ-æ ¸å¿ƒAPIå®ç°å‰–æ(ä¸€).html-MbpxjV-6.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Golangç½‘ç»œ-æ ¸å¿ƒAPIå®ç°å‰–æäºŒ).html-BmNJSqym.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goroutineæµ…æ.html-gPcMscr4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goå†…å­˜åˆ†é…é‚£äº›äº‹ï¼Œå°±è¿™ä¹ˆç®€å•ï¼.html-CY_BAQuP.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goè¯­è¨€åå°„è§„åˆ™---The-Laws-of-Reflection.html-gtslJpvI.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goè¯­è¨€é«˜é˜¶ï¼šè°ƒåº¦å™¨ç³»åˆ—ï¼ˆ1ï¼‰èµ·æº.html-W5S_pgny.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goè¯­è¨€é»‘é­”æ³•.html-DWMaldmK.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goè°ƒåº¦å™¨ç³»åˆ—ï¼ˆ2ï¼‰å®è§‚çœ‹è°ƒåº¦å™¨.html-BUfXps1o.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goè°ƒåº¦å™¨ç³»åˆ—ï¼ˆ3ï¼‰å›¾è§£è°ƒåº¦åŸç†.html-kLevRq4C.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goè°ƒåº¦å™¨ç³»åˆ—ï¼ˆ4ï¼‰æºç é˜…è¯»ä¸æ¢ç´¢.html-CGkhLWiX.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Goï¼šGoroutine-ä¸æŠ¢å æœºåˆ¶.html-DEz2luQA.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Map-åœ¨-Go-runtime-ä¸­çš„é«˜æ•ˆå®ç°ï¼ˆä¸ä½¿ç”¨èŒƒå‹ï¼‰.html-CN1qlXMF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-t221nlib.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è¯‘_-Go-ä»£ç è¯Šæ–­å·¥å…·é›†åˆ-å®˜æ–¹æ–‡æ¡£.html-D5JYZVD8.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/channelçš„ä½¿ç”¨åŠæºç è§£æ.html-D-E0EJqW.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/golang--è¯¦è§£interfaceå’Œnil.html-D2NnwzvL.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/golang-å†…å­˜åˆ†æ-åŠ¨æ€è¿½è¸ª.html-D1PgABt6.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/golang-æ±‡ç¼–.html-C5JkJXWp.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/golangè¿›é˜¶(å…«)â€”â€”éšè—æŠ€èƒ½go-linkname.html-3Wpc2ByX.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/goè¯­è¨€æ­»å¾ªç¯åˆ†æ.html-BlhVjuG6.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ä¹Ÿè°ˆgoroutineè°ƒåº¦å™¨.html-Db8YaWQ3.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ä»åº•å±‚ç†è§£-Golang-çš„-map-å®ç°.html-Cc6H9Gsg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ä»æºç è§’åº¦çœ‹Golangçš„TCP-Socket(epoll)å®ç°.html-eRToSxUU.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ä»æºç è®²è§£-golang-å†…å­˜åˆ†é….html-Cq-0auHr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ä½¿ç”¨-pprof-å’Œç«ç„°å›¾è°ƒè¯•-golang-åº”ç”¨.html-BUm1tgut.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å…³äºGo-GC---Rick's-ISMM-keynote.html-DdixLGB9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/åç¨‹æ ˆæ‰©å®¹.html-DWyUpq-d.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/åç¨‹è°ƒåº¦æ—¶æœºä¸€ï¼šç³»ç»Ÿè°ƒç”¨.html-C-aZ3nPz.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/åç¨‹è°ƒåº¦æ—¶æœºä¸‰ï¼šæŠ¢å å¼è°ƒåº¦.html-BH2eGRDR.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/åç¨‹è°ƒåº¦æ—¶æœºäºŒï¼šChannelè¯»å†™.html-Dz_tb5Nv.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¯è§†åŒ–-Go-è¯­è¨€ä¸­çš„å¹¶å‘.html-HCljW16V.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å›¾è§£Go-selectè¯­å¥åŸç†.html-Dztyjg7r.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å›¾è§£Goå†…å­˜åˆ†é…å™¨.html-BWsJxDrt.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å›¾è§£Goè¯­è¨€å†…å­˜åˆ†é….html-ChUszE5D.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å›¾è§£Goè¿è¡Œæ—¶è°ƒåº¦å™¨.html-BkDtbip9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å›¾è§£goroutineè°ƒåº¦.html-Dv2bwlc0.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¦‚ä½•å®šä½-golang-è¿›ç¨‹-hang-æ­»çš„-bug.html-DCjilOiP.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å®æˆ˜Goå†…å­˜æ³„éœ².html-1TNR3pHn.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¼„æ‡‚goroutineè°ƒåº¦åŸç†.html-2nEHifzV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æŒ‡ä»¤é›†æ¶æ„ã€æœºå™¨ç ä¸-Go-è¯­è¨€.html-CAFmUQdV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æµ…è°ˆ-Go-è¯­è¨€-select-çš„å®ç°åŸç†.html-C52XPpw5.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±å…¥ç†è§£-sync.RWMutexï¼šè§£å†³è¯»è€…-å†™è€…é—®é¢˜.html-CPGlhi7p.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±å…¥ç†è§£Go-1.9-sync.Map.html-DaQ344IU.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±å…¥ç†è§£Go-runtime.SetFinalizeråŸç†å‰–æ.html-DhOTa3w1.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±å…¥ç†è§£Go-sync.MapåŸç†å‰–æ.html-VrIOj1-G.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±å…¥ç†è§£channelï¼šè®¾è®¡_æºç .html-oh9QVAot.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±å…¥è§£æ-Go-ä¸­-Slice-åº•å±‚å®ç°.html-apCSB3Bz.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±åº¦è§£å¯†Goè¯­è¨€ä¹‹-scheduler.html-psf_2qRb.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±åº¦è§£å¯†Goè¯­è¨€ä¹‹Slice.html-CTTj4nep.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±åº¦è§£å¯†Goè¯­è¨€ä¹‹map.html-CtmTnWIX.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±åº¦è§£å¯†Goè¯­è¨€ä¹‹å…³äº-interface-çš„-10-ä¸ªé—®é¢˜.html-H47yPP0k.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æ·±åº¦è§£å¯†Goè¯­è¨€ä¹‹åå°„.html-CJDtYFGn.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/æºç å‰–ægolangä¸­sync.Mutex.html-d55t4S9U.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç†è§£-Golang-ä¸­å‡½æ•°è°ƒç”¨çš„åŸç†.html-C9Ym7Sqh.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç†è§£-Golang-å“ˆå¸Œè¡¨-Map-çš„åŸç†.html-LNxTujTg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç”¨-GODEBUG-çœ‹è°ƒåº¦è·Ÿè¸ª.html-DPvw46lX.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è§£å‰–Goè¯­è¨€mapåº•å±‚å®ç°.html-BfSUQpmG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è§£æå™¨çœ¼ä¸­çš„-Go-è¯­è¨€.html-sEjiXwkQ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è®°ä¸€æ¬¡è·å¾—3å€æ€§èƒ½çš„goç¨‹åºä¼˜åŒ–å®è·µï¼ŒåŠon-cpu-off-cpuç«ç„°å›¾çš„ä½¿ç”¨.html-BLt9mJCF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è¯¦å°½å¹²è´§ï¼ä»æºç è§’åº¦çœ‹-Golang-çš„è°ƒåº¦.html-BhvQcjtp.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è¯¦è§£-Golang-ä¸­é—´ä»£ç ç”Ÿæˆ.html-BeBBaRGG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è¯¦è§£Goè¯­è¨€çš„å†…å­˜æ¨¡å‹åŠå †çš„åˆ†é…ç®¡ç†.html-BNhhPUH_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/è°ˆ-Golang-ä¸­çš„å­—ç¬¦ä¸²å’Œå­—èŠ‚æ•°ç»„.html-D10O968i.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/é€šè¿‡-profiling-å®šä½-golang-æ€§èƒ½é—®é¢˜---å†…å­˜ç¯‡.html-CBANHs19.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/404.html-DwQc1sng.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BN7RFqTj.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DJN8LopR.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-Bihu4_9d.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CklNBwjM.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CaPKmAAG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-Dhk06VLP.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index-izhIXQi-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index-B2Pezylg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/mermaid.esm.min-Bf9uIE2x.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/SearchResult-mpXxa_JZ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/setupDevtools-7MC2TMWH-DpbXT7rC.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/vuepress-app/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo light" src="/vuepress-app/log.svg" alt><img class="vp-nav-logo dark" src="/vuepress-app/logDark.svg" alt><span class="vp-site-name hide-in-pad">Golangå…¨æ ˆæŒ‡å—</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vuepress-app/" aria-label="é¦–é¡µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->é¦–é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="golang"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>golang<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/%E5%9F%BA%E7%A1%80/" aria-label="GoåŸºç¡€"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-eraser" style=""></span><!--]-->GoåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/%E8%BF%9B%E9%98%B6/" aria-label="Goè¿›é˜¶"><!--[--><img class="icon" src="/vuepress-app/assets/icon/up.png" alt aria-hidden no-view style=""><!--]-->Goè¿›é˜¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/%E5%8E%9F%E7%90%86/" aria-label="åŸç†"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-gears" style=""></span><!--]-->åŸç†<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/web%E6%A1%86%E6%9E%B6/" aria-label="æ¡†æ¶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-sitemap" style=""></span><!--]-->æ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/" aria-label="é¢è¯•"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-feather" style=""></span><!--]-->é¢è¯•<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ä¸­é—´ä»¶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-layer-group" style=""></span>ä¸­é—´ä»¶<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html" aria-label="MySql"><!--[--><img class="icon" src="/vuepress-app/assets/icon/mysql.png" alt aria-hidden no-view style=""><!--]-->MySql<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis.html" aria-label="Redis"><!--[--><img class="icon" src="/vuepress-app/assets/icon/redis.png" alt aria-hidden no-view style=""><!--]-->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB.html" aria-label="MongoDB"><!--[--><img class="icon" src="/vuepress-app/assets/icon/mongodb.png" alt aria-hidden no-view style=""><!--]-->MongoDB<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6/kafka.html" aria-label="kafka"><!--[--><img class="icon" src="/vuepress-app/assets/icon/Kafka.png" alt aria-hidden no-view style=""><!--]-->kafka<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E7%BD%91%E5%85%B3/Nginx.html" aria-label="Nginx"><!--[--><img class="icon" src="/vuepress-app/assets/icon/Nginx.png" alt aria-hidden no-view style=""><!--]-->Nginx<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E8%BF%90%E7%BB%B4/Docker.html" aria-label="Docker"><!--[--><img class="icon" src="/vuepress-app/assets/icon/docker.png" alt aria-hidden no-view style=""><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E8%BF%90%E7%BB%B4/Kubernetes.html" aria-label="Kubernetes"><!--[--><img class="icon" src="/vuepress-app/assets/icon/kubernetes.png" alt aria-hidden no-view style=""><!--]-->Kubernetes<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æ¶æ„"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-network-wired" style=""></span>æ¶æ„<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" aria-label="å¾®æœåŠ¡"><!--[--><img class="icon" src="/vuepress-app/assets/icon/micro.png" alt aria-hidden no-view style=""><!--]-->å¾®æœåŠ¡<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E5%88%86%E5%B8%83%E5%BC%8F/" aria-label="åˆ†å¸ƒå¼"><!--[--><img class="icon" src="/vuepress-app/assets/icon/kubernetes.png" alt aria-hidden no-view style=""><!--]-->åˆ†å¸ƒå¼<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E9%AB%98%E5%8F%AF%E7%94%A8/" aria-label="é«˜å¯ç”¨"><!--[--><img class="icon" src="/vuepress-app/assets/icon/available.png" alt aria-hidden no-view style=""><!--]-->é«˜å¯ç”¨<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8/" aria-label="é¢†åŸŸé©±åŠ¨"><!--[--><img class="icon" src="/vuepress-app/assets/icon/DDD.png" alt aria-hidden no-view style=""><!--]-->é¢†åŸŸé©±åŠ¨<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è®¡ç®—æœº"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-computer" style=""></span>è®¡ç®—æœº<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/%E7%BD%91%E7%BB%9C/" aria-label="è®¡ç®—æœºç½‘ç»œ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-globe" style=""></span><!--]-->è®¡ç®—æœºç½‘ç»œ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" aria-label="æ“ä½œç³»ç»Ÿ"><!--[--><img class="icon" src="/vuepress-app/assets/icon/linux.png" alt aria-hidden no-view style=""><!--]-->æ“ä½œç³»ç»Ÿ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/0.%E7%AE%97%E6%B3%95.html" aria-label="å¸¸ç”¨ç®—æ³•"><!--[--><img class="icon" src="/vuepress-app/assets/icon/arithmetic.png" alt aria-hidden no-view style=""><!--]-->å¸¸ç”¨ç®—æ³•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/1.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="è®¾è®¡æ¨¡å¼"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-ruler" style=""></span><!--]-->è®¾è®¡æ¨¡å¼<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å¥½ç‰©åˆ†äº«"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-share-nodes" style=""></span>å¥½ç‰©åˆ†äº«<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/share/%E5%A5%BD%E7%89%A9%E5%88%86%E4%BA%AB.html" aria-label="å¥½ç‰©åˆ†äº«"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-share-nodes" style=""></span><!--]-->å¥½ç‰©åˆ†äº«<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/share/git.html" aria-label="git"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-git-alt" style=""></span><!--]-->git<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Cospk" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">æœç´¢</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span><span class="vp-sidebar-title">GORMæ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-server" style=""></span><span class="vp-sidebar-title">Webæ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-gears" style=""></span><span class="vp-sidebar-title">åŸç†</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-eraser" style=""></span><span class="vp-sidebar-title">åŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/vuepress-app/assets/icon/up.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">è¿›é˜¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">é¢è¯•</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/1.%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html" aria-label="åŸºç¡€é¢è¯•"><!---->åŸºç¡€é¢è¯•<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/%E5%A4%A7%E5%8E%82%E9%9D%A2%E8%AF%95%E9%A2%98.html" aria-label="å¤§å‚é¢è¯•é¢˜"><!---->å¤§å‚é¢è¯•é¢˜<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/%E5%AF%B9%E8%B1%A1%E6%B1%A0.html" aria-label="å¯¹è±¡æ± "><!---->å¯¹è±¡æ± <!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/2.%E8%BF%9B%E9%98%B6%E5%8E%9F%E7%90%86.html" aria-label="è¿›é˜¶é¢è¯•"><!---->è¿›é˜¶é¢è¯•<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%88%E7%AD%94%E6%A1%88%EF%BC%89.html" aria-label="é¢è¯•é¢˜ï¼ˆç­”æ¡ˆï¼‰"><!---->é¢è¯•é¢˜ï¼ˆç­”æ¡ˆï¼‰<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/%E6%9E%81%E6%99%BA%E5%A4%A9%E4%B8%8B.html" aria-label="m"><!---->m<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->è¿›é˜¶é¢è¯•</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">xiaoxie</span></span><span property="author" content="xiaoxie"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2020å¹´1æœˆ1æ—¥</span><meta property="datePublished" content="2020-01-01T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 22 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT22M"></span><!----><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color5" role>golang</span><!--]--><meta property="keywords" content="golang"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é¢è¯•æµç¨‹">é¢è¯•æµç¨‹ï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è¯­è¨€åŸºç¡€">è¯­è¨€åŸºç¡€</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¸å…¶ä»–è¯­è¨€ç›¸æ¯”-ä½¿ç”¨-go-æœ‰ä»€ä¹ˆå¥½å¤„">ä¸å…¶ä»–è¯­â¾”ç›¸â½ï¼Œä½¿â½¤ Go æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#golangå¼€å‘æ–°æ‰‹å¸¸çŠ¯çš„50ä¸ªé”™è¯¯">Golangå¼€å‘æ–°â¼¿å¸¸çŠ¯çš„50ä¸ªé”™è¯¯</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#golang-ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç±»å‹">Golang ä½¿â½¤ä»€ä¹ˆæ•°æ®ç±»å‹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#go-ç¨‹åºä¸­çš„åŒ…æ˜¯ä»€ä¹ˆ">Go ç¨‹åºä¸­çš„åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å˜é‡å¤§å°å†™çš„åŒºåˆ«">å˜é‡å¤§å°å†™çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#goè¯­è¨€ä¸­çš„å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹">goè¯­è¨€ä¸­çš„å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é«˜çº§è¯­æ³•">é«˜çº§è¯­æ³•</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#newå’Œmakeæœ‰ä»€ä¹ˆåŒºåˆ«">newå’Œmakeæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¼•ç”¨ç±»å‹å¦‚åˆ‡ç‰‡-nilåˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡æœ‰ä»€ä¹ˆä¸ä¸€æ ·">å¼•ç”¨ç±»å‹å¦‚åˆ‡ç‰‡ï¼Œnilåˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡æœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#channelçš„ä½¿ç”¨æ³¨æ„">channelçš„ä½¿ç”¨æ³¨æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#mapçš„å®ç°">mapçš„å®ç°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¤„ç†å­—ç¬¦ä¸²">å¤„ç†å­—ç¬¦ä¸²</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1ã€åç¨‹">1ã€ğŸŒŸåç¨‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä»€ä¹ˆæ˜¯-goroutine-ä½ å¦‚ä½•åœæ­¢å®ƒ">ä»€ä¹ˆæ˜¯ Goroutineï¼Ÿä½ å¦‚ä½•åœâ½Œå®ƒï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«">åç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#gmpæ¨¡å‹">GMPæ¨¡å‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2ã€å¹¶å‘">2ã€ğŸŒŸå¹¶å‘</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#channelé€šçŸ¥-å®ç°å¹¶å‘æ§åˆ¶">Channelé€šçŸ¥ å®ç°å¹¶å‘æ§åˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#waitgroup-å®ç°å¹¶å‘æ§åˆ¶">WaitGroup å®ç°å¹¶å‘æ§åˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#context">Context</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3ã€å†…å­˜">3ã€â­å†…å­˜</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å†…å­˜é€ƒé€¸æ˜¯ä»€ä¹ˆ-ä¼šæœ‰ä»€ä¹ˆå½±å“">å†…å­˜é€ƒé€¸æ˜¯ä»€ä¹ˆï¼Ÿä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ€ä¹ˆåˆ†æå†…å­˜é€ƒé€¸-ä»¥åŠä¼˜åŒ–">æ€ä¹ˆåˆ†æå†…å­˜é€ƒé€¸ï¼Ÿä»¥åŠä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#gcåŸç†-ä¸‰è‰²æ ‡è®°-å¢é‡å¼æ ‡è®°æ¸…é™¤">GCåŸç†--ä¸‰è‰²æ ‡è®°+å¢é‡å¼æ ‡è®°æ¸…é™¤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å†…å­˜å¯¹é½">å†…å­˜å¯¹é½</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4ã€é”">4ã€é”</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#äº’æ–¥é”">äº’æ–¥é”</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è¯»å†™é”">è¯»å†™é”</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#sync-mapçš„å®‰å…¨é”">sync.mapçš„å®‰å…¨é”</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5ã€é€šè®¯">5ã€é€šè®¯</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¸€ã€æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#äºŒã€æŠ€æœ¯ç‰¹æ€§æ·±åº¦è§£æ">äºŒã€æŠ€æœ¯ç‰¹æ€§æ·±åº¦è§£æ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¸‰ã€æ ¸å¿ƒä¼˜ç¼ºç‚¹åˆ†æ">ä¸‰ã€æ ¸å¿ƒä¼˜ç¼ºç‚¹åˆ†æ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å››ã€é€‰å‹å†³ç­–æŒ‡å—">å››ã€é€‰å‹å†³ç­–æŒ‡å—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#äº”ã€æ€§èƒ½ä¼˜åŒ–å…³é”®æŒ‡æ ‡">äº”ã€æ€§èƒ½ä¼˜åŒ–å…³é”®æŒ‡æ ‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å…­ã€ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹">å…­ã€ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç»“è®º">ç»“è®º</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="é¢è¯•æµç¨‹" tabindex="-1"><a class="header-anchor" href="#é¢è¯•æµç¨‹"><span>é¢è¯•æµç¨‹ï¼š</span></a></h2><ol><li>è‡ªæˆ‘ä»‹ç»</li><li><strong>èŠå‡ é“åŸºç¡€å…«è‚¡æ–‡â­</strong></li><li><strong>èŠèŠé¡¹ç›®å’Œè¿›é˜¶å…«è‚¡æ–‡</strong>ğŸŒŸ</li><li>åœºæ™¯è®¾è®¡é¢˜</li><li>å†™ä¸¤é“ä»£ç é¢˜</li></ol><p>åˆ¤æ–­æ˜¯å¦æœ‰æˆï¼š</p><ol><li><p>åˆ¤æ–­é¢è¯•æ—¶é—´ï¼šè‹¥æ˜¯10æ¥åˆ†é’Ÿç›´æ¥å†™ä»£ç äº†ï¼Œå¤§æ¦‚ç‡æ˜¯ä¸æ»¡æ„ä¸æƒ³ç»§ç»­èŠäº†</p></li><li><p>æé—®ï¼šå¿«ç»“æŸæ—¶å€™ï¼Œé¢è¯•å®˜ä¼šé—®æœ‰ä»€ä¹ˆæƒ³é—®çš„ï¼Ÿå¯ä»¥æé—®ä¸‹é¢ä¸€äº›é—®é¢˜</p><p>å²—ä½å·¥ä½œå†…å®¹<br> è¿›å»å…·ä½“åšå•¥</p><p>ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆ</p><p>è‹¥æ˜¯é¢è¯•å®˜è¯¦ç»†ä»‹ç»äº†ï¼Œæˆ–è€…è¯´æ‹›ä½ è¿›å»å®‰æ’å“ªäº›å·¥ä½œå°±å¾ˆæœ‰æœºä¼šï¼›è‹¥æ˜¯æ•·è¡å‡ å¥å°±ä¸ç”¨æŠ¥å¤ªå¤§å¸Œæœ›äº†</p></li></ol><h1 id="åŸºç¡€è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€è¯­æ³•"><span>åŸºç¡€è¯­æ³•</span></a></h1><blockquote><p>è¯­è¨€ç‰¹ç‚¹ã€æ•°æ®ç±»å‹åŠå…¶ç‰¹ç‚¹ã€ç±»å‹è½¬æ¢</p></blockquote><h2 id="è¯­è¨€åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#è¯­è¨€åŸºç¡€"><span>è¯­è¨€åŸºç¡€</span></a></h2><ol><li>goè¯­è¨€çš„ç‰¹æ€§ï¼Œå¯¹æ¯”å…¶ä»–è¯­è¨€æœ‰ä¸Šé¢ä¼˜åŠ¿ï¼Ÿ</li><li>goå¼€å‘éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ</li><li>goçš„æ•°æ®ç±»å‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</li><li></li></ol><h3 id="ä¸å…¶ä»–è¯­è¨€ç›¸æ¯”-ä½¿ç”¨-go-æœ‰ä»€ä¹ˆå¥½å¤„" tabindex="-1"><a class="header-anchor" href="#ä¸å…¶ä»–è¯­è¨€ç›¸æ¯”-ä½¿ç”¨-go-æœ‰ä»€ä¹ˆå¥½å¤„"><span>ä¸å…¶ä»–è¯­â¾”ç›¸â½ï¼Œä½¿â½¤ Go æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</span></a></h3><ul><li>ä¸å…¶ä»–ä½œä¸ºå­¦æœ¯å®éªŒå¼€å§‹çš„è¯­â¾”ä¸åŒï¼ŒGo ä»£ç çš„è®¾è®¡æ˜¯åŠ¡å®çš„ã€‚æ¯ä¸ªåŠŸèƒ½å’Œè¯­æ³•å†³ç­–éƒ½æ—¨åœ¨è®©ç¨‹åºå‘˜çš„â½£æ´»æ›´è½»æ¾</li><li>Golang é’ˆå¯¹å¹¶å‘è¿›â¾äº†ä¼˜åŒ–ï¼Œå¹¶ä¸”åœ¨è§„æ¨¡ä¸Šè¿â¾è‰¯å¥½</li><li>ç”±äºå•â¼€çš„æ ‡å‡†ä»£ç æ ¼å¼ï¼ŒGolang é€šå¸¸è¢«è®¤ä¸ºâ½å…¶ä»–è¯­â¾”æ›´å…·å¯è¯»æ€§ã€‚</li><li>â¾ƒåŠ¨åƒåœ¾æ”¶é›†æ˜æ˜¾â½ Java æˆ– Python æ›´æœ‰æ•ˆï¼Œå› ä¸ºå®ƒä¸ç¨‹åºåŒæ—¶æ‰§â¾ã€‚</li></ul><h3 id="golangå¼€å‘æ–°æ‰‹å¸¸çŠ¯çš„50ä¸ªé”™è¯¯" tabindex="-1"><a class="header-anchor" href="#golangå¼€å‘æ–°æ‰‹å¸¸çŠ¯çš„50ä¸ªé”™è¯¯"><span>Golangå¼€å‘æ–°â¼¿å¸¸çŠ¯çš„50ä¸ªé”™è¯¯</span></a></h3><p>åšå®¢åœ°å€ï¼š<a href="https://blog.csdn.net/gezhonglei2007/article/details/52237582" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/gezhonglei2007/article/details/52237582</a></p><h3 id="golang-ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#golang-ä½¿ç”¨ä»€ä¹ˆæ•°æ®ç±»å‹"><span>Golang ä½¿â½¤ä»€ä¹ˆæ•°æ®ç±»å‹ï¼Ÿ</span></a></h3><p>Golang ä½¿â½¤ä»¥ä¸‹ç±»å‹ï¼š</p><ul><li>String</li><li>intã€floatã€double</li><li>Boolean</li><li>Array</li><li>Slice</li><li>Map</li><li>Struct</li><li>Channel</li><li>Pointer</li><li>Method</li><li>Function</li><li>Interface</li></ul><h3 id="go-ç¨‹åºä¸­çš„åŒ…æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#go-ç¨‹åºä¸­çš„åŒ…æ˜¯ä»€ä¹ˆ"><span>Go ç¨‹åºä¸­çš„åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></h3><p>åŒ… ( <strong>pkg</strong> ) æ˜¯ Go â¼¯ä½œåŒºä¸­åŒ…å« Go æºâ½‚ä»¶æˆ–å…¶ä»–åŒ…çš„â½¬å½•ã€‚æºâ½‚ä»¶ä¸­çš„æ¯ä¸ªå‡½æ•°ã€å˜é‡å’Œç±»å‹éƒ½å­˜å‚¨åœ¨é“¾æ¥åŒ…ä¸­ã€‚æ¯ä¸ª Go æºâ½‚ä»¶éƒ½å±äºâ¼€ä¸ªåŒ…ï¼Œè¯¥åŒ…åœ¨â½‚ä»¶é¡¶éƒ¨ä½¿â½¤ä»¥ä¸‹å‘½ä»¤å£°æ˜ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">package</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">packagename</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ‚¨å¯ä»¥ä½¿â½¤ä»¥ä¸‹â½…æ³•å¯¼â¼Šå’Œå¯¼å‡ºåŒ…ä»¥é‡â½¤å¯¼å‡ºçš„å‡½æ•°æˆ–ç±»å‹ï¼š</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">packagename</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="å˜é‡å¤§å°å†™çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#å˜é‡å¤§å°å†™çš„åŒºåˆ«"><span>å˜é‡å¤§å°å†™çš„åŒºåˆ«</span></a></h3><blockquote><p>å˜é‡é¦–å­—æ¯å¤§å†™æ˜¯publicï¼Œå…¨å±€è®¿é—®</p><p>å˜é‡é¦–å­—æ¯å°å†™æ˜¯privateï¼Œåªèƒ½åŒ…å†…è®¿é—®</p></blockquote><p>æ³¨æ„ï¼š</p><p>æˆ‘ä»¬åœ¨å®šä¹‰ç»“æ„ä½“éœ€è¦æ˜ å°„çš„æ—¶å€™å¿…é¡»é¦–å­—æ¯å¤§å†™ï¼Œå¦åˆ™å¾—ä¸åˆ°åå°„ä¿¡æ¯ï¼Œæ— æ³•è½¬ä¸ºæˆ‘ä»¬éœ€è¦çš„ç±»å‹</p><h3 id="goè¯­è¨€ä¸­çš„å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#goè¯­è¨€ä¸­çš„å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹"><span>goè¯­è¨€ä¸­çš„å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹</span></a></h3><blockquote><p>å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åˆ†åˆ«æœ‰å“ªäº›ï¼Œè¿™ä¸ªåœ¨æ‹·è´èµ‹å€¼æœ‰ä¸€ä¸ªæ·±æ‹·è´å’Œæµ…æ‹·è´é—®é¢˜ï¼Œåˆå§‹åŒ–æ–¹å¼å’Œä½¿ç”¨çš„é—®é¢˜ï¼Œæ•°æ®åº•å±‚æ•°æ®ç»“æ„æƒ…å†µï¼Œå†…å­˜åˆ†é…ã€‚å®é™…ä½¿ç”¨æ—¶å€™ä¼šåœ¨newå’Œmakeå‡½æ•°ä¸­éœ€è¦è€ƒè™‘</p></blockquote><h4 id="å€¼ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å€¼ç±»å‹"><span>å€¼ç±»å‹</span></a></h4><p>ä¸€èˆ¬æ˜¯ä¸€äº›<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼Œç„¶å<strong>ä¼ é€’èµ‹å€¼æ˜¯ç›´æ¥æ‹·è´æ•°æ®å³æ·±æ‹·è´</strong>ï¼ŒåŸå¯¹è±¡å’Œæ–°å¯¹è±¡<strong>ä¸æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€</strong>ï¼Œå„è‡ªç‹¬ç«‹</p><p>æœªåˆå§‹åŒ–æ—¶æ€»æœ‰é›¶å€¼ï¼ˆgoé»˜è®¤æä¾›ï¼‰ï¼Œä¸å­˜åœ¨nil</p><h4 id="å¼•ç”¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¼•ç”¨ç±»å‹"><span>å¼•ç”¨ç±»å‹</span></a></h4><p>æ•°æ®ç±»å‹<strong>åº•å±‚çš„è¯éƒ½ä¼šä½¿ç”¨åˆ°æŒ‡é’ˆ</strong>ï¼Œå¦‚åˆ‡ç‰‡ï¼Œmapï¼Œchanç­‰ç­‰ã€‚ä¼ é€’èµ‹å€¼åªæ˜¯<strong>å¤åˆ¶å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰å³æµ…æ‹·è´</strong>ï¼Œ<strong>å…±äº«åº•å±‚æ•°æ®</strong>ï¼Œä¿®æ”¹è¿™ä¸ªä¼šå½±å“å…¶ä»–å¼•ç”¨</p><p>æœªåˆå§‹åŒ–æ—¶ä¸ºnilï¼Œè¡¨ç¤ºæ— æ•ˆå¼•ç”¨ï¼Œéœ€è¦åˆå§‹åŒ–åæ‰èƒ½ä½¿ç”¨</p><table><thead><tr><th style="text-align:center;"><strong>ç‰¹æ€§</strong></th><th style="text-align:left;"><strong>å€¼ç±»å‹</strong></th><th style="text-align:left;"><strong>å¼•ç”¨ç±»å‹</strong></th></tr></thead><tbody><tr><td style="text-align:center;"><strong>èµ‹å€¼æˆ–ä¼ å‚</strong></td><td style="text-align:left;">æ•°æ®å¤åˆ¶ï¼Œå½¼æ­¤ç‹¬ç«‹</td><td style="text-align:left;">å…±äº«åº•å±‚æ•°æ®ï¼Œäº’ç›¸å½±å“</td></tr><tr><td style="text-align:center;"><strong>å†…å­˜åˆ†é…</strong></td><td style="text-align:left;">æ•°æ®å­˜å‚¨åœ¨æ ˆæˆ–å †ä¸Š</td><td style="text-align:left;">å¼•ç”¨å­˜å‚¨åœ¨æ ˆä¸Šï¼Œæ•°æ®å­˜å‚¨åœ¨å †ä¸Š</td></tr><tr><td style="text-align:center;"><strong>å¸¸è§ç±»å‹</strong></td><td style="text-align:left;">åŸºæœ¬ç±»å‹ï¼ˆ<code>int</code>ã€<code>float</code> ç­‰ï¼‰ã€æ•°ç»„ã€ç»“æ„ä½“</td><td style="text-align:left;">åˆ‡ç‰‡ã€æ˜ å°„ã€é€šé“ã€æ¥å£</td></tr></tbody></table><h2 id="é«˜çº§è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#é«˜çº§è¯­æ³•"><span>é«˜çº§è¯­æ³•</span></a></h2><ol><li>å®ä¾‹å¯¹è±¡ä¸­ï¼Œmakeå’Œnewçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>channelä½¿ç”¨éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ</li><li>Mapçš„åº•å±‚å®ç°</li><li>ç¼–ç¨‹é¢˜ä¸­çš„stringçš„ä¸€èˆ¬ç”¨æ³•</li></ol><h3 id="newå’Œmakeæœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#newå’Œmakeæœ‰ä»€ä¹ˆåŒºåˆ«"><span>newå’Œmakeæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h3><h4 id="newå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#newå‡½æ•°"><span>newå‡½æ•°</span></a></h4><p>é€‚ç”¨æ‰€æœ‰ç±»å‹ï¼Œä»…å¯¹æ•°æ®ç±»å‹<strong>åˆ†é…å†…å­˜ç©ºé—´ï¼Œä¸è¿›è¡Œåˆå§‹åŒ–</strong>ï¼›<strong>è¿”å›</strong>è¿™ä¸ªå†…å­˜çš„<strong>æŒ‡é’ˆ</strong>ã€‚</p><p>åŒºåˆ«ï¼šå€¼ç±»å‹goé»˜è®¤æä¾›é›¶å€¼å¯ç›´æ¥ä½¿ç”¨ï¼Œå¼•ç”¨ç±»å‹æ²¡æœ‰åˆå§‹åŒ–è¿”å›çš„æŒ‡é’ˆä¸ºnilä¸èƒ½ç›´æ¥ä½¿ç”¨</p><p>æ³¨æ„ï¼šå¼•ç”¨ç±»å‹ä½¿ç”¨newä¸èƒ½ç›´æ¥ä½¿ç”¨ä¼šæŠ¥é”™</p><h4 id="makeå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#makeå‡½æ•°"><span>makeå‡½æ•°</span></a></h4><p>ä»…ç”¨äºå¼•ç”¨ç±»å‹ï¼Œè¿›è¡Œ<strong>åˆ†é…å†…å­˜å¹¶å®Œæˆåˆå§‹åŒ–</strong>æ“ä½œï¼ˆåˆå§‹åŒ–åº•å±‚æ•°æ®ç»“æ„ï¼‰ï¼Œ<strong>è¿”å›çš„æ˜¯</strong>å¼•ç”¨ç±»å‹çš„<strong>å®ä¾‹</strong></p><p>æ³¨æ„ï¼šå€¼ç±»å‹ä¸èƒ½ä½¿ç”¨makeå‡½æ•°ç¼–è¯‘ä¼šæŠ¥é”™</p><h3 id="å¼•ç”¨ç±»å‹å¦‚åˆ‡ç‰‡-nilåˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡æœ‰ä»€ä¹ˆä¸ä¸€æ ·" tabindex="-1"><a class="header-anchor" href="#å¼•ç”¨ç±»å‹å¦‚åˆ‡ç‰‡-nilåˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡æœ‰ä»€ä¹ˆä¸ä¸€æ ·"><span>å¼•ç”¨ç±»å‹å¦‚åˆ‡ç‰‡ï¼Œnilåˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡æœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ</span></a></h3><p>nilåˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡ä¸¤è€…æŒ‡å‘å†…å­˜åœ°å€æ˜¯ä¸ä¸€æ ·çš„</p><ul><li>nilåˆ‡ç‰‡ï¼šå¼•ç”¨æ•°ç»„çš„æŒ‡é’ˆæ˜¯<strong>nilï¼ˆæ— æŒ‡å‘ä»»ä½•å®é™…åœ°å€ï¼Œä¸å¯ç”¨ï¼‰</strong></li><li>ç©ºåˆ‡ç‰‡ï¼šå¼•ç”¨çš„æ•°ç»„æŒ‡é’ˆåœ°å€æ˜¯æœ‰çš„ï¼Œä¸”æ‰€æœ‰çš„ç©ºåˆ‡ç‰‡æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼ˆç‰¹æ®Šçš„å…±äº«å†…å­˜åœ°å€ï¼‰</li></ul><h3 id="channelçš„ä½¿ç”¨æ³¨æ„" tabindex="-1"><a class="header-anchor" href="#channelçš„ä½¿ç”¨æ³¨æ„"><span>channelçš„ä½¿ç”¨æ³¨æ„</span></a></h3><p>è¯´åˆ°channelå°±éœ€è¦äº†è§£è®¾è®¡å®ƒæ˜¯å¹²å˜›çš„ï¼Ÿæœ‰ä»€ä¹ˆç‰¹æ€§ï¼Ÿ</p><p>goç»å…¸ä¸€å¥è¯ï¼šä¸ç”¨å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œè¦é€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜ã€‚è¿™å¥è¯ä¹Ÿæ„å‘³ç€channelæ˜¯ä¸ºäº†è§£å†³åç¨‹é—´çš„é€šä¿¡é—®é¢˜ï¼Œç±»ä¼¼äºç®¡é“ï¼Œchannelä¹Ÿæ˜¯å¹¶å‘å®‰å…¨çš„ï¼ˆç”±äºå®ƒçš„æ”¶å‘æ•°æ®éƒ½æ˜¯åŸå­æ€§çš„ï¼‰</p><p>ç‰¹æ€§</p><ol><li><p>æ— ç¼“å†²ï¼šå‘é€å’Œæ¥æ”¶æ“ä½œæ˜¯åŒæ­¥çš„ï¼Œä¸¤è€…å¿…é¡»åŒæ­¥è¿›è¡Œ</p></li><li><p>æœ‰ç¼“å†²ï¼šå¯æŒ‡å®šç¼“å†²å¤§å°ã€‚ç¼“å†²æ»¡äº†ï¼Œå‘é€æ“ä½œé˜»å¡ï¼›ç¼“å†²ä¸ºç©ºï¼Œæ¥æ”¶æ“ä½œé˜»å¡</p></li><li><p>ç»™ä¸€ä¸ªnilçš„channelå‘é€æˆ–æ¥æ”¶æ•°æ®ï¼Œéƒ½ä¼šé€ æˆæ°¸ä¹…é˜»å¡ï¼Œè¿›è¡Œå…³é—­æ“ä½œä¼šç›´æ¥panic</p></li><li><p>ç»™å…³é—­çš„channelå‘é€æ•°æ®ï¼Œä¼šå¼•èµ·panic</p></li><li><p>ä»å·²ç»å…³é—­çš„channelè¯»å–æ•°æ®ï¼Œç¼“å†²åŒºä¸ºç©ºè¿”å›ä¸€ä¸ªé›¶å€¼ï¼Œæœ‰å€¼åˆ™æ­£å¸¸è¿”å›</p></li></ol><h3 id="mapçš„å®ç°" tabindex="-1"><a class="header-anchor" href="#mapçš„å®ç°"><span>mapçš„å®ç°</span></a></h3><p>mapåº•å±‚æ˜¯ä¸€ä¸ªæ•£åˆ—è¡¨ï¼Œä¸»è¦æ˜¯ä¸¤ä¸ªç»“æ„ä½“hampå’Œbmap</p><h3 id="å¤„ç†å­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#å¤„ç†å­—ç¬¦ä¸²"><span>å¤„ç†å­—ç¬¦ä¸²</span></a></h3><blockquote><p>é—®é¢˜1ï¼šå­—ç¬¦ä¸²è½¬byteæ•°ç»„ä¼šå‘ç”Ÿå†…å­˜æ‹·è´å—ï¼Ÿ</p><p>é—®é¢˜2ï¼šå¤„ç†å­—ç¬¦ä¸²åŒ…å«ä¸­æ–‡æ€ä¹ˆåŠï¼Ÿ</p></blockquote><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é—®é¢˜1 ï¼šä¸¥æ ¼æ¥è¯´å‘ç”Ÿç±»å‹å¼ºè½¬éƒ½ä¼šå‘ç”Ÿå†…å­˜æ‹·è´ï¼Œä½†æ˜¯é¢‘ç¹å†…å­˜æ‹·è´åˆæœ‰æ€§èƒ½é—®é¢˜--è§£å†³ï¼šä½¿ç”¨unsafeåŒ…è½¬ä¸¤è€…çš„åº•å±‚æ•°æ®ç±»å‹</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// --------------------------------------------------------------------------------------------------</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é—®é¢˜2ï¼šå¤„ç†ä¸­æ–‡éœ€è¦ä½¿ç”¨åˆ° rune å…³é”®å­—ï¼ˆåº•å±‚æ˜¯int32ï¼‰ï¼Œruneè¡¨ç¤ºèŒƒå›´æ›´å¤§</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> reverse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">s</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">rune</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    tem</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">rune</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">len</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  		tem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">tem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 	}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> 	return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tem</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è¿™ä¸ªé—®é¢˜ç›´æ¥for range éå†å­—ç¬¦ä¸²ä¹Ÿæ˜¯è½¬ä¸º[]runeåˆ‡ç‰‡ï¼Œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="åŸç†éƒ¨åˆ†" tabindex="-1"><a class="header-anchor" href="#åŸç†éƒ¨åˆ†"><span>åŸç†éƒ¨åˆ†</span></a></h1><blockquote><p>åƒåœ¾å›æ”¶ï¼ˆCGçš„ä¸‰è‰²æ ‡è®°å’Œè¯»å†™å±éšœï¼‰ã€å¹¶å‘æ¨¡å‹ï¼ˆåç¨‹ã€waitgroupã€contextï¼‰ã€GMPæ¨¡å‹ã€å¸¸ç”¨æ•°æ®ç»“æ„åº•å±‚åŸç†ï¼ˆmapã€sliceï¼‰ã€å¹¶å‘å®‰å…¨ã€é”</p></blockquote><h2 id="_1ã€åç¨‹" tabindex="-1"><a class="header-anchor" href="#_1ã€åç¨‹"><span>1ã€ğŸŒŸåç¨‹</span></a></h2><ol><li>åç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>åç¨‹ä¸çº¿ç¨‹è¿›ç¨‹åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>åç¨‹ä¹‹é—´çš„é€šè®¯æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</li><li>åç¨‹è°ƒåº¦çš„GMPæ¨¡å‹æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</li></ol><h3 id="ä»€ä¹ˆæ˜¯-goroutine-ä½ å¦‚ä½•åœæ­¢å®ƒ" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-goroutine-ä½ å¦‚ä½•åœæ­¢å®ƒ"><span>ä»€ä¹ˆæ˜¯ Goroutineï¼Ÿä½ å¦‚ä½•åœâ½Œå®ƒï¼Ÿ</span></a></h3><p>ä¸€ä¸ªgoroutineæ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•ï¼Œæ˜¯å®ç°å¹¶è¡Œè®¡ç®—çš„æ ¸å¿ƒï¼Œé€šè¿‡å‡½æ•°æ–¹æ³•å‰åŠ <code>go</code>å…³é”®å­—å¯åŠ¨åç¨‹</p><p>åç¨‹æœ‰è‡ªå·±çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆï¼Œåç¨‹è°ƒåº¦åˆ‡æ¢æ˜¯æœ‰runtimeæ§åˆ¶çš„ï¼Œè€Œä¸”åˆ›å»ºå’Œåˆ‡æ¢æˆæœ¬å¾ˆä½</p><p>goroutineå³åç¨‹ æ‹¥æœ‰å¼ºå¤§çš„å¹¶å‘å®ç°æ˜¯é€šè¿‡GMPè°ƒåº¦æ¨¡å‹å®ç°çš„</p><p>éœ€è¦åœæ­¢ä¸€ä¸ªåç¨‹éœ€è¦å‘åç¨‹å‘é€ä¸€ä¸ªä¿¡å·</p><h3 id="åç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#åç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«"><span>åç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ</span></a></h3><ul><li>è°ƒåº¦ <ul><li>çº¿ç¨‹ç”±æ“ä½œç³»ç»Ÿå‚ä¸è°ƒåº¦ï¼ŒæŠ¢å å¼ã€‚</li><li>åç¨‹æ˜¯ç”±goè¿è¡Œæ—¶è°ƒåº¦ï¼Œåä½œå¼</li></ul></li><li>å¼€é”€ <ul><li>çº¿ç¨‹ä¸ç®¡åœ¨å†…å­˜ã€åˆ›å»ºè¿˜æ˜¯è°ƒåº¦ä¸Šé¢å¼€é”€éƒ½æ˜¯å¾ˆå¤§çš„ï¼Œå…¶ä¸­æ ˆçš„å¤§å°é€šå¸¸æ˜¯1MBï¼Œæˆæœ¬æ˜¯å¾ˆé«˜çš„</li><li>åç¨‹åœ¨ä¸Šé¢çš„å¼€é”€å¾ˆä½ï¼Œæ ˆçš„å¤§å°åˆå§‹åªæœ‰2KBï¼Œå¯è½»æ¾å¤„ç†ä¸Šåƒä¸ªåç¨‹ï¼Œç»“åˆGMPè°ƒåº¦æ¨¡å‹ä½¿å¾—å¹¶å‘æ•ˆç‡æ›´é«˜</li></ul></li><li>é€šä¿¡æ–¹å¼ <ul><li>çº¿ç¨‹çš„é€šä¿¡æ–¹å¼æ˜¯é€šè¿‡å…±äº«å†…å­˜</li><li>åç¨‹é€šè¿‡channelè¿›è¡Œé€šä¿¡ï¼Œç®€æ´é«˜æ•ˆ</li></ul></li></ul><p>ç”±äºçº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç†é«˜åº¦ä¾èµ–ä¸æ“ä½œç³»ç»Ÿï¼Œä¸ºæ­¤å¯ç§»æ¤æ€§å·®ï¼Œè€Œåç¨‹æ˜¯ç”±goè¿è¡Œæ—¶ç®¡ç†ï¼Œä¸ºæ­¤goå¼€å‘å°±æ— éœ€å…³ç³»æ“ä½œç³»ç»Ÿå®ç°ï¼Œå¯ç§»æ¤æ€§æ›´å¥½</p><h3 id="gmpæ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#gmpæ¨¡å‹"><span>GMPæ¨¡å‹</span></a></h3><figure><img src="https://gavvy-cloud.oss-cn-shenzhen.aliyuncs.com/web/GMP_modle.png" alt="GMP" tabindex="0" loading="lazy"><figcaption>GMP</figcaption></figure><p>GMPè°ƒåº¦æ¨¡å‹ä¸‰ä¸ªé‡è¦ç»“æ„Gã€Mã€P</p><ul><li>Gï¼šä»£è¡¨ä¸€ä¸ªgoroutine</li><li>Mï¼šä»£è¡¨å†…æ ¸çº§çš„çº¿ç¨‹</li><li>Pï¼šè¿è¡Œæ—¶çš„ä¸€ä¸ªè°ƒåº¦å•ä½ï¼Œç»´æŠ¤ä¸€ä¸ªGçš„æœ¬åœ°é˜Ÿåˆ—ç”¨äºç®¡ç†å’Œåˆ†é…Gåˆ°Mä¸Šè¿è¡Œ</li></ul><h4 id="å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#å·¥ä½œåŸç†"><span>å·¥ä½œåŸç†</span></a></h4><ul><li><p><code>è°ƒåº¦æµç¨‹</code></p><ul><li><p>å½“åˆ›å»ºä¸€ä¸ªGï¼Œä¼šè¢«æ”¾å…¥æŸä¸€ä¸ªPçš„æœ¬åœ°é˜Ÿåˆ—ä¸­ï¼Œæœ¬åœ°é˜Ÿåˆ—æ»¡äº†å°±ä¼šæ”¾å…¥åˆ°å…¨å±€é˜Ÿåˆ—</p></li><li><p>æ¯ä¸€ä¸ªMç»‘å®šä¸€ä¸ªPã€‚Mä¼šä»Pçš„æœ¬åœ°é˜Ÿåˆ—è·å–Gæ¥æ‰§è¡Œ</p></li><li><p>Mæ‰§è¡Œå®ŒGåï¼Œå‘ç°Pçš„æœ¬åœ°é˜Ÿåˆ—ä¸ºç©ºï¼Œä¼˜å…ˆä¼šä»å…¨å±€é˜Ÿåˆ—è·å–å¦åˆ™ä»å…¶ä»–Pçš„æœ¬åœ°é˜Ÿåˆ—çªƒå–ä¸€åŠçš„Gæ¥è¿è¡Œï¼ˆè¿™ç§æœºåˆ¶å«<strong>å·¥ä½œçªƒå–</strong>ï¼Œä¿è¯è´Ÿè½½å‡è¡¡ï¼‰</p></li></ul></li><li><p><code>Pçš„æ•°é‡ä¸Mçš„æ•°é‡</code></p><ul><li>Pçš„æ•°é‡ç”±GOMAXPROCSæ§åˆ¶ï¼Œé»˜è®¤ä¼šæ ¹æ®CPUæ ¸å¿ƒæ•°å†³å®šPå’ŒMçš„æ•°é‡ï¼Œå¯ä»¥æ”¶åˆ°è®¾ç½®runtime.GOMAXPROCS(n)è°ƒèŠ‚å¹¶å‘æ•°é‡ï¼Œæ•°é‡å›ºå®šçš„ï¼ˆæœ€å¤§å¹¶å‘åº¦ï¼‰ï¼Œå¤šä¸ªPæ˜¯ä¸ºäº†æ›´å¥½åˆ©ç”¨å¤šæ ¸CPUçš„æ€§èƒ½</li><li>Mçš„æ•°é‡æ˜¯åŠ¨æ€è°ƒæ•´çš„ï¼Œæ ¹æ®éœ€è¦åŠ¨æ€è°ƒæ•´</li><li>N:M å³ä½¿åªæœ‰å°‘æ•°çš„Mä¾æ—§å¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘ä»»åŠ¡</li></ul></li></ul><p>ä¼˜ç‚¹</p><ol><li>é«˜æ•ˆçš„å¹¶å‘æ¨¡å‹ï¼šåç¨‹+å·¥ä½œçªƒå–ï¼Œæœ€å¤§é™åº¦æé«˜CPUåˆ©ç”¨ç‡ï¼Œé¿å…çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€</li><li>ä½å¼€é”€ï¼šä½¿ç”¨åç¨‹ï¼Œæä½çš„ä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ä½¿å¾—å¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘ä»»åŠ¡</li><li>æ˜“äºä½¿ç”¨ï¼šåç¨‹+channelæä¾›ç®€æ˜“çš„å¹¶å‘æ¨¡å‹</li></ol><p>ä¼˜åŒ–è€ƒè™‘ï¼šæç«¯å¹¶å‘åœºæ™¯è¦åˆç†è®¾ç½®GOMAXPROCSã€åˆç†æ§åˆ¶åç¨‹çš„æ•°é‡</p><h2 id="_2ã€å¹¶å‘" tabindex="-1"><a class="header-anchor" href="#_2ã€å¹¶å‘"><span>2ã€ğŸŒŸå¹¶å‘</span></a></h2><ol><li>å¸¸ç”¨çš„ä¸‰ä¸ªå¹¶å‘æ¨¡å‹æ˜¯å“ªäº›ï¼Ÿ--channelã€waitgroupã€context</li></ol><h3 id="channelé€šçŸ¥-å®ç°å¹¶å‘æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#channelé€šçŸ¥-å®ç°å¹¶å‘æ§åˆ¶"><span>Channelé€šçŸ¥ å®ç°å¹¶å‘æ§åˆ¶</span></a></h3><p>ç‰¹ç‚¹ï¼š</p><ul><li>å¯ä»¥é€šè¿‡æ— ç¼“å†²çš„channel æ§åˆ¶å¹¶å‘é¡ºåº</li><li>å¯ä»¥é€šè¿‡æœ‰ç¼“å†²çš„ channel é™åˆ¶å¹¶å‘ä»»åŠ¡çš„æ•°é‡</li></ul><p>æ— ç¼“å†²é€šé“ä¹Ÿç§°ä¸ºåŒæ­¥é€šé“ï¼Œå‘é€æ–¹çš„åç¨‹å’Œæ¥æ”¶æ–¹çš„åç¨‹å¿…é¡»æ˜¯åŒæ­¥ï¼Œå¯è§£å†³ä¸¤ä¸ªåç¨‹æ‰§è¡Œå…ˆåé¡ºåº</p><h3 id="waitgroup-å®ç°å¹¶å‘æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#waitgroup-å®ç°å¹¶å‘æ§åˆ¶"><span>WaitGroup å®ç°å¹¶å‘æ§åˆ¶</span></a></h3><p>ç‰¹ç‚¹ï¼š</p><ul><li>WaitGroupå¯ç”¨äºç­‰å¾…ä¸€ç»„åç¨‹å®Œæˆä»»åŠ¡</li><li><code>Add</code> å¢åŠ ä»»åŠ¡æ•°é‡ï¼Œ<code>Done</code> è¡¨ç¤ºä»»åŠ¡å®Œæˆï¼Œ<code>Wait</code> é˜»å¡ç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚</li></ul><p>å¯è§£å†³æ§åˆ¶ä¸€ç»„åç¨‹åŒæ—¶å®Œæˆä»»åŠ¡ï¼Œåœ¨æ‰¹é‡ä»»åŠ¡çš„å¤„ç†åº”ç”¨</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¸¾ä¾‹ï¼šäº¤æ›¿æ‰“å°å¥‡å¶æ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> printNum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">nums</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å®šä¹‰ä¸¤ä¸ªä¿¡å·é‡æ§åˆ¶å¾ªåº                       </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    evenCh</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> make</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">chan</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{}) </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    oddCh</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  :=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> make</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">chan</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{})</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å®šä¹‰ä¸€ä¸ªwaitgroupæ§åˆ¶ä¸¤ä¸ªåç¨‹å®Œæˆåä¸€èµ·é€€å‡º</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> wg</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> sync</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">WaitGroup</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    wg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 1ã€å¥‡æ•°åç¨‹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    go</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        defer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> wg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> _</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> nums</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> num</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">                fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å¥‡æ•°åç¨‹ï¼š</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">                evenCh</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;-</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{}{}  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å‘evenChä¼ ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œè®©å¶åç¨‹æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">                &lt;-</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> oddCh</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              // å‘oddCh è¯»å–ï¼Œé˜»å¡åˆ°è¿™é‡ŒçŸ¥é“ï¼Œå¶åç¨‹ä¼ é€’ä¿¡å·è¿‡æ¥</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 2ã€å¶æ•°åç¨‹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    go</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(){</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        defer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> wg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> _</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> range</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> nums</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> num</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">                evenCh</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">                fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å¶æ•°åç¨‹ï¼š</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">                oddCh</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;-</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{}{}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    wg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Wait</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="context" tabindex="-1"><a class="header-anchor" href="#context"><span>Context</span></a></h3><p>ç‰¹ç‚¹ï¼š</p><ul><li><code>context.Context</code> ç”¨äºç®¡ç† goroutines çš„ç”Ÿå‘½å‘¨æœŸï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦å–æ¶ˆæ“ä½œæˆ–ä¼ é€’å…ƒæ•°æ®çš„åœºæ™¯ã€‚</li><li>æä¾›äº†è¶…æ—¶æ§åˆ¶ã€å–æ¶ˆä¿¡å·å’Œä¸Šä¸‹æ–‡æ•°æ®ä¼ é€’åŠŸèƒ½ã€‚</li></ul><p>ä¸Šé¢ä¸¤ä¸ªå¯åº”ç”¨åœ¨å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œä½†æ˜¯åœ¨webå¹¶å‘ä¸‹ä¸å¥½å¤„ç†äº†ï¼ˆæ¯ä¸ªè¯·æ±‚å¼€å¯ä¸€ä¸ªåç¨‹å¤„ç†ï¼Œè¿™ä¸ªåç¨‹å¯èƒ½åˆä¼šå¼€å¯å…¶ä»–åç¨‹ï¼Œå¦‚æ•°æ®åº“æˆ–rpcæœåŠ¡ç­‰ç­‰ï¼‰ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯è·Ÿè¸ªçš„åç¨‹çš„æ–¹æ¡ˆ</p><p>contextä¸Šä¸‹æ–‡å¯ä»¥å¤„ç†å­å­™çš„åç¨‹ï¼Œ</p><img src="https://gavvy-cloud.oss-cn-shenzhen.aliyuncs.com/web/go_context_Struct.png" alt="image-20250102142501297" style="zoom:50%;"><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åœ¨çˆ¶åç¨‹ä¸­åˆ›å»ºä¸€äº›åç¨‹æ—¶å€™åˆ›å»ºä¸€äº›å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// WithValue ä¼ é€’å‚æ•°ï¼šåŸæ¥çš„ä¸Šä¸‹æ–‡é™„åŠ ä¸Šé”®å€¼å¯¹ï¼Œç„¶ååˆ›å»ºæ–°çš„ä¸Šä¸‹æ–‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> WithValue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">parent</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">val</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// WithCancel è®¾ç½®å–æ¶ˆä¿¡å·</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> WithCancel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">parent</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">ctx</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">cancel</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> CancelFunc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// WithDeadline è®¾ç½®cancelæ—¶é—´ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> WithDeadline</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">parent</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">d</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">CancelFunc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// WithTimeout è®¾ç½®è¶…æ—¶æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> WithTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">parent</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">timeout</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Duration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">CancelFunc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Context çš„ä¸€äº›æ¥å£ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬åœ¨å­åç¨‹ä¼šæ ¹æ®ä¸Šä¸‹æ–‡è°ƒç”¨çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Context</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> interface</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		// Deadline è®¾ç½®context cancelçš„æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		Deadline</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">deadline</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">ok</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		// Done å…³é—­æˆ–è€…è¶…æ—¶ï¼Œchannelä¼šæœ‰ä¸€ä¸ªå–æ¶ˆä¿¡å·</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		Done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;-</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">chan</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		// Err æ‰§è¡Œdoneæ–¹æ³•åè¿”å›ä¸€ä¸ªå–æ¶ˆåŸå› </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		Err</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">error</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		// Value ä¸Šä¸‹æ–‡å¯¹è±¡æºå¸¦å¹¶å‘å®‰å…¨çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		Value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å…¶ä»–æ¡†æ¶ä¸­çš„contextï¼ˆå¦‚ginä¼šè‡ªå·±å®ç°ä¸€ä¸ªåŠŸèƒ½æ›´å¼ºå¤§çš„contexï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">æ¯”å¦‚ä¼ é€’å‚æ•°ä¼šä½¿ç”¨é”</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">mapå®ç°å­˜å‚¨å¹¶ä¼ é€’å‚æ•°åˆ°å­åç¨‹ä¸­å»ä½¿ç”¨</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3ã€å†…å­˜" tabindex="-1"><a class="header-anchor" href="#_3ã€å†…å­˜"><span>3ã€â­å†…å­˜</span></a></h2><ol><li>å†…å­˜é€ƒé€¸æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆé¿å…å†…å­˜é€ƒé€¸ï¼Ÿ</li><li>åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿï¼ˆä¸‰è‰²æ ‡è®°æ³•ï¼‰</li><li>æ€§èƒ½åˆ†æ</li><li>å†…å­˜å¯¹é½</li></ol><h3 id="å†…å­˜é€ƒé€¸æ˜¯ä»€ä¹ˆ-ä¼šæœ‰ä»€ä¹ˆå½±å“" tabindex="-1"><a class="header-anchor" href="#å†…å­˜é€ƒé€¸æ˜¯ä»€ä¹ˆ-ä¼šæœ‰ä»€ä¹ˆå½±å“"><span>å†…å­˜é€ƒé€¸æ˜¯ä»€ä¹ˆï¼Ÿä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ</span></a></h3><p>å†…å­˜é€ƒé€¸æ˜¯æŒ‡ï¼šå˜é‡æˆ–è€…å¯¹è±¡è¶…å‡ºäº†åŸæœ¬çš„èŒƒå›´å†…ï¼Œå¯¼è‡´å®ƒè¢«åˆ†é…åœ¨å †å†…å­˜ä¸Šäº†ï¼Œåé¢ç”±GCè´Ÿè´£å›æ”¶</p><p>æ­£å¸¸çš„å±€éƒ¨å˜é‡æ˜¯åˆ†é…åœ¨æ ˆå†…å­˜ï¼Œå˜é‡ä¼šéšç€å‡½æ•°æ‰§è¡Œç»“æŸåé‡Šæ”¾å†…å­˜</p><p><strong>å†…å­˜é€ƒé€¸åœºæ™¯</strong></p><ol><li><p><strong>å˜é‡çš„åœ°å€è¢«è¿”å›æˆ–è€…ä¼ é€’åˆ°å¤–éƒ¨å‡½æ•°</strong></p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> createSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    s</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// s æ˜¯å±€éƒ¨å˜é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> s</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              // s çš„åœ°å€è¢«è¿”å›ï¼Œç”Ÿå‘½å‘¨æœŸè¶…å‡ºäº†å½“å‰å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>åœ¨é—­åŒ…åœºæ™¯ä¸‹</strong></p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> f</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        x</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // x æ˜¯å±€éƒ¨å˜é‡</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        f</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">return</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é—­åŒ…å¼•ç”¨äº† x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">())  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// x çš„ç”Ÿå‘½å‘¨æœŸè¶…å‡ºäº†å®ƒæ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œå› æ­¤éœ€è¦é€ƒé€¸åˆ°å †</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆ‡ç‰‡æˆ–mapä½œä¸ºå‡½æ•°å‚æ•°</p></li></ol><p>å†…å­˜é€ƒé€¸è®©å˜é‡æˆ–å¯¹è±¡ä»æ ˆå†…å­˜å˜æˆå †å†…å­˜ï¼Œä¼šå¯¼è‡´GCçš„å‹åŠ›å¢åŠ ï¼Œé™ä½æ€§èƒ½ï¼Œå¦‚æ˜¯å¤§é‡çš„GCä¼šå¯¼è‡´CPUæ¯›åˆºï¼ˆç¬é—´é£™å‡å¾ˆé«˜ï¼‰</p><h3 id="æ€ä¹ˆåˆ†æå†…å­˜é€ƒé€¸-ä»¥åŠä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æ€ä¹ˆåˆ†æå†…å­˜é€ƒé€¸-ä»¥åŠä¼˜åŒ–"><span>æ€ä¹ˆåˆ†æå†…å­˜é€ƒé€¸ï¼Ÿä»¥åŠä¼˜åŒ–</span></a></h3><p>Goç¼–è¯‘å™¨æœ‰å†…åˆ¶åŠ¨é¢é€ƒé€¸åˆ†æå™¨ï¼Œä½¿ç”¨å‘½ä»¤è¿›è¡Œé€ƒé€¸åˆ†æï¼š<code>go run -gcflags=-m file.go</code>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ‰§è¡Œå¹¶æ ‡è®°å“ªäº›å˜é‡éœ€è¦é€ƒé€¸åˆ°å †ä¸Šï¼Œè¿™ä¸ªå‘½ä»¤ä¼šç»™å‡ºé€ƒé€¸åˆ†ææŠ¥å‘Š</p><p><strong>æ€ä¹ˆæ‰èƒ½é¿å…å‘¢ï¼Ÿ</strong></p><p>æœ¬è´¨å°±æ˜¯ï¼šå°½é‡å°†å˜é‡åˆ†é…åˆ°æ ˆä¸Š</p><ol><li><p>å°½é‡é¿å…è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€</p></li><li><p>å‡½æ•°ä¼ å‚ï¼šä¼ å€¼ä¼šæ‹·è´æ•´ä¸ªå¯¹è±¡ï¼Œä¼ æŒ‡é’ˆåªä¼šæ‹·è´æŒ‡é’ˆåœ°å€ï¼Œå¯å‡å°‘å€¼æ‹·è´ï¼Œä½†æ˜¯ä¼šå¯¼è‡´å†…å­˜é€ƒé€¸ï¼Œå¢åŠ GCçš„å‹åŠ›<br> ç‰¹åˆ«æ˜¯åœ¨å¯¹è±¡é¢‘ç¹åˆ›å»ºå’Œåˆ é™¤çš„åœºæ™¯ä¸‹ï¼Œä¼ é€’æŒ‡é’ˆä¼šå¯¼è‡´GCå¼€é”€ä¸¥é‡å½±å“æ€§èƒ½ï¼Œ</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéœ€è¦ä¿®æ”¹å¯¹è±¡å€¼ï¼Œæˆ–è€…å ç”¨å†…å­˜è¾ƒå¤§çš„ç»“æ„ä½“ï¼Œé€‰æ‹©ä¼ æŒ‡é’ˆã€‚å¯¹äºåªè¯»çš„å ç”¨å†…å­˜å°çš„ç»“æ„ä½“ç›´æ¥ä¼ å€¼ä¼šæ›´å¥½</p></li></ol><h3 id="gcåŸç†-ä¸‰è‰²æ ‡è®°-å¢é‡å¼æ ‡è®°æ¸…é™¤" tabindex="-1"><a class="header-anchor" href="#gcåŸç†-ä¸‰è‰²æ ‡è®°-å¢é‡å¼æ ‡è®°æ¸…é™¤"><span>GCåŸç†--ä¸‰è‰²æ ‡è®°+å¢é‡å¼æ ‡è®°æ¸…é™¤</span></a></h3><h4 id="ä¸‰è‰²æ ‡è®°" tabindex="-1"><a class="header-anchor" href="#ä¸‰è‰²æ ‡è®°"><span>ä¸‰è‰²æ ‡è®°</span></a></h4><blockquote><p>å¤§è‡´çš„è¿‡ç¨‹ï¼šé¦–å…ˆå°†æ‰€æœ‰çš„å¯¹è±¡æ”¾å…¥ç™½è‰²é›†åˆã€‚</p><p>1ã€ä»æ ¹èŠ‚ç‚¹éå†å¯¹è±¡ï¼Œéå†åˆ°çš„æ”¾å…¥åˆ°ç°è‰²é›†åˆã€‚ï¼ˆæœ€ç»ˆæ˜¯è¿›å…¥é»‘è‰²ï¼Œæš‚æ—¶æ”¾å…¥é»‘è‰²æ˜¯ä¸ºäº†æŸ¥å®ƒæ‰€æœ‰å¼•ç”¨çš„å¯¹è±¡ï¼‰</p><p>2ã€éå†ç°è‰²é›†åˆçš„å¯¹è±¡æ‰€å¼•ç”¨åˆ°çš„ç™½è‰²å¯¹è±¡æ”¾å…¥åˆ°ç°è‰²ï¼Œç„¶åå°†éå†è¿‡çš„ç°è‰²å¯¹è±¡æ”¾å…¥é»‘è‰²å¯¹è±¡</p><p>3ã€å¾ªç¯æ­¥éª¤2ï¼Œç›´åˆ°ç°è‰²é›†åˆä¸ºç©º</p><p>ç»“æŸï¼šå‰©ä¸‹çš„ç™½è‰²å°±æ˜¯åƒåœ¾ï¼Œè¿›è¡Œå›æ”¶</p></blockquote><p>ç™½è‰²ï¼šä¸å¯è¾¾å³åƒåœ¾</p><p>ç°è‰²ï¼šå¯èƒ½æ˜¯åƒåœ¾</p><p>é»‘è‰²ï¼šä¸æ˜¯åƒåœ¾</p><h4 id="å¹¶å‘æ ‡è®°ä¸å¢é‡å¼æ ‡è®°" tabindex="-1"><a class="header-anchor" href="#å¹¶å‘æ ‡è®°ä¸å¢é‡å¼æ ‡è®°"><span>å¹¶å‘æ ‡è®°ä¸å¢é‡å¼æ ‡è®°</span></a></h4><p>æ ‡è®°å’Œåº”ç”¨ç¨‹åºçš„æ‰§è¡Œæ˜¯å¹¶è¡Œæ‰§è¡Œçš„ï¼Œæœ‰ç‚¹å‡å°‘åœé¡¿æ—¶é—´ï¼Œæ ‡è®°å·¥ä½œåˆ†æˆå¤šä¸ªå°çš„å¢é‡ä»»åŠ¡é¿å…é•¿æ—¶é—´é˜»å¡</p><p>è™½ç„¶æ˜¯é€šè¿‡å¹¶å‘æ–¹å¼ä½†æ˜¯ä»»ç„¶éœ€è¦stwæ¥æš‚åœç¨‹åºçš„æ‰§è¡Œä¿è¯æ ‡è®°çš„æ­£ç¡®æ€§</p><h4 id="åˆ†ä»£æ”¶é›†" tabindex="-1"><a class="header-anchor" href="#åˆ†ä»£æ”¶é›†"><span>åˆ†ä»£æ”¶é›†</span></a></h4><p>Goçš„åƒåœ¾å›æ”¶å™¨é€šè¿‡åˆ†ä»£æ”¶é›†æ¥ä¼˜åŒ–å›æ”¶è¿‡ç¨‹</p><p>å¯¹äºå¹´è½»ä»£ï¼Œæ–°åˆ†é…çš„å¯¹è±¡ï¼Œè¿™äº›ä¸€èˆ¬å­˜æ´»æ—¶é—´çŸ­ï¼Œæ›´å¯èƒ½æ˜¯åƒåœ¾</p><p>å¯¹äºè€å¹´ä»£ï¼Œå·²ç»å­˜æ´»ä¸€æ®µæ—¶é—´çš„å¯¹è±¡ï¼Œæ›´å¯èƒ½é•¿æ—¶é—´å­˜åœ¨</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>GCçš„æ§åˆ¶æ–¹å¼<br> è¢«åŠ¨ï¼šç¯å¢ƒå˜é‡GOGCæ§åˆ¶ï¼Œå½“æ ˆå†…å­˜å¢é•¿åˆ°è§¦å‘çš„é˜ˆå€¼ï¼Œå°±ä¼šè§¦å‘ï¼ŒGOGCè¡¨ç¤ºè§¦å‘é¢‘ç‡</p><p>ä¸»åŠ¨ï¼šå¯ä»£ç ä¸Šæ‰‹åŠ¨è§¦å‘runtime.GC() ï¼Œä½†æ˜¯è¿™æ ·åšæ³•ä¸æ¨èã€‚ ï¼ˆruntime.ReadMemStats()å¯è·å–å†…å­˜ä½¿ç”¨å’ŒGCç›¸å…³ä¿¡æ¯ï¼‰</p></div><h3 id="å†…å­˜å¯¹é½" tabindex="-1"><a class="header-anchor" href="#å†…å­˜å¯¹é½"><span>å†…å­˜å¯¹é½</span></a></h3><blockquote><p>goç¼–è¯‘ä¼šè‡ªåŠ¨å†…å­˜å¯¹é½ï¼Œä¸ºæ­¤ç»“æ„ä½“ç±»å‹éœ€è¦æ³¨æ„å†…å­˜å¯¹é½ï¼Œåˆç†çš„é¡ºåºå¯å‡å°‘å†…å­˜æµªè´¹</p></blockquote><p><strong>CPUè®¿é—®å†…å­˜æ—¶ï¼Œå¹¶ä¸æ˜¯é€å­—èŠ‚è®¿é—®ï¼Œè€Œæ˜¯ä»¥æœºå™¨å­—é•¿ä¸ºå•ä½è®¿é—®ã€‚</strong>ï¼ˆå¦‚64ä½çš„CPUä¸€æ¬¡éƒ½æ˜¯è¯»å–8å­—èŠ‚ï¼Œè¿˜æœ‰æ²¡æœ‰å¯¹é½å¯èƒ½ä¼šè§¦å‘æ€»çº¿é”™è¯¯ï¼‰å†…å­˜å¯¹é½å¯ä»¥æé«˜å†…å­˜è¯»å†™æ€§èƒ½ï¼Œä¹Ÿæ–¹ä¾¿å®ç°åŸå­æ€§æ“ä½œï¼ˆç±»å‹è‹¥æ˜¯è¢«æ‹†å¼€å°±éœ€è¦å¤šæ¬¡è¯»å†™ï¼‰</p><p>Goç¼–è¯‘å™¨ä¼š<strong>è‡ªåŠ¨æ ¹æ®è§„åˆ™è¿›è¡Œå†…å­˜å¯¹é½ä½†ä¸è¿›è¡Œä¼˜åŒ–</strong>ï¼ˆå³ä¸æ”¹å˜é¡ºåºï¼‰ï¼Œä¸ºæ­¤æˆ‘ä»¬åªè¦äº†è§£è§„åˆ™è¿›è¡Œåˆç†å®‰æ’ç±»å‹çš„é¡ºåºå³å¯</p><p>åˆé€‚çš„å†…å­˜å¯¹é½å¯ä»¥æé«˜å†…å­˜è®¿é—®æ•ˆç‡ï¼Œå‡å°‘ç¨‹åºè¿è¡Œæ—¶é—´ã€‚goç¼–è¯‘æ—¶å€™ä¼šè‡ªåŠ¨å¤„ç†å†…å­˜å¯¹é½</p><p>å¯¹é½è§„åˆ™ï¼ˆæ’å…¥å¡«å……å­—èŠ‚å®ç°ç©ºé—´æ¢æ—¶é—´ï¼‰ï¼š</p><ul><li><p>å¯¹é½è§„åˆ™ï¼šGoä¼šæ ¹æ®æ¯ä¸ªç±»å‹å¤§å°ç¡®å®šå¯¹é½æ–¹å¼ï¼ˆå¤§å°çš„å€æ•°ï¼‰</p><p><code>bool</code>ï¼š1å­—èŠ‚</p><p><code>int Nã€uint Nã€float N</code>ï¼šé€šå¸¸æŒ‰ç…§ N/8 å­—èŠ‚å¯¹é½</p><p><code>intã€mapã€chanã€funcã€*T</code>ï¼š1å­—ï¼ˆæ ¹æ®<strong>æœºå™¨å­—é•¿</strong>ï¼‰</p><p><code>string</code>ï¼š2å­—ï¼ˆæ•°æ®é•¿åº¦ï¼‰</p><p><code>[]T</code>:3å­—ï¼ˆæ•°æ®ã€é•¿åº¦ã€å®¹é‡ï¼‰</p><p><code>interface</code>:2å­—ï¼ˆç±»å‹ã€å€¼ï¼‰</p></li><li><p>æ ¹æ®å®é™…æœºå™¨å­—é•¿åˆ¤æ–­ï¼š32ä½æœ€å¤§æ˜¯4å­—èŠ‚ã€64ä½æ˜¯8å­—èŠ‚</p></li></ul><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¸è¿›è¡Œåˆç†æ’åºï¼šå ç”¨ 32 ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> person</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	hasMoney</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bool</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   // 1 ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     string</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 16 ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	age</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      int16</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 2 ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è¿›è¡Œåˆç†çš„æ’åºï¼šå ç”¨24å­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> person</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> struct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     string</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 16 ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	age</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      int16</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 2 ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	hasMoney</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bool</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   // 1 ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4ã€é”" tabindex="-1"><a class="header-anchor" href="#_4ã€é”"><span>4ã€é”</span></a></h2><ol><li>äº’æ–¥é”</li><li>è¯»å†™é”</li><li>sync.mapçš„å®‰å…¨é”</li></ol><h3 id="äº’æ–¥é”" tabindex="-1"><a class="header-anchor" href="#äº’æ–¥é”"><span>äº’æ–¥é”</span></a></h3><p>åœ¨Goå¹¶å‘ç¨‹åºå¯¹å…±äº«èµ„æºè¿›è¡Œæ§åˆ¶è®¿é—®çš„æ‰‹æ®µï¼Œå¦‚å¹¶å‘æ“ä½œéå¹¶å‘å®‰å…¨çš„mapå°±è¦ç”¨mutexåŠ é”</p><p>ç”¨æ³•ä¹Ÿç®€å•ï¼Œåªæä¾›ä¸¤ä¸ªæ–¹æ³•ï¼šåŠ é”ï¼ˆLockï¼‰å’Œè§£é”ï¼ˆUnlockï¼‰</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 1ã€å£°æ˜ä¸€ä¸ªäº’æ–¥é”</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> mu</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> sync</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Mutex</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	m</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> make</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> wg</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> sync</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">WaitGroup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> j</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">		wg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">		go</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">			defer</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				wg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">			}()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">			</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">			mu</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()     </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å†™å…¥å‰åŠ é”</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">			m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å¯¹ Map è¿›è¡Œå¹¶å‘å†™å…¥</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">			mu</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Unlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å†™å…¥å®Œæˆè§£é”</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">		}(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	wg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Wait</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Map size = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">len</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¯»å†™é”" tabindex="-1"><a class="header-anchor" href="#è¯»å†™é”"><span>è¯»å†™é”</span></a></h3><p>è¯»å†™é”æ˜¯é’ˆå¯¹è¯»å†™æ“ä½œçš„äº’æ–¥é”ã€‚</p><p>ç‰¹æ€§åŠæ³¨æ„ï¼š</p><ol><li>æŒæœ‰é”ï¼šç”±<strong>ä»»æ„æ•°é‡çš„è¯»æ“ä½œæˆ–è€…å•ä¸ªå†™æ“ä½œ</strong></li><li>å”¤é†’æ“ä½œï¼šUnlockï¼ˆå†™è§£é”ï¼‰æ–¹æ³•ä¼šå”¤é†’<strong>æ‰€æœ‰è¦è¿›è¡Œè¯»</strong>è€Œè¢«é”å®šçš„åç¨‹ï¼›è€ŒRUnlockï¼ˆè¯»è§£é”ï¼‰æ–¹æ³•<strong>åªä¼šåœ¨æ²¡æœ‰ä»»ä½•è¯»é”çš„æƒ…å†µä¸‹å”¤é†’ä¸€ä¸ªæƒ³è¦å†™æ“ä½œ</strong>è€Œè¢«é˜»å¡çš„åç¨‹</li><li>è§£é”ï¼šå¤šè¯»æ“ä½œæ˜¯ä¸äº’æ–¥çš„ï¼Œä¸ºæ­¤è·å¾—å¤šå°‘è¯»é”ï¼Œå°±è¦ç­‰é‡ç»™å¤šå°‘ä¸ªè¯»è§£é”ï¼Œå¦åˆ™å…¶ä»–å†™æ“ä½œå°±æ— æ³•è·å¾—è¯»å†™é”äº†</li></ol><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">func</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    var</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> rwm</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> sync</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">RWMutex</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> :=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">		go</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">i</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å½“å‰æ˜¯ç¬¬</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ä¸ªåç¨‹ &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				rwm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">RLock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;è·å¾—è¯»é”çš„ç´¢å¼•æ˜¯</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Second</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// --ä¼‘çœ 2ç§’</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;è¿›è¡Œè¯»è§£é”çš„ç´¢å¼•æ˜¯</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				rwm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">RUnlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">				fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Printf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;é”ï¼š</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å·²ç»é‡Šæ”¾ &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">			}(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Second</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;è¯•å›¾è·å–å†™é”è¿›è¡Œï¼Œå†™æ“ä½œ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	rwm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	fmt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;è§£é”&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sync-mapçš„å®‰å…¨é”" tabindex="-1"><a class="header-anchor" href="#sync-mapçš„å®‰å…¨é”"><span>sync.mapçš„å®‰å…¨é”</span></a></h3><p>sync.mapå†…éƒ¨ä¸ç›´æ¥ä½¿ç”¨mapç»“æ„ï¼Œè€Œæ˜¯è¿›è¡Œ<strong>è¯»å†™åˆ†ç¦»</strong>ä¼˜åŒ–åçš„è§£å†³æ–¹æ¡ˆï¼šåˆ†ä¸ºä¸¤éƒ¨åˆ†çš„å­˜å‚¨ç»“æ„</p><ul><li>åªè¯»çš„å­˜å‚¨åŒºåŸŸ</li><li>å¸¦é”çš„å†™å…¥åŒºåŸŸ</li></ul><p>å¥½å¤„ï¼šé«˜å¹¶å‘æ¡ä»¶ä¸‹ï¼Œå¤§å¤šæ•°è¯»æ“ä½œæ˜¯æ— é”çš„ï¼Œåªæœ‰å†™å…¥æ“ä½œæ‰ä¼šè¿›è¡ŒåŠ é”ï¼ˆç®—æ˜¯è¯»å†™é”çš„åº”ç”¨å§ï¼‰å‡å°‘é”çš„äº‰ç”¨æé«˜å¹¶å‘</p><p>ä½¿ç”¨ï¼šsync.mapæ˜¯å¼€ç®±å³ç”¨çš„ï¼Œç›´æ¥å¯¹å¤–æä¾›å¯¹åº”çš„æ“ä½œ</p><ol><li><code>Store(key, value)</code>ï¼šå°† k å’Œ v å­˜å‚¨åˆ° <code>sync.Map</code> ä¸­</li><li><code>Load(key)</code>ï¼šè¯»å–æŒ‡å®škçš„å€¼ï¼Œæœ‰åˆ™è¿”å›å€¼å’Œtrueï¼Œæ²¡æœ‰åˆ™è¿”å›é›¶å€¼å’Œfalse</li><li><code>LoadOrStore(key, value)</code>ï¼šå­˜åœ¨å°±è¿”å›å€¼å³å¯ï¼Œä¸å­˜åœ¨å°±å­˜å‚¨k-vå¹¶è¿”å›valueå€¼</li><li><code>Delete(key)</code>ï¼šåˆ é™¤æŒ‡å®šçš„keyè¿™é¡¹</li><li><code>Range(f func(key, value interface{}) bool)</code>ï¼šéå†æ‰€æœ‰çš„é”®å€¼å¯¹</li></ol><h2 id="_5ã€é€šè®¯" tabindex="-1"><a class="header-anchor" href="#_5ã€é€šè®¯"><span>5ã€é€šè®¯</span></a></h2><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>Goåç«¯å¼€å‘ä¸­æœåŠ¡é—´é€šä¿¡åè®®é€‰å‹ï¼šHTTP vs gRPC</p></div><h3 id="ä¸€ã€æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”"><span>ä¸€ã€æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”</span></a></h3><table><thead><tr><th style="text-align:center;">ç‰¹æ€§</th><th style="text-align:center;">HTTPï¼ˆRESTful APIï¼‰</th><th style="text-align:center;">gRPC</th></tr></thead><tbody><tr><td style="text-align:center;">åè®®åŸºç¡€</td><td style="text-align:center;">HTTP/1.1ï¼ˆä¸»æµï¼‰æˆ– HTTP/2</td><td style="text-align:center;">åŸºäºHTTP/2åè®®</td></tr><tr><td style="text-align:center;">æ•°æ®åºåˆ—åŒ–</td><td style="text-align:center;">JSON/XMLï¼ˆæ–‡æœ¬æ ¼å¼ï¼‰</td><td style="text-align:center;">Protocol Buffersï¼ˆäºŒè¿›åˆ¶æ ¼å¼ï¼‰</td></tr><tr><td style="text-align:center;">æ¥å£å®šä¹‰</td><td style="text-align:center;">æ— å¼ºåˆ¶è§„èŒƒï¼ˆOpenAPI/Swaggerå¯é€‰ï¼‰</td><td style="text-align:center;">å¼ºåˆ¶.protoæ–‡ä»¶å®šä¹‰</td></tr><tr><td style="text-align:center;">é€šä¿¡æ¨¡å¼</td><td style="text-align:center;">è¯·æ±‚-å“åº”</td><td style="text-align:center;">æ”¯æŒUnary/Server Streaming/Client Streaming/Bidirectional Streaming</td></tr><tr><td style="text-align:center;">æ€§èƒ½</td><td style="text-align:center;">ä¸­ç­‰ï¼ˆæ–‡æœ¬è§£æå¼€é”€ï¼‰</td><td style="text-align:center;">é«˜æ•ˆï¼ˆäºŒè¿›åˆ¶ç¼–ç +å¤´éƒ¨å‹ç¼©ï¼‰</td></tr><tr><td style="text-align:center;">æµè§ˆå™¨æ”¯æŒ</td><td style="text-align:center;">åŸç”Ÿæ”¯æŒ</td><td style="text-align:center;">éœ€gRPC-Webä»£ç†</td></tr><tr><td style="text-align:center;">ä»£ç ç”Ÿæˆ</td><td style="text-align:center;">æ‰‹åŠ¨/ç¬¬ä¸‰æ–¹å·¥å…·ç”Ÿæˆå®¢æˆ·ç«¯</td><td style="text-align:center;">è‡ªåŠ¨ç”Ÿæˆå¼ºç±»å‹å®¢æˆ·ç«¯/æœåŠ¡ç«¯ä»£ç </td></tr></tbody></table><h3 id="äºŒã€æŠ€æœ¯ç‰¹æ€§æ·±åº¦è§£æ" tabindex="-1"><a class="header-anchor" href="#äºŒã€æŠ€æœ¯ç‰¹æ€§æ·±åº¦è§£æ"><span>äºŒã€æŠ€æœ¯ç‰¹æ€§æ·±åº¦è§£æ</span></a></h3><h4 id="_1-åè®®å±‚å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_1-åè®®å±‚å·®å¼‚"><span>1. åè®®å±‚å·®å¼‚</span></a></h4><ul><li><strong>HTTP/1.1</strong>ï¼š <ul><li>æ–‡æœ¬åè®®ï¼Œå¯è¯»æ€§å¥½</li><li>å­˜åœ¨é˜Ÿå¤´é˜»å¡é—®é¢˜</li><li>æ— çŠ¶æ€åè®®ï¼Œæ¯æ¬¡è¯·æ±‚ç‹¬ç«‹</li><li>æ”¯æŒå¹¿æ³›ç¼“å­˜æœºåˆ¶ï¼ˆETag, Last-Modifiedï¼‰</li></ul></li><li><strong>HTTP/2ï¼ˆgRPCåŸºç¡€ï¼‰</strong>ï¼š <ul><li>äºŒè¿›åˆ¶åˆ†å¸§ä¼ è¾“</li><li>å¤šè·¯å¤ç”¨ï¼ˆè§£å†³é˜Ÿå¤´é˜»å¡ï¼‰</li><li>å¤´éƒ¨å‹ç¼©ï¼ˆHPACKç®—æ³•ï¼‰</li><li>æœåŠ¡ç«¯æ¨é€èƒ½åŠ›</li></ul></li></ul><h4 id="_2-åºåˆ—åŒ–æ•ˆç‡å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#_2-åºåˆ—åŒ–æ•ˆç‡å¯¹æ¯”"><span>2. åºåˆ—åŒ–æ•ˆç‡å¯¹æ¯”</span></a></h4><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" data-title="go" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Protobufç»“æ„å®šä¹‰ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  int32</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  string</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  string</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> email</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åŒç­‰æ•°æ®é‡çš„JSONè¡¨ç¤º</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;John Doe&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;email&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;john@example.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ProtobufäºŒè¿›åˆ¶ç¼–ç ä½“ç§¯æ¯”JSONå°3-10å€</li><li>åºåˆ—åŒ–/ååºåˆ—åŒ–é€Ÿåº¦æ¯”JSONå¿«5-100å€ï¼ˆå–å†³äºæ•°æ®å¤æ‚åº¦ï¼‰</li></ul><h4 id="_3-æµå¼é€šä¿¡èƒ½åŠ›" tabindex="-1"><a class="header-anchor" href="#_3-æµå¼é€šä¿¡èƒ½åŠ›"><span>3. æµå¼é€šä¿¡èƒ½åŠ›</span></a></h4><p>gRPCç‰¹æœ‰çš„å››ç§æ¨¡å¼ï¼š</p><ol><li><strong>Unary RPC</strong>ï¼šä¼ ç»Ÿè¯·æ±‚-å“åº”æ¨¡å¼</li><li><strong>Server Streaming</strong>ï¼šæœåŠ¡ç«¯æ¨é€æ•°æ®æµ</li><li><strong>Client Streaming</strong>ï¼šå®¢æˆ·ç«¯å‘é€æ•°æ®æµ</li><li><strong>Bidirectional Streaming</strong>ï¼šåŒå‘å®æ—¶æ•°æ®æµ</li></ol><p>å…¸å‹åº”ç”¨åœºæ™¯ï¼š</p><ul><li>å®æ—¶ç›‘æ§ç³»ç»Ÿï¼ˆæœåŠ¡å™¨æŒ‡æ ‡æ¨é€ï¼‰</li><li>å¤§è§„æ¨¡æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½</li><li>èŠå¤©åº”ç”¨ï¼ˆåŒå‘æ¶ˆæ¯æµï¼‰</li></ul><h3 id="ä¸‰ã€æ ¸å¿ƒä¼˜ç¼ºç‚¹åˆ†æ" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ ¸å¿ƒä¼˜ç¼ºç‚¹åˆ†æ"><span>ä¸‰ã€æ ¸å¿ƒä¼˜ç¼ºç‚¹åˆ†æ</span></a></h3><h4 id="http-restful-api" tabindex="-1"><a class="header-anchor" href="#http-restful-api"><span>HTTPï¼ˆRESTful APIï¼‰</span></a></h4><p><strong>ä¼˜åŠ¿ï¼š</strong></p><ul><li>é€šç”¨æ€§å¼ºï¼šæµè§ˆå™¨ç›´æ¥æ”¯æŒï¼Œé€‚åˆå¯¹å¤–API</li><li>è°ƒè¯•æ–¹ä¾¿ï¼šcurl/postmanç›´æ¥æµ‹è¯•</li><li>ç”Ÿæ€æˆç†Ÿï¼šCDNç¼“å­˜ã€APIç½‘å…³æ”¯æŒå®Œå–„</li><li>æ¸è¿›å¼æ¼”è¿›ï¼šAPIç‰ˆæœ¬æ§åˆ¶çµæ´»</li></ul><p><strong>åŠ£åŠ¿ï¼š</strong></p><ul><li>æ€§èƒ½ç“¶é¢ˆï¼šæ–‡æœ¬è§£ææ¶ˆè€—èµ„æº</li><li>å¼±ç±»å‹æ¥å£ï¼šå®¹æ˜“äº§ç”Ÿéšå¼å¥‘çº¦</li><li>å®æ—¶æ€§å·®ï¼šæ— æ³•æ”¯æŒå¤æ‚æµå¼äº¤äº’</li></ul><h4 id="grpc" tabindex="-1"><a class="header-anchor" href="#grpc"><span>gRPC</span></a></h4><p><strong>ä¼˜åŠ¿ï¼š</strong></p><ul><li>é«˜æ€§èƒ½ä¼ è¾“ï¼šäºŒè¿›åˆ¶ç¼–ç +HTTP/2ç‰¹æ€§</li><li>å¼ºç±»å‹å¥‘çº¦ï¼šprotoæ–‡ä»¶å³æ–‡æ¡£</li><li>å¤šè¯­è¨€æ”¯æŒï¼šè‡ªåŠ¨ç”Ÿæˆè·¨è¯­è¨€å®¢æˆ·ç«¯</li><li>å†…ç½®èƒ½åŠ›ï¼šæˆªæ­¢æ—¶é—´/å…ƒæ•°æ®/æ‹¦æˆªå™¨</li></ul><p><strong>åŠ£åŠ¿ï¼š</strong></p><ul><li>æµè§ˆå™¨å…¼å®¹æ€§ï¼šéœ€gRPC-Webä»£ç†å±‚</li><li>åè®®åƒµåŒ–ï¼šæ¥å£å˜æ›´éœ€è¦é‡æ–°ç”Ÿæˆä»£ç </li><li>è°ƒè¯•å¤æ‚åº¦ï¼šéœ€è¦ä¸“ç”¨å·¥å…·ï¼ˆgrpcurlç­‰ï¼‰</li><li>åŸºç¡€è®¾æ–½è¦æ±‚ï¼šéœ€HTTP/2å…¨é“¾è·¯æ”¯æŒ</li></ul><h3 id="å››ã€é€‰å‹å†³ç­–æŒ‡å—" tabindex="-1"><a class="header-anchor" href="#å››ã€é€‰å‹å†³ç­–æŒ‡å—"><span>å››ã€é€‰å‹å†³ç­–æŒ‡å—</span></a></h3><h4 id="ä¼˜å…ˆé€‰æ‹©grpcçš„åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#ä¼˜å…ˆé€‰æ‹©grpcçš„åœºæ™¯"><span>ä¼˜å…ˆé€‰æ‹©gRPCçš„åœºæ™¯</span></a></h4><ol><li>å†…éƒ¨å¾®æœåŠ¡é€šä¿¡</li><li>é«˜ååé‡æ•°æ®å¤„ç†ç³»ç»Ÿ</li><li>éœ€è¦åŒå‘æµå¼é€šä¿¡çš„å®æ—¶åº”ç”¨</li><li>å¤šè¯­è¨€æŠ€æœ¯æ ˆå…±å­˜çš„ç¯å¢ƒ</li><li>ä¸¥æ ¼æ¥å£ç®¡ç†çš„å¤æ‚ç³»ç»Ÿ</li></ol><h4 id="ä¼˜å…ˆé€‰æ‹©httpçš„åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#ä¼˜å…ˆé€‰æ‹©httpçš„åœºæ™¯"><span>ä¼˜å…ˆé€‰æ‹©HTTPçš„åœºæ™¯</span></a></h4><ol><li>å¯¹å¤–å…¬å¼€çš„Web API</li><li>éœ€è¦æµè§ˆå™¨ç›´æ¥è®¿é—®çš„æ¥å£</li><li>å¿«é€ŸåŸå‹å¼€å‘é˜¶æ®µ</li><li>å­˜é‡ç³»ç»Ÿé›†æˆï¼ˆä¸æ”¯æŒHTTP/2ï¼‰</li><li>CDNç¼“å­˜ä¾èµ–çš„åœºæ™¯</li></ol><h4 id="æ··åˆæ¶æ„å®è·µå»ºè®®" tabindex="-1"><a class="header-anchor" href="#æ··åˆæ¶æ„å®è·µå»ºè®®"><span>æ··åˆæ¶æ„å®è·µå»ºè®®</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>          [å¤–éƒ¨å®¢æˆ·ç«¯]</span></span>
<span class="line"><span>               â”‚</span></span>
<span class="line"><span>               â–¼</span></span>
<span class="line"><span>        [API Gateway] â† HTTP/REST</span></span>
<span class="line"><span>               â”‚</span></span>
<span class="line"><span>               â–¼</span></span>
<span class="line"><span>        [gRPCè½¬æ¢å±‚] â† å†…éƒ¨gRPC</span></span>
<span class="line"><span>               â”‚</span></span>
<span class="line"><span>               â–¼</span></span>
<span class="line"><span>        [ä¸šåŠ¡å¾®æœåŠ¡é›†ç¾¤]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="äº”ã€æ€§èƒ½ä¼˜åŒ–å…³é”®æŒ‡æ ‡" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ€§èƒ½ä¼˜åŒ–å…³é”®æŒ‡æ ‡"><span>äº”ã€æ€§èƒ½ä¼˜åŒ–å…³é”®æŒ‡æ ‡</span></a></h3><table><thead><tr><th style="text-align:center;">æŒ‡æ ‡</th><th style="text-align:center;">HTTP/JSON</th><th style="text-align:center;">gRPC</th><th style="text-align:center;">ä¼˜åŒ–å»ºè®®</th></tr></thead><tbody><tr><td style="text-align:center;">å»¶è¿Ÿï¼ˆ100KBæ•°æ®ï¼‰</td><td style="text-align:center;">15-25ms</td><td style="text-align:center;">5-10ms</td><td style="text-align:center;">å¯ç”¨HTTP/2+è¿æ¥å¤ç”¨</td></tr><tr><td style="text-align:center;">ååé‡ï¼ˆQPSï¼‰</td><td style="text-align:center;">2000-5000</td><td style="text-align:center;">8000-15000</td><td style="text-align:center;">è°ƒèŠ‚gRPCçš„MaxConcurrentStreams</td></tr><tr><td style="text-align:center;">CPUå ç”¨ç‡</td><td style="text-align:center;">è¾ƒé«˜ï¼ˆJSONè§£æï¼‰</td><td style="text-align:center;">è¾ƒä½ï¼ˆäºŒè¿›åˆ¶å¤„ç†ï¼‰</td><td style="text-align:center;">ä½¿ç”¨protobufé«˜æ•ˆåºåˆ—åŒ–</td></tr><tr><td style="text-align:center;">ç½‘ç»œå¸¦å®½æ¶ˆè€—</td><td style="text-align:center;">1xï¼ˆåŸºå‡†ï¼‰</td><td style="text-align:center;">0.3x-0.5x</td><td style="text-align:center;">å¯ç”¨gzipå‹ç¼©ï¼ˆå¯¹æ–‡æœ¬åè®®ï¼‰</td></tr></tbody></table><h3 id="å…­ã€ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#å…­ã€ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹"><span>å…­ã€ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹</span></a></h3><h4 id="grpcå®è·µè¦ç‚¹" tabindex="-1"><a class="header-anchor" href="#grpcå®è·µè¦ç‚¹"><span>gRPCå®è·µè¦ç‚¹</span></a></h4><ol><li>è¿æ¥ç®¡ç†ï¼šä¿æŒé•¿è¿æ¥ï¼ˆæ¨èä½¿ç”¨è¿æ¥æ± ï¼‰</li><li>è´Ÿè½½å‡è¡¡ï¼šéœ€é…åˆservice meshæˆ–ä»£ç†å±‚</li><li>é”™è¯¯å¤„ç†ï¼šå®šä¹‰æ¸…æ™°çš„é”™è¯¯çŠ¶æ€ç </li><li>ç‰ˆæœ¬æ§åˆ¶ï¼šä½¿ç”¨packageç‰ˆæœ¬åŒ–ç­–ç•¥</li><li>ç›‘æ§æŒ‡æ ‡ï¼šè·Ÿè¸ªRPCæˆåŠŸç‡/å»¶è¿Ÿåˆ†å¸ƒ</li></ol><h4 id="httpä¼˜åŒ–ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#httpä¼˜åŒ–ç­–ç•¥"><span>HTTPä¼˜åŒ–ç­–ç•¥</span></a></h4><ol><li>å¯ç”¨HTTP/2åè®®</li><li>ä½¿ç”¨é«˜æ•ˆJSONåº“ï¼ˆå¦‚easyjsonï¼‰</li><li>å®ç°è¿æ¥å¤ç”¨ï¼ˆKeep-Aliveï¼‰</li><li>é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ï¼ˆå¦‚MessagePackï¼‰</li><li>éƒ¨ç½²APIç½‘å…³è¿›è¡Œåè®®è½¬æ¢</li></ol><h3 id="ç»“è®º" tabindex="-1"><a class="header-anchor" href="#ç»“è®º"><span>ç»“è®º</span></a></h3><p>åœ¨Goå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæ¨èä¼˜å…ˆé‡‡ç”¨gRPCè¿›è¡ŒæœåŠ¡é—´é€šä¿¡ï¼Œç‰¹åˆ«æ˜¯åœ¨æ€§èƒ½æ•æ„Ÿå’Œé«˜å¹¶å‘çš„å†…éƒ¨æœåŠ¡äº¤äº’åœºæ™¯ã€‚å¯¹äºéœ€è¦å¹¿æ³›å…¼å®¹æ€§æˆ–ç›´æ¥é¢å‘æµè§ˆå™¨çš„APIï¼Œåº”ä¿ç•™HTTP/RESTæ–¹æ¡ˆã€‚å®é™…ç”Ÿäº§ä¸­ï¼Œé€šè¿‡APIç½‘å…³å®ç°åè®®è½¬æ¢çš„æ··åˆæ¶æ„ï¼Œèƒ½å¤Ÿå…¼é¡¾ç³»ç»Ÿæ€§èƒ½ä¸ç”Ÿæ€å…¼å®¹æ€§ã€‚</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/Cospk/edit/main/src/golang/é¢è¯•/2.è¿›é˜¶åŸç†.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/3/18 03:55:25</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: xie18115@gmail.com">xiaoxie01</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: xie18115@outlook.com">xiaoxie001</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/%E5%AF%B9%E8%B1%A1%E6%B1%A0.html" aria-label="å¯¹è±¡æ± "><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->å¯¹è±¡æ± </div></a><a class="route-link auto-link next" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%88%E7%AD%94%E6%A1%88%EF%BC%89.html" aria-label="é¢è¯•é¢˜ï¼ˆç­”æ¡ˆï¼‰"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">é¢è¯•é¢˜ï¼ˆç­”æ¡ˆï¼‰<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 xiaoxie </div></footer></div><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/vuepress-app/assets/app-DIJDtupu.js" defer></script>
  </body>
</html>
