<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.66" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://Cospk.github.io/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL%E9%AB%98%E7%BA%A7.html"><meta property="og:site_name" content="Golangå…¨æ ˆæŒ‡å—"><meta property="og:title" content="MySQLé«˜çº§"><meta property="og:description" content="MYSQLé«˜çº§ 01ã€Dockerå®‰è£…MYSQL 01ã€Docker å®‰è£… é˜¿é‡Œé•œåƒåŠ é€Ÿ 02ã€Dockerå®‰è£…MYSQL ï¼ˆ1ï¼‰æ‹‰å–mysqlé•œåƒ ï¼ˆ2ï¼‰åˆ›å»ºå®¹å™¨ p ä»£è¡¨ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸º å®¿ä¸»æœºæ˜ å°„ç«¯å£:å®¹å™¨è¿è¡Œç«¯å£ -e ä»£è¡¨æ·»åŠ ç¯å¢ƒå˜é‡ MYSQL_ROOT_PASSWORD æ˜¯rootç”¨æˆ·çš„ç™»é™†å¯†ç  ï¼ˆ3ï¼‰è¿œç¨‹ç™»å½•mysql è¿æ¥å®¿ä¸»æœºçš„IP..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-01-15T09:37:41.000Z"><meta property="article:author" content="xiaoxie"><meta property="article:tag" content="db"><meta property="article:published_time" content="2025-01-01T00:00:00.000Z"><meta property="article:modified_time" content="2025-01-15T09:37:41.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQLé«˜çº§","image":[""],"datePublished":"2025-01-01T00:00:00.000Z","dateModified":"2025-01-15T09:37:41.000Z","author":[{"@type":"Person","name":"xiaoxie"}]}</script><link rel="icon" href="/vuepress-app/favicon.svg"><title>MySQLé«˜çº§ | Golangå…¨æ ˆæŒ‡å—</title><meta name="description" content="MYSQLé«˜çº§ 01ã€Dockerå®‰è£…MYSQL 01ã€Docker å®‰è£… é˜¿é‡Œé•œåƒåŠ é€Ÿ 02ã€Dockerå®‰è£…MYSQL ï¼ˆ1ï¼‰æ‹‰å–mysqlé•œåƒ ï¼ˆ2ï¼‰åˆ›å»ºå®¹å™¨ p ä»£è¡¨ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸º å®¿ä¸»æœºæ˜ å°„ç«¯å£:å®¹å™¨è¿è¡Œç«¯å£ -e ä»£è¡¨æ·»åŠ ç¯å¢ƒå˜é‡ MYSQL_ROOT_PASSWORD æ˜¯rootç”¨æˆ·çš„ç™»é™†å¯†ç  ï¼ˆ3ï¼‰è¿œç¨‹ç™»å½•mysql è¿æ¥å®¿ä¸»æœºçš„IP...">
    <link rel="preload" href="/vuepress-app/assets/style-BU0LSV_n.css" as="style"><link rel="stylesheet" href="/vuepress-app/assets/style-BU0LSV_n.css">
    <link rel="modulepreload" href="/vuepress-app/assets/app-BLtUojHQ.js"><link rel="modulepreload" href="/vuepress-app/assets/MYSQLé«˜çº§.html-B_OIJkHO.js"><link rel="modulepreload" href="/vuepress-app/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/vuepress-app/assets/index.html-WhyuVvhe.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/portfolio.html-BhVKWixF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.ç®—æ³•.html-MxeMtviE.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.è®¾è®¡æ¨¡å¼.html-C5hpbhbe.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.è§„åˆ’.html-CgAId_4C.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/git è§„èŒƒ.html-eNbfLLai.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/git.html-CAlrwADH.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/markdown.html-D3O0WNpA.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¥½ç‰©åˆ†äº«.html-Dtt57CVq.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BXfW1lIz.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/best-practice-template.html-DY2vJNjR.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/reference-template.html-BOu451oH.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/tutorial-template.html-C59I7eCt.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/writing-standards.html-B7jtyQsx.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DSBq_3St.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-NHpT9nrd.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç½‘ç»œåŸºç¡€.html-BnpNam7_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.use.html-PozW1vao.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.howWork.html-BRuG2rxR.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-Cfk1hVvS.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DmMRYPvK.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CLkp3U9L.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¸¸ç”¨åŒ…å¤§å…¨.html-tWfeDhTr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.golang.html-Bt6BUV8N.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.grammer.html-CNcE23qo.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.datatype.html-B67NZ3TV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/3.variable.html-CUGZhp-9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/4.io.html-CNa3S-tv.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/5.condition.html-DLotTBlC.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/6.data_structures.html-B_jra7Oc.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-hgMaMm31.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.interface.html-DnwkwPdg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/10.cgo.html-CuXQOFyM.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/11.pprof.html-CC8fQ8C3.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/12.followUp.html-C77Sy-fr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.generic.html-Dgzy9Keu.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/3.reflect.html-DN_uTq87.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/4.types.html-CzFh4rPE.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/5.error.html-CKWIxFl7.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/6.file.html-BF1SS4fV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/7.concurrency.html-DZdZSB1U.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/8.module.html-CrIw_9_0.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/9.test.html-BUcrm-tA.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CuK-S4th.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/notes.html-DwZMmdmU.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/test.html-CeDPXGOu.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.åŸºç¡€è¯­æ³•.html-CToJXS46.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.è¿›é˜¶åŸç†.html-DB2o_k93.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BVJtzTUH.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¤§å‚é¢è¯•é¢˜.html-DtPAi1aG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/å¯¹è±¡æ± .html-CDuIoNCe.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ææ™ºå¤©ä¸‹.html-CxfP8Vpx.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/é¢è¯•é¢˜ï¼ˆç­”æ¡ˆï¼‰.html-BaMOilpO.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BSI_RZcF.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Consul.html-CI67f-fV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Docker.html-D1ro8z1b.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/GRPC.html-DdQpuqY4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Jaeger.html-Cis3zn0G.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kong.html-BD78LBhE.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kubernetes.html-DZcDPomr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Nacos.html-dczhzYlW.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DiE4zoBY.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Sentinel.html-GcAKlAR_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-B2UyDtFS.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DVX8SzT5.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Elasticsearch-Go.html-C56MTRdd.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Elasticsearch.html-BLHa2u1A.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MongoDB-Go.html-Chr2MP_2.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MongoDB.html-AioLwXO3.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MySQL-Go.html-IBI1N8kQ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/MySQL.html-D0EEIJs_.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DRsLcNFq.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Redis-Go.html-DtL5aYYq.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Redis.html-Cq95ZlnS.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/EMQX.html-FjRq-ipt.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kafka1.html-vX6UVdNO.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kafka_go.html-4V-AwmW8.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DmzeT2Ht.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/RocketMQ.html-CSH0hOo9.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/kafka.html-B20FgohW.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kong.html-DwbmDglT.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Nginx.html-BYr3r8aO.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CFdw-K8V.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Docker-Do.html-C6LRc8LB.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Docker.html-DwJwkmF0.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Jenkins.html-BIP4ewL3.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Kubernetes.html-BhQh-Qzu.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CcsXOYsu.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/kubernetes-Do.html-CU-LwUZB.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/casbin.html-CKa59lDE.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.use.html-By4wG-2G.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.howWork.html-Bgl3p8ek.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BPenre0U.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.use.html-UrudWkE4.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.howWork.html-0mdwKJwB.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BaAP5XWh.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BN2eQPgA.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/Zap.html-_K_kgY8S.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç”¨æˆ·è®¤è¯é€‰å‹.html-BBS3kLHx.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/ç›‘æ§.html-BeDghJXv.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.intro.html-BUMtsJTz.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-BerhaHUq.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/encode.html-XOw0L9J5.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/flag.html-B4ikVYZr.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/http.html-t97lK3uv.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/log.html-D4RrOdW1.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/math.html-BaTaoHWV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/net.html-BNRSWfRm.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/sort.html-BMYgUMyf.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/strconv.html-DH_fzu3u.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/strings.html-t0EB4z0i.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/template.html-CzZeKsLW.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/time.html-DC560IJc.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/unicode.html-CTsSXpKG.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/unsafe.html-Dh6o2dzV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/0.runtime.html-DM_wZZne.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/1.å¹¶å‘.html-BV5XciFl.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/2.æ•°æ®ç»“æ„.html-DhTadMlb.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/3.é”™è¯¯å¤„ç†.html-B9fMhtRq.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-sTjRwzyH.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/404.html-lnbSDhQj.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CFWZBzL6.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-ByOJfZb8.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-B4m2nhCy.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-CvGJbMz1.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DPztLwBo.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index.html-DsSqTh0D.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index-izhIXQi-.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/index-B2Pezylg.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/mermaid.esm.min-BKF1VttC.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/SearchResult-BUJpP47L.js" as="script"><link rel="prefetch" href="/vuepress-app/assets/setupDevtools-7MC2TMWH-BrSy-uVW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/vuepress-app/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo light" src="/vuepress-app/log.svg" alt><img class="vp-nav-logo dark" src="/vuepress-app/logDark.svg" alt><span class="vp-site-name hide-in-pad">Golangå…¨æ ˆæŒ‡å—</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/vuepress-app/" aria-label="é¦–é¡µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->é¦–é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="golang"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>golang<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/%E5%9F%BA%E7%A1%80/" aria-label="GoåŸºç¡€"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-eraser" style=""></span><!--]-->GoåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/%E8%BF%9B%E9%98%B6/" aria-label="Goè¿›é˜¶"><!--[--><img class="icon" src="/vuepress-app/assets/icon/up.png" alt aria-hidden no-view style=""><!--]-->Goè¿›é˜¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/%E5%8E%9F%E7%90%86/" aria-label="åŸç†"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-gears" style=""></span><!--]-->åŸç†<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/web%E6%A1%86%E6%9E%B6/" aria-label="æ¡†æ¶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-sitemap" style=""></span><!--]-->æ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/golang/%E9%9D%A2%E8%AF%95/" aria-label="é¢è¯•"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-feather" style=""></span><!--]-->é¢è¯•<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ä¸­é—´ä»¶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-layer-group" style=""></span>ä¸­é—´ä»¶<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html" aria-label="MySql"><!--[--><img class="icon" src="/vuepress-app/assets/icon/mysql.png" alt aria-hidden no-view style=""><!--]-->MySql<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis.html" aria-label="Redis"><!--[--><img class="icon" src="/vuepress-app/assets/icon/redis.png" alt aria-hidden no-view style=""><!--]-->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB.html" aria-label="MongoDB"><!--[--><img class="icon" src="/vuepress-app/assets/icon/mongodb.png" alt aria-hidden no-view style=""><!--]-->MongoDB<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E6%B6%88%E6%81%AF%E7%BB%84%E4%BB%B6/kafka.html" aria-label="kafka"><!--[--><img class="icon" src="/vuepress-app/assets/icon/Kafka.png" alt aria-hidden no-view style=""><!--]-->kafka<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E7%BD%91%E5%85%B3/Nginx.html" aria-label="Nginx"><!--[--><img class="icon" src="/vuepress-app/assets/icon/Nginx.png" alt aria-hidden no-view style=""><!--]-->Nginx<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E8%BF%90%E7%BB%B4/Docker.html" aria-label="Docker"><!--[--><img class="icon" src="/vuepress-app/assets/icon/docker.png" alt aria-hidden no-view style=""><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/middleware/%E8%BF%90%E7%BB%B4/Kubernetes.html" aria-label="Kubernetes"><!--[--><img class="icon" src="/vuepress-app/assets/icon/kubernetes.png" alt aria-hidden no-view style=""><!--]-->Kubernetes<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æ¶æ„"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-network-wired" style=""></span>æ¶æ„<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" aria-label="å¾®æœåŠ¡"><!--[--><img class="icon" src="/vuepress-app/assets/icon/micro.png" alt aria-hidden no-view style=""><!--]-->å¾®æœåŠ¡<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E5%88%86%E5%B8%83%E5%BC%8F/" aria-label="åˆ†å¸ƒå¼"><!--[--><img class="icon" src="/vuepress-app/assets/icon/kubernetes.png" alt aria-hidden no-view style=""><!--]-->åˆ†å¸ƒå¼<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E9%AB%98%E5%8F%AF%E7%94%A8/" aria-label="é«˜å¯ç”¨"><!--[--><img class="icon" src="/vuepress-app/assets/icon/available.png" alt aria-hidden no-view style=""><!--]-->é«˜å¯ç”¨<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/framework/%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8/" aria-label="é¢†åŸŸé©±åŠ¨"><!--[--><img class="icon" src="/vuepress-app/assets/icon/DDD.png" alt aria-hidden no-view style=""><!--]-->é¢†åŸŸé©±åŠ¨<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è®¡ç®—æœº"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-computer" style=""></span>è®¡ç®—æœº<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/%E7%BD%91%E7%BB%9C/" aria-label="è®¡ç®—æœºç½‘ç»œ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-globe" style=""></span><!--]-->è®¡ç®—æœºç½‘ç»œ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" aria-label="æ“ä½œç³»ç»Ÿ"><!--[--><img class="icon" src="/vuepress-app/assets/icon/linux.png" alt aria-hidden no-view style=""><!--]-->æ“ä½œç³»ç»Ÿ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/0.%E7%AE%97%E6%B3%95.html" aria-label="å¸¸ç”¨ç®—æ³•"><!--[--><img class="icon" src="/vuepress-app/assets/icon/arithmetic.png" alt aria-hidden no-view style=""><!--]-->å¸¸ç”¨ç®—æ³•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/computer/1.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="è®¾è®¡æ¨¡å¼"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-ruler" style=""></span><!--]-->è®¾è®¡æ¨¡å¼<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å¥½ç‰©åˆ†äº«"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-share-nodes" style=""></span>å¥½ç‰©åˆ†äº«<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/share/%E5%A5%BD%E7%89%A9%E5%88%86%E4%BA%AB.html" aria-label="å¥½ç‰©åˆ†äº«"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-share-nodes" style=""></span><!--]-->å¥½ç‰©åˆ†äº«<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/vuepress-app/share/git.html" aria-label="git"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-git-alt" style=""></span><!--]-->git<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Cospk" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">æœç´¢</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span><span class="vp-sidebar-title">æ•°æ®åº“æŠ€æœ¯é€‰å‹ä¸æœ€ä½³å®è·µ</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/" aria-label="æ•°æ®åº“æŠ€æœ¯é€‰å‹ä¸æœ€ä½³å®è·µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span><!--]-->æ•°æ®åº“æŠ€æœ¯é€‰å‹ä¸æœ€ä½³å®è·µ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html" aria-label="MySQL-åŸºç¡€"><!---->MySQL-åŸºç¡€<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-Go.html" aria-label="MySQL-Go"><!---->MySQL-Go<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL%E9%AB%98%E7%BA%A7.html" aria-label="MySQLé«˜çº§"><!---->MySQLé«˜çº§<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis.html" aria-label="Redis"><!---->Redis<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis-Go.html" aria-label="Redis - Go"><!---->Redis - Go<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB.html" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB-Go.html" aria-label="MongoDB - Go"><!---->MongoDB - Go<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Elasticsearch.html" aria-label="ElasticSearch - Go"><!---->ElasticSearch - Go<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Elasticsearch-Go.html" aria-label="ElasticSearch - Go"><!---->ElasticSearch - Go<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/vuepress-app/assets/icon/MQ.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">æ¶ˆæ¯ç»„ä»¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/vuepress-app/assets/icon/network.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">ç½‘å…³</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/vuepress-app/assets/icon/docker.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">è¿ç»´</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">é‰´æƒ</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->MySQLé«˜çº§</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">xiaoxie</span></span><span property="author" content="xiaoxie"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025å¹´1æœˆ1æ—¥</span><meta property="datePublished" content="2025-01-01T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 59 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT59M"></span><!----><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color5" role>db</span><!--]--><meta property="keywords" content="db"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_01ã€docker-å®‰è£…">01ã€Docker å®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_02ã€dockerå®‰è£…mysql">02ã€Dockerå®‰è£…MYSQL</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-è¿æ¥å™¨">1ï¼‰è¿æ¥å™¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-æŸ¥è¯¢ç¼“å­˜">2ï¼‰æŸ¥è¯¢ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-åˆ†æå™¨-åšä»€ä¹ˆ">3ï¼‰åˆ†æå™¨ï¼ˆåšä»€ä¹ˆï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-ä¼˜åŒ–å™¨-æ€ä¹ˆåš">4ï¼‰ä¼˜åŒ–å™¨ï¼ˆæ€ä¹ˆåšï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-æ‰§è¡Œå™¨-å¼€å§‹åš">5ï¼‰æ‰§è¡Œå™¨ï¼ˆå¼€å§‹åšï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-å­˜å‚¨å¼•æ“-è½ç›˜">6ï¼‰å­˜å‚¨å¼•æ“ï¼ˆè½ç›˜ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å°ç»“">å°ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å°½é‡ä¸è¦è®©æ•°æ®åº“åšè¿‡å¤šè¿ç®—">å°½é‡ä¸è¦è®©æ•°æ®åº“åšè¿‡å¤šè¿ç®—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ§åˆ¶æ•°æ®é‡">æ§åˆ¶æ•°æ®é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å•è¡¨å­—æ®µæ•°é‡">å•è¡¨å­—æ®µæ•°é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é¿å…ä½¿ç”¨nullå­—æ®µ">é¿å…ä½¿ç”¨NULLå­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å°‘ç”¨text">å°‘ç”¨TEXT</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å°½é‡æ§åˆ¶è¡¨å­—æ®µæ•°é‡">å°½é‡æ§åˆ¶è¡¨å­—æ®µæ•°é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å¹³è¡¡èŒƒå¼ä¸å†—ä½™">å¹³è¡¡èŒƒå¼ä¸å†—ä½™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ‹’ç»3b">æ‹’ç»3B</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç”¨å¥½æ•°å€¼å­—æ®µç±»å‹">ç”¨å¥½æ•°å€¼å­—æ®µç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸åœ¨æ•°æ®åº“é‡Œå­˜å›¾ç‰‡">ä¸åœ¨æ•°æ®åº“é‡Œå­˜å›¾ç‰‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ•°æ®è¡¨çš„è®¾è®¡åŸåˆ™å…¶å®ƒå‚è€ƒ">æ•°æ®è¡¨çš„è®¾è®¡åŸåˆ™å…¶å®ƒå‚è€ƒ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ•°æ®åº“å¯¹è±¡ç¼–å†™å»ºè®®">æ•°æ®åº“å¯¹è±¡ç¼–å†™å»ºè®®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…³äºç´¢å¼•">å…³äºç´¢å¼•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#sqlç¼–å†™">SQLç¼–å†™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysqlä¸€å¼ è¡¨æœ€å¤šå¤šå°‘å­—æ®µ">mysqlä¸€å¼ è¡¨æœ€å¤šå¤šå°‘å­—æ®µ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å­—æ®µæ•°é‡é™åˆ¶">å­—æ®µæ•°é‡é™åˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ€»ç»“">æ€»ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_01ã€mysqlç´¢å¼•åŸç†åŠæ¦‚å¿µ">01ã€MySQLç´¢å¼•åŸç†åŠæ¦‚å¿µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_02ã€mysqlç´¢å¼•çš„åº•å±‚å®ç°">02ã€MySQLç´¢å¼•çš„åº•å±‚å®ç°</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#äºŒå‰æ ‘">äºŒå‰æ ‘</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#b-tree">B-Tree</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#b-tree-1">B+Tree</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#hash">Hash</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_03ã€mysqlçš„ç´¢å¼•å®ç°">03ã€MySQLçš„ç´¢å¼•å®ç°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_04ã€mysqlç´¢å¼•çš„ä¼˜åŠ£åŠ¿">04ã€MySQLç´¢å¼•çš„ä¼˜åŠ£åŠ¿</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_05ã€mysqlç´¢å¼•çš„æ“ä½œ">05ã€MySQLç´¢å¼•çš„æ“ä½œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_01ã€mysqlç´¢å¼•åˆ—ä»€ä¹ˆæ ·å­çš„åˆ—é€‚åˆé€‰æ‹©æˆä¸ºç´¢å¼•">01ã€MySQLç´¢å¼•åˆ—ä»€ä¹ˆæ ·å­çš„åˆ—é€‚åˆé€‰æ‹©æˆä¸ºç´¢å¼•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_02ã€å¸¸è§çš„mysqlæ€§èƒ½åˆ†æå·¥å…·å’Œé…ç½®">02ã€å¸¸è§çš„MySQLæ€§èƒ½åˆ†æå·¥å…·å’Œé…ç½®</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ…¢æŸ¥è¯¢æ—¥å¿—">æ…¢æŸ¥è¯¢æ—¥å¿—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ‰§è¡Œè®¡åˆ’explain">æ‰§è¡Œè®¡åˆ’Explain</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#mysqlå‰ç¼€ç´¢å¼•å’Œç´¢å¼•åˆ—çš„é€‰æ‹©æ€§">MySQLå‰ç¼€ç´¢å¼•å’Œç´¢å¼•åˆ—çš„é€‰æ‹©æ€§</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è”åˆç´¢å¼•-å¾ˆå¤šåˆ—éƒ½å»ºç«‹ç´¢å¼•ä¸å¦‚å»ºç«‹è”åˆç´¢å¼•">è”åˆç´¢å¼•ï¼šå¾ˆå¤šåˆ—éƒ½å»ºç«‹ç´¢å¼•ä¸å¦‚å»ºç«‹è”åˆç´¢å¼•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è¦†ç›–ç´¢å¼•">è¦†ç›–ç´¢å¼•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹é¿å…ç´¢å¼•å¤±æ•ˆ">MySQLä¼˜åŒ–å®æˆ˜ä¹‹é¿å…ç´¢å¼•å¤±æ•ˆ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹æ’åºä¸åˆ†ç»„ä¼˜åŒ–">MySQLä¼˜åŒ–å®æˆ˜ä¹‹æ’åºä¸åˆ†ç»„ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹å¤§æ•°æ®é‡åˆ†é¡µä¼˜åŒ–">MySQLä¼˜åŒ–å®æˆ˜ä¹‹å¤§æ•°æ®é‡åˆ†é¡µä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹å°è¡¨é©±åŠ¨å¤§è¡¨">MySQLä¼˜åŒ–å®æˆ˜ä¹‹å°è¡¨é©±åŠ¨å¤§è¡¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸ºä»€ä¹ˆåŸºäºdockeræ­å»º">ä¸ºä»€ä¹ˆåŸºäºDockeræ­å»ºï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸»ä»å¤åˆ¶æ’é”™">ä¸»ä»å¤åˆ¶æ’é”™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æµ‹è¯•ä¸»ä»å¤åˆ¶">æµ‹è¯•ä¸»ä»å¤åˆ¶</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="mysqlé«˜çº§" tabindex="-1"><a class="header-anchor" href="#mysqlé«˜çº§"><span>MYSQLé«˜çº§</span></a></h1><h1 id="_01ã€dockerå®‰è£…mysql" tabindex="-1"><a class="header-anchor" href="#_01ã€dockerå®‰è£…mysql"><span>01ã€Dockerå®‰è£…MYSQL</span></a></h1><h2 id="_01ã€docker-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_01ã€docker-å®‰è£…"><span>01ã€Docker å®‰è£…</span></a></h2><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼ˆ1ï¼‰yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> åŒ…æ›´æ–°åˆ°æœ€æ–°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; yum update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼ˆ2ï¼‰å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum-util</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æä¾›yum-config-manageråŠŸèƒ½ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯devicemapperé©±åŠ¨ä¾èµ–çš„</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; yum install -y yum-utils device-mapper-persistent-data lvm2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼ˆ3ï¼‰è®¾ç½®yumæºä¸ºé˜¿é‡Œäº‘</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼ˆ4ï¼‰å®‰è£…docker</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; yum install docker-ce -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼ˆ5ï¼‰å®‰è£…åæŸ¥çœ‹dockerç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; docker -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é˜¿é‡Œé•œåƒåŠ é€Ÿ</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/docker</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/docker/daemon.json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;registry-mirrors&quot;: [&quot;https://0wrdwnn6.mirror.aliyuncs.com&quot;]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_02ã€dockerå®‰è£…mysql" tabindex="-1"><a class="header-anchor" href="#_02ã€dockerå®‰è£…mysql"><span>02ã€Dockerå®‰è£…MYSQL</span></a></h2><p>ï¼ˆ1ï¼‰æ‹‰å–mysqlé•œåƒ</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> centos/mysql-57-centos7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ2ï¼‰åˆ›å»ºå®¹å™¨</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; docker run -di </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">--name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">tensquare_mysql</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3306:3306</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MYSQL_ROOT_PASSWORD=mkxiaoer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  centos/mysql-57-centos7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æˆ–è€…</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; docker run -di </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">--name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">tensquare_mysql</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3306:3306</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MYSQL_ROOT_PASSWORD=mkxiaoer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å¯åŠ¨æˆåŠŸæ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">d81df2492094</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        centos/mysql-57-centos7</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   &quot;container-entrypoinâ€¦&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   6</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> seconds</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Up</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> seconds</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                  0.0.0.0:33306</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">3306/tcp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   mymysql</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # æŸ¥çœ‹æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> logs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mymysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>p ä»£è¡¨ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸º å®¿ä¸»æœºæ˜ å°„ç«¯å£:å®¹å™¨è¿è¡Œç«¯å£</p><p>-e ä»£è¡¨æ·»åŠ ç¯å¢ƒå˜é‡ MYSQL_ROOT_PASSWORD æ˜¯rootç”¨æˆ·çš„ç™»é™†å¯†ç </p><p>ï¼ˆ3ï¼‰è¿œç¨‹ç™»å½•mysql</p><p>è¿æ¥å®¿ä¸»æœºçš„IP ,æŒ‡å®šç«¯å£ä¸º33306</p><h1 id="_02ã€ä¸€ä¸ªsqlè¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#_02ã€ä¸€ä¸ªsqlè¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹"><span>02ã€ä¸€ä¸ªSQLè¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹</span></a></h1><p>é¦–å…ˆï¼Œéœ€è¦äº†è§£ä¸€ä¸‹MySQLçš„é€»è¾‘æ¶æ„ï¼Œå½“æ‰§è¡Œä¸€æ¡SQLè¯­å¥æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå¯ä»¥å¯¹MySQLæœ‰æ›´æ·±å…¥çš„äº†è§£ï¼Œåœ¨å‡ºç°å¼‚å¸¸ï¼Œé”™è¯¯çš„æ—¶å€™ï¼Œå¯ä»¥æ›´å¿«é€Ÿçš„å®šä½é—®é¢˜æ‰€åœ¨ã€‚<br> ä¸‹é¢æ˜¯MySQLçš„ç®€å•æ¶æ„ç¤ºæ„å›¾ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ä¸€æ¡SQLè¯­å¥çš„æ‰§è¡Œå’ŒMySQLä¹‹é—´çš„å…³ç³»ã€‚</p><p>MySQLä¸»è¦åˆ†ä¸ºServerå±‚å’Œå­˜å‚¨å¼•æ“å±‚ã€‚<br> ï¼ˆ1ï¼‰Serverå±‚åŒ…å«è¿æ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ç­‰ï¼Œæ¶µç›–MySQLå¤§å¤šæ ¸å¿ƒæœåŠ¡åŠŸèƒ½ï¼Œä»¥åŠæ‰€æœ‰çš„å†…ç½®å‡½æ•°ï¼ˆå¦‚æ—¥æœŸã€æ—¶é—´ã€æ•°å­¦å’ŒåŠ å¯†å‡½æ•°ç­‰ï¼‰ã€‚æ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚ï¼Œå¦‚å­˜å‚¨è½¬å‘ï¼Œè§†å›¾ï¼Œè§¦å‘å™¨ç­‰ã€‚<br> ï¼ˆ2ï¼‰å­˜å‚¨å¼•æ“å±‚è´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œæå–ï¼Œå…¶æ¶æ„æ˜¯æ’ä»¶å¼çš„ï¼Œæ”¯æŒ InnoDBã€MyISAMã€Memory ç­‰å¤šä¸ªå­˜å‚¨å¼•æ“ã€‚ç°åœ¨æœ€å¸¸ç”¨çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼Œå®ƒä» MySQL 5.5.5 ç‰ˆæœ¬å¼€å§‹æˆä¸ºäº†é»˜è®¤å­˜å‚¨å¼•æ“ã€‚ï¼ˆä½ ä¹Ÿå¯ä»¥é€‰æ‹©å­˜å‚¨å¼•æ“ï¼Œæ¥æŒ‡å®šå†…å­˜å¼•æ“åˆ›å»ºè¡¨ï¼‰<br> ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸åŒå­˜å‚¨å¼•æ“å…±ç”¨ä¸€ä¸ªServerå±‚ï¼Œä»è¿æ¥å™¨åˆ°æ‰§è¡Œå™¨ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹Serverå±‚çš„å„ä¸ªåŠŸèƒ½ã€‚</p><h3 id="_1-è¿æ¥å™¨" tabindex="-1"><a class="header-anchor" href="#_1-è¿æ¥å™¨"><span>1ï¼‰è¿æ¥å™¨</span></a></h3><p>è¿æ¥å™¨è´Ÿè´£è·Ÿå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ã€è·å–æƒé™ã€ç»´æŒå’Œç®¡ç†è¿æ¥ã€‚ä»£ç å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysql</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$ip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -P</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$user</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¾“å®Œå‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨äº¤äº’å¯¹è¯é‡Œé¢è¾“å…¥å¯†ç ï¼Œä¸å»ºè®®ç›´æ¥påæ¥å¯†ç ã€‚<br> è¿æ¥å‘½ä»¤ä¸­çš„ mysql æ˜¯å®¢æˆ·ç«¯å·¥å…·ï¼Œç”¨æ¥è·ŸæœåŠ¡ç«¯å»ºç«‹è¿æ¥ã€‚åœ¨å®Œæˆç»å…¸çš„ TCP æ¡æ‰‹åï¼Œè¿æ¥å™¨å°±è¦å¼€å§‹è®¤è¯ä½ çš„èº«ä»½ï¼Œè¿™ä¸ªæ—¶å€™ç”¨çš„å°±æ˜¯ä½ è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</p><p>è¿æ¥å®Œæˆåï¼Œå¦‚æœä½ æ²¡æœ‰åç»­çš„åŠ¨ä½œï¼Œè¿™ä¸ªè¿æ¥å°±å¤„äºç©ºé—²çŠ¶æ€ã€‚å®¢æˆ·ç«¯å¦‚æœå¤ªé•¿æ—¶é—´æ²¡åŠ¨é™ï¼Œè¿æ¥å™¨å°±ä¼šè‡ªåŠ¨å°†å®ƒæ–­å¼€ã€‚è¿™ä¸ªæ—¶é—´æ˜¯ç”±å‚æ•° wait_timeout æ§åˆ¶çš„ï¼Œé»˜è®¤å€¼æ˜¯ 8 å°æ—¶ã€‚å¦‚æœåœ¨è¿æ¥è¢«æ–­å¼€ä¹‹åï¼Œå®¢æˆ·ç«¯å†æ¬¡å‘é€è¯·æ±‚çš„è¯ï¼Œå°±ä¼šæ”¶åˆ°ä¸€ä¸ªé”™è¯¯æé†’ï¼š Lost connection to MySQL server during queryã€‚è¿™æ—¶å€™å¦‚æœè¦ç»§ç»­ï¼Œå°±éœ€è¦é‡è¿ï¼Œç„¶åå†æ‰§è¡Œè¯·æ±‚äº†ã€‚</p><p>ä¸‹é¢è®²ä¸€ä¸‹æ•°æ®åº“çš„é•¿è¿æ¥å’ŒçŸ­è¿æ¥ï¼š</p><p>é•¿è¿æ¥æ˜¯æŒ‡è¿æ¥æˆåŠŸåï¼Œå¦‚æœå®¢æˆ·ç«¯æŒç»­æœ‰è¯·æ±‚ï¼Œåˆ™ä¸€ç›´ä½¿ç”¨åŒä¸€ä¸ªè¿æ¥ã€‚<br> çŸ­è¿æ¥åˆ™æ˜¯æŒ‡æ¯æ¬¡æ‰§è¡Œå®Œå¾ˆå°‘çš„å‡ æ¬¡æŸ¥è¯¢å°±æ–­å¼€è¿æ¥ï¼Œä¸‹æ¬¡æŸ¥è¯¢å†é‡æ–°å»ºç«‹ä¸€ä¸ªã€‚<br> å»ºç«‹è¿æ¥çš„è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œå»ºè®®ä½¿ç”¨é•¿è¿æ¥ï¼Œä½†ä½¿ç”¨é•¿è¿æ¥ï¼ŒMySQLçš„å ç”¨å†…å­˜æ¶¨çš„å¾ˆå¿«ï¼Œå› ä¸ºMySQL åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶ä½¿ç”¨çš„å†…å­˜æ˜¯ç®¡ç†åœ¨è¿æ¥å¯¹è±¡é‡Œé¢çš„ï¼Œè¿™äº›èµ„æºä¼šåœ¨è¿æ¥æ–­å¼€çš„æ—¶å€™æ‰é‡Šæ”¾ã€‚æ‰€ä»¥é•¿è¿æ¥ç´¯è®¡ä¸‹æ¥ï¼Œå†…å­˜å ç”¨ç‰¹åˆ«å¤§ï¼Œå¯èƒ½ä¼šè¢«ç³»ç»Ÿå¼ºè¡Œæ€æ‰ï¼ˆOOMï¼‰ï¼Œå°±æ˜¯ MySQL å¼‚å¸¸é‡å¯ã€‚<br> ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p><p>å®šæœŸæ–­å¼€é•¿è¿æ¥ã€‚</p><p>å¦‚æœæ˜¯MySQL 5.7 æˆ–æ›´æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ“ä½œåï¼Œé€šè¿‡æ‰§è¡Œ mysql_reset_connection æ¥é‡æ–°åˆå§‹åŒ–è¿æ¥èµ„æºã€‚è¿™æ ·å¯ä»¥æ¢å¤åˆ°è¿æ¥åˆšåˆšåˆ›å»ºå®Œæˆçš„çŠ¶æ€ã€‚</p><h3 id="_2-æŸ¥è¯¢ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_2-æŸ¥è¯¢ç¼“å­˜"><span>2ï¼‰æŸ¥è¯¢ç¼“å­˜</span></a></h3><p>å»ºç«‹è¿æ¥æˆåŠŸåï¼Œå¯ä»¥æ‰§è¡Œselectå‘½ä»¤ï¼Œé€»è¾‘åˆ™æ‰§è¡ŒæŸ¥è¯¢ç¼“å­˜ã€‚MySQLæ‹¿åˆ°ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚ï¼Œä¼šå…ˆæŸ¥æ‰¾æŸ¥è¯¢ç¼“å­˜ï¼Œçœ‹æ˜¯å¦æ˜¯ä¹‹å‰æ‰§è¡Œè¿‡çš„è¯­å¥ï¼Œå¦‚æœä¹‹å‰æ‰§è¡Œè¿‡ï¼Œåˆ™ä¼šä»¥ï¼ˆkey,valueï¼‰å¯¹å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œkeyæ˜¯æŸ¥è¯¢è¯­å¥ï¼Œvalueæ˜¯æŸ¥è¯¢ç»“æœã€‚å¦‚æœè¯­å¥ä¸åœ¨æŸ¥è¯¢ç¼“å­˜ä¸­ï¼Œåˆ™æ‰§è¡Œåé¢çš„è¿‡ç¨‹ã€‚<br><mark>è™½ç„¶çœ‹èµ·æ¥æŸ¥è¯¢ç¼“å­˜çš„æ•ˆç‡éå¸¸é«˜ï¼Œä½†å»ºè®®ä¸è¦ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚å› ä¸ºæŸ¥è¯¢ç¼“å­˜çš„å¤±æ•ˆéå¸¸é¢‘ç¹ï¼Œåªè¦æœ‰å¯¹ä¸€ä¸ªè¡¨çš„æ›´æ–°ï¼Œè¿™ä¸ªè¡¨ä¸Šæ‰€æœ‰çš„æŸ¥è¯¢ç¼“å­˜éƒ½ä¼šè¢«æ¸…ç©ºã€‚</mark></p><p><strong>MySQL 8.0 ç‰ˆæœ¬ç›´æ¥å°†æŸ¥è¯¢ç¼“å­˜ çš„æ•´å—åŠŸèƒ½åˆ æ‰äº†ã€‚</strong></p><h3 id="_3-åˆ†æå™¨-åšä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_3-åˆ†æå™¨-åšä»€ä¹ˆ"><span>3ï¼‰åˆ†æå™¨ï¼ˆåšä»€ä¹ˆï¼‰</span></a></h3><p>åˆ†æå™¨å…ˆè¿›è¡Œè¯æ³•åˆ†æï¼Œè¾“å…¥çš„æ˜¯ç”±å¤šä¸ªå­—ç¬¦ä¸²å’Œç©ºæ ¼ç»„æˆçš„ä¸€æ¡ SQL è¯­å¥ï¼ŒMySQLéœ€è¦è¯†åˆ«å‡ºé‡Œé¢çš„å­—ç¬¦ä¸²åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»£è¡¨ä»€ä¹ˆã€‚MySQLä»ä½ è¾“å…¥çš„&quot;select&quot;è¿™ä¸ªå…³é”®å­—è¯†åˆ«å‡ºæ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ã€‚å®ƒä¹Ÿè¦æŠŠå­—ç¬¦ä¸²â€œTâ€è¯†åˆ«æˆâ€œè¡¨å Tâ€ï¼ŒæŠŠå­—ç¬¦ä¸²â€œIDâ€è¯†åˆ«æˆâ€œåˆ— IDâ€ã€‚<br> ç„¶åæ˜¯è¯­æ³•åˆ†æã€‚æ ¹æ®è¯æ³•åˆ†æçš„ç»“æœï¼Œè¯­æ³•åˆ†æå™¨ä¼šæ ¹æ®è¯­æ³•è§„åˆ™ï¼Œåˆ¤æ–­ä½ è¾“å…¥çš„è¿™ä¸ª SQL è¯­å¥æ˜¯å¦æ»¡è¶³ MySQL è¯­æ³•ã€‚</p><h3 id="_4-ä¼˜åŒ–å™¨-æ€ä¹ˆåš" tabindex="-1"><a class="header-anchor" href="#_4-ä¼˜åŒ–å™¨-æ€ä¹ˆåš"><span>4ï¼‰ä¼˜åŒ–å™¨ï¼ˆæ€ä¹ˆåšï¼‰</span></a></h3><p>ç»è¿‡äº†åˆ†æå™¨ï¼ŒMySQL å°±çŸ¥é“ä½ è¦åšä»€ä¹ˆäº†ã€‚åœ¨å¼€å§‹æ‰§è¡Œä¹‹å‰ï¼Œè¿˜è¦å…ˆç»è¿‡ä¼˜åŒ–å™¨çš„å¤„ç†ã€‚<br> ä¼˜åŒ–å™¨æ˜¯åœ¨è¡¨é‡Œé¢æœ‰å¤šä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå†³å®šä½¿ç”¨å“ªä¸ªç´¢å¼•ï¼›æˆ–è€…åœ¨ä¸€ä¸ªè¯­å¥æœ‰å¤šè¡¨å…³è”ï¼ˆjoinï¼‰çš„æ—¶å€™ï¼Œå†³å®šå„ä¸ªè¡¨çš„è¿æ¥é¡ºåºã€‚<br> ä¼˜åŒ–å™¨å°±æ˜¯å†³å®šæ‰§è¡Œçš„æ–¹æ¡ˆï¼Œåœ¨ä¸åŒæ‰§è¡Œæ–¹æ³•ç›¸åŒçš„é€»è¾‘ç»“æœä¸‹ï¼Œé€‰æ‹©ä¸€ç§æ‰§è¡Œæ–¹æ¡ˆã€‚<br> ä¼˜åŒ–å™¨é˜¶æ®µå®Œæˆåï¼Œè¿™ä¸ªè¯­å¥çš„æ‰§è¡Œæ–¹æ¡ˆå°±ç¡®å®šä¸‹æ¥äº†ï¼Œç„¶åè¿›å…¥æ‰§è¡Œå™¨é˜¶æ®µã€‚</p><h3 id="_5-æ‰§è¡Œå™¨-å¼€å§‹åš" tabindex="-1"><a class="header-anchor" href="#_5-æ‰§è¡Œå™¨-å¼€å§‹åš"><span>5ï¼‰æ‰§è¡Œå™¨ï¼ˆå¼€å§‹åšï¼‰</span></a></h3><p>MySQL é€šè¿‡åˆ†æå™¨çŸ¥é“äº†ä½ è¦åšä»€ä¹ˆï¼Œé€šè¿‡ä¼˜åŒ–å™¨çŸ¥é“äº†è¯¥æ€ä¹ˆåšï¼Œäºæ˜¯å°±è¿›å…¥äº†æ‰§è¡Œå™¨é˜¶æ®µï¼Œå¼€å§‹æ‰§è¡Œè¯­å¥ã€‚<br> å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œè¦å…ˆåˆ¤æ–­ä¸€ä¸‹ä½ å¯¹è¿™ä¸ªè¡¨ T æœ‰æ²¡æœ‰æ‰§è¡ŒæŸ¥è¯¢çš„æƒé™ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šè¿”å›æ²¡æœ‰æƒé™çš„é”™è¯¯ã€‚å¦‚æœæœ‰æƒé™ï¼Œå°±æ‰“å¼€è¡¨ç»§ç»­æ‰§è¡Œã€‚æ‰“å¼€è¡¨çš„æ—¶å€™ï¼Œæ‰§è¡Œå™¨å°±ä¼šæ ¹æ®è¡¨çš„å¼•æ“å®šä¹‰ï¼Œå»ä½¿ç”¨è¿™ä¸ªå¼•æ“æä¾›çš„æ¥å£ã€‚<br> æ ·ä¾‹ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> from T where </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ID</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœè¿™ä¸ªä¾‹å­ä¸­çš„è¡¨ T ä¸­ï¼ŒID å­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆæ‰§è¡Œå™¨çš„æ‰§è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><p>è°ƒç”¨ InnoDB å¼•æ“æ¥å£å–è¿™ä¸ªè¡¨çš„ç¬¬ä¸€è¡Œï¼Œåˆ¤æ–­ ID å€¼æ˜¯ä¸æ˜¯ 10ï¼Œå¦‚æœä¸æ˜¯åˆ™è·³è¿‡ï¼Œå¦‚æœæ˜¯åˆ™å°†è¿™è¡Œå­˜åœ¨ç»“æœé›†ä¸­ã€‚<br> è°ƒç”¨å¼•æ“æ¥å£å–â€œä¸‹ä¸€è¡Œâ€ï¼Œé‡å¤ç›¸åŒçš„åˆ¤æ–­é€»è¾‘ï¼Œç›´åˆ°å–åˆ°è¿™ä¸ªè¡¨çš„æœ€åä¸€è¡Œã€‚<br> æ‰§è¡Œå™¨å°†ä¸Šè¿°éå†è¿‡ç¨‹ä¸­æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è¡Œç»„æˆçš„è®°å½•é›†ä½œä¸ºç»“æœé›†è¿”å›ç»™å®¢æˆ·ç«¯ã€‚<br> å¯¹äºæœ‰ç´¢å¼•çš„è¡¨ï¼Œåˆ™æ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ˜¯â€œå–æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€è¡Œâ€è¿™ä¸ªæ¥å£ï¼Œä¹‹åå¾ªç¯å–â€œæ»¡è¶³æ¡ä»¶çš„ä¸‹ä¸€è¡Œâ€è¿™ä¸ªæ¥å£ï¼Œè¿™äº›æ¥å£éƒ½æ˜¯å¼•æ“ä¸­å·²ç»å®šä¹‰å¥½çš„ã€‚</p><p>åœ¨æ•°æ®åº“çš„æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ°ä¸€ä¸ª == rows_examined== çš„å­—æ®µï¼Œè¡¨ç¤ºè¿™ä¸ªè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰«æäº†å¤šå°‘è¡Œã€‚è¿™ä¸ªå€¼å°±æ˜¯åœ¨æ‰§è¡Œå™¨æ¯æ¬¡è°ƒç”¨å¼•æ“è·å–æ•°æ®è¡Œçš„æ—¶å€™ç´¯åŠ çš„ã€‚ä½†æ˜¯åœ¨æœ‰äº›åœºæ™¯ä¸‹ï¼Œæ‰§è¡Œå™¨è°ƒç”¨ä¸€æ¬¡ï¼Œå¼•æ“å†…éƒ¨æ‰«æäº†å¤šè¡Œï¼Œå› æ­¤å¼•æ“æ‰«æè¡Œæ•°è·Ÿ rows_examined å¹¶ä¸æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚</p><h3 id="_6-å­˜å‚¨å¼•æ“-è½ç›˜" tabindex="-1"><a class="header-anchor" href="#_6-å­˜å‚¨å¼•æ“-è½ç›˜"><span>6ï¼‰å­˜å‚¨å¼•æ“ï¼ˆè½ç›˜ï¼‰</span></a></h3><ul><li>å­˜å‚¨å¼•æ“çš„ä»»åŠ¡æ˜¯å°†æ‰§è¡Œå™¨çš„æŒ‡ä»¤è½åœ¨æ•°æ®åº“æ–‡ä»¶ä¸Š</li><li>ä¸åŒçš„å­˜å‚¨å¼•æ“çš„åŸç†å’Œæ‰§è¡Œçš„æ–¹æ³•æœ‰å¾ˆå¤§ä¸åŒï¼ˆè¿™ä¸ªæ˜¯åç»­è¯¾ç¨‹è¦ç€é‡å»è®²è§£å’Œåˆ†æçš„é—®é¢˜ï¼‰</li></ul><h3 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“"><span>å°ç»“</span></a></h3><ul><li>SQLè¯­å¥æ‰§è¡Œçš„è¿‡ç¨‹è®¾è®¡åˆ°äº†MYSQLå‡ ä¹æ‰€æœ‰çš„æ¨¡å—</li><li>ä¸€ä¸ªSQLè¯­å¥æ˜¯æŒ‰ç…§ï¼Œåˆ†æ-ä¼˜åŒ–-æ‰§è¡Œ-è½ç›˜çš„æ­¥éª¤æ‰§è¡Œçš„</li><li>åœ¨MYSQL8.0ä¹‹åå·²ç»åœç”¨äº†æŸ¥è¯¢ç¼“å­˜çš„åŠŸèƒ½</li><li>ä¸åŒçš„å­˜å‚¨å¼•æ“æ‰§è¡Œçš„æ–¹å¼ä¸åŒ</li></ul><h1 id="_03ã€å¦‚ä½•è®¾è®¡æ•°æ®åº“è¡¨" tabindex="-1"><a class="header-anchor" href="#_03ã€å¦‚ä½•è®¾è®¡æ•°æ®åº“è¡¨"><span>03ã€å¦‚ä½•è®¾è®¡æ•°æ®åº“è¡¨</span></a></h1><h2 id="å°½é‡ä¸è¦è®©æ•°æ®åº“åšè¿‡å¤šè¿ç®—" tabindex="-1"><a class="header-anchor" href="#å°½é‡ä¸è¦è®©æ•°æ®åº“åšè¿‡å¤šè¿ç®—"><span><strong>å°½é‡ä¸è¦è®©æ•°æ®åº“åšè¿‡å¤šè¿ç®—</strong></span></a></h2><p>æ•°æ®åº“ä¸»è¦æ˜¯ç”¨æ¥å­˜å‚¨çš„ï¼Œæˆ‘ä»¬åº”é¿å…è®©æ•°æ®åº“åšè¿ç®—ï¼Œæ¯”å¦‚å†™å®šæ—¶ä»»åŠ¡ï¼Œ<a href="https://so.csdn.net/so/search?q=%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">å­˜å‚¨è¿‡ç¨‹</a>ç­‰ã€‚å¤æ‚çš„è®¡ç®—åº”è¯¥åœ¨ç¨‹åºä»£ç ä¸­å®ç°ã€‚æˆ‘ä»¬åº”è¯¥å°½é‡ç®€å•çš„ä½¿ç”¨æ•°æ®åº“ã€‚</p><h2 id="æ§åˆ¶æ•°æ®é‡" tabindex="-1"><a class="header-anchor" href="#æ§åˆ¶æ•°æ®é‡"><span><strong>æ§åˆ¶æ•°æ®é‡</strong></span></a></h2><p>ä¸€å¹´å†…å•è¡¨æ•°æ®é‡ä¸€èˆ¬å«charä¸è¶…è¿‡500Wæ¡</p><h2 id="å•è¡¨å­—æ®µæ•°é‡" tabindex="-1"><a class="header-anchor" href="#å•è¡¨å­—æ®µæ•°é‡"><span><strong>å•è¡¨å­—æ®µæ•°é‡</strong></span></a></h2><p>å•è¡¨çš„å­—æ®µåº”è¯¥å°‘è€Œç²¾ï¼Œé‚£å¤šå°‘åˆé€‚å‘¢ï¼Ÿä¸€èˆ¬å•è¡¨å­—æ®µä¸Šé™æ§åˆ¶åœ¨20åˆ°50ä¸ªã€‚</p><p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¦æ³¨æ„é¿å…ä½¿ç”¨å¤§SQLã€å¤§äº‹åŠ¡ã€‚</p><h2 id="é¿å…ä½¿ç”¨nullå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#é¿å…ä½¿ç”¨nullå­—æ®µ"><span><strong>é¿å…ä½¿ç”¨NULLå­—æ®µ</strong></span></a></h2><p>ä¸ºä»€ä¹ˆåœ¨æ•°æ®åº“è¡¨å­—æ®µè®¾è®¡çš„æ—¶å€™å°½é‡éƒ½åŠ ä¸ŠNOT NULL DEFAULT &#39;&#39;ï¼Œè¿™é‡Œé¢ä¸å¾—ä¸è¯´ç”¨NULLå­—æ®µçš„å¼Šç«¯ï¼š</p><ul><li>å¾ˆéš¾è¿›è¡ŒæŸ¥è¯¢ä¼˜åŒ–</li><li>NULLåˆ—åŠ ç´¢å¼•ï¼Œéœ€è¦é¢å¤–ç©ºé—´</li><li>å«NULLå¤åˆç´¢å¼•æ— æ•ˆ</li><li>count(age) age=nullæ˜¯ä¸ä¼šç»Ÿè®¡çš„</li></ul><p>ä¸¾ä¾‹ï¼š</p><p>1ï¼‰<code>a</code> char(32) DEFAULT NULL <strong>ã€ä¸æ¨èã€‘</strong></p><p>2ï¼‰<code>b</code> int(10) NOT NULL <strong>ã€ä¸æ¨èã€‘</strong></p><p>3ï¼‰<code>c</code> int(10) NOT NULL DEFAULT 0 <strong>ã€æ¨èã€‘</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`a`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`b`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ¯”å¦‚ä¸Šé¢è¿™ç§ã€‚</p><h2 id="å°‘ç”¨text" tabindex="-1"><a class="header-anchor" href="#å°‘ç”¨text"><span><strong>å°‘ç”¨TEXT</strong></span></a></h2><p>TEXTç±»å‹å¤„ç†æ€§èƒ½è¿œä½äºVARCHAR</p><ul><li>å¼ºåˆ¶ç”Ÿæˆç¡¬ç›˜ä¸´æ—¶è¡¨</li><li>æµªè´¹æ›´å¤šç©ºé—´</li><li>VARCHAR(65535)==&gt;64K(æ³¨æ„UTF-8)</li></ul><p>å°½é‡ä¸ç”¨TEXT/BLOBæ•°æ®ç±»å‹</p><p>å¦‚æœä¸šåŠ¡éœ€è¦å¿…é¡»ç”¨ï¼Œå»ºè®®æ‹†åˆ†åˆ°å•ç‹¬çš„è¡¨</p><h2 id="å°½é‡æ§åˆ¶è¡¨å­—æ®µæ•°é‡" tabindex="-1"><a class="header-anchor" href="#å°½é‡æ§åˆ¶è¡¨å­—æ®µæ•°é‡"><span>å°½é‡æ§åˆ¶è¡¨å­—æ®µæ•°é‡</span></a></h2><p>å•è¡¨çš„å­—æ®µæ•°é‡ä¹Ÿä¸èƒ½å¤ªå¤šï¼Œæ ¹æ®ä¸šåŠ¡åœºæ™¯è¿›è¡Œä¼˜åŒ–è°ƒæ•´ï¼Œå°½é‡è°ƒæ•´è¡¨å­—æ®µæ•°å°‘è€Œç²¾ï¼Œè¿™æ ·æœ‰ä»¥ä¸‹å¥½å¤„ï¼š</p><ul><li>IOé«˜æ•ˆ</li><li>å…¨è¡¨éå†</li><li>è¡¨ä¿®å¤å¿«</li><li>æé«˜å¹¶å‘</li><li>alter tableæ›´å¿«</li></ul><p>é‚£ç©¶ç«Ÿå•è¡¨å¤šå°‘å­—æ®µåˆé€‚å‘¢ï¼Ÿ</p><p>æŒ‰ç…§å•è¡¨1Gä½“ç§¯ï¼Œ500Wè¡Œæ•°æ®é‡è¿›è¡Œè¯„ä¼°ï¼š</p><ul><li>é¡ºåºè¯»1Gæ–‡ä»¶éœ€Nç§’</li><li>å•è¡Œä¸è¶…è¿‡200Byte</li><li>å•è¡¨ä¸è¶…50ä¸ªçº¯INTå­—æ®µ</li><li>å•è¡¨ä¸è¶…20ä¸ªCHAR(10)å­—æ®µ</li></ul><p><strong>==&gt;å»ºè®®å•è¡¨å­—æ®µæ•°ä¸Šé™æ§åˆ¶åœ¨20~50ä¸ª</strong></p><h2 id="å¹³è¡¡èŒƒå¼ä¸å†—ä½™" tabindex="-1"><a class="header-anchor" href="#å¹³è¡¡èŒƒå¼ä¸å†—ä½™"><span>å¹³è¡¡èŒƒå¼ä¸å†—ä½™</span></a></h2><p>æ•°æ®åº“è¡¨ç»“æ„çš„è®¾è®¡ä¹Ÿè®²ç©¶å¹³è¡¡ï¼Œä»¥å¾€æˆ‘ä»¬ç»å¸¸è¯´è¦ä¸¥æ ¼éµå¾ªä¸‰å¤§èŒƒå¼ï¼Œæ‰€ä»¥å…ˆæ¥è¯´è¯´ä»€ä¹ˆæ˜¯èŒƒå¼ï¼š</p><p>ç¬¬ä¸€èŒƒå¼ï¼šå•ä¸ªå­—æ®µä¸å¯å†åˆ†ã€‚å”¯ä¸€æ€§ã€‚</p><p>ç¬¬äºŒèŒƒå¼ï¼šä¸å­˜åœ¨éä¸»å±æ€§åªä¾èµ–éƒ¨åˆ†ä¸»é”®ã€‚æ¶ˆé™¤ä¸å®Œå…¨ä¾èµ–ã€‚</p><p>ç¬¬ä¸‰èŒƒå¼ï¼šæ¶ˆé™¤ä¼ é€’ä¾èµ–ã€‚</p><p>ç”¨ä¸€å¥è¯æ¥æ€»ç»“èŒƒå¼å’Œå†—ä½™ï¼š</p><p><strong>å†—ä½™æ˜¯ä»¥å­˜å‚¨æ¢å–æ€§èƒ½ï¼Œ</strong></p><p><strong>èŒƒå¼æ˜¯ä»¥æ€§èƒ½æ¢å–å­˜å‚¨ã€‚</strong></p><p>æ‰€ä»¥ï¼Œä¸€èˆ¬åœ¨å®é™…å·¥ä½œä¸­å†—ä½™æ›´å—æ¬¢è¿ä¸€äº›ã€‚</p><p>æ¨¡å‹è®¾è®¡æ—¶ï¼Œè¿™ä¸¤æ–¹é¢çš„å…·ä½“çš„æƒè¡¡ï¼Œé¦–å…ˆè¦ä»¥ä¼ä¸šæä¾›çš„è®¡ç®—èƒ½åŠ›å’Œå­˜å‚¨èµ„æºä¸ºåŸºç¡€ã€‚</p><p>å…¶æ¬¡ï¼Œä¸€èˆ¬äº’è”ç½‘è¡Œä¸šä¸­éƒ½æ ¹æ®Kimballæ¨¡å¼å®æ–½æ•°æ®ä»“åº“ï¼Œå»ºæ¨¡ä¹Ÿæ˜¯ä»¥ä»»åŠ¡é©±åŠ¨çš„ï¼Œå› æ­¤å†—ä½™å’ŒèŒƒå¼çš„æƒè¡¡ç¬¦åˆä»»åŠ¡éœ€è¦ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸€ä»½æŒ‡æ ‡æ•°æ®ï¼Œå¿…é¡»åœ¨æ—©ä¸Š8ç‚¹ä¹‹å‰å¤„ç†å®Œæˆï¼Œä½†è®¡ç®—çš„æ—¶é—´çª—å£åˆå¾ˆå°ï¼Œè¦å°½å¯èƒ½å‡å°‘æŒ‡æ ‡çš„è®¡ç®—è€—æ—¶ï¼Œè¿™æ—¶åœ¨è®¡ç®—è¿‡ç¨‹ä¸­è¦å°½å¯èƒ½å‡å°‘å¤šè¡¨å…³è”ï¼Œæ¨¡å‹è®¾è®¡æ—¶éœ€è¦åšæ›´å¤šçš„å†—ä½™ã€‚</p><h2 id="æ‹’ç»3b" tabindex="-1"><a class="header-anchor" href="#æ‹’ç»3b"><span>æ‹’ç»3B</span></a></h2><p>æ•°æ®åº“çš„å¹¶å‘å°±åƒåŸå¸‚äº¤é€šï¼Œå‘ˆéçº¿æ€§å¢é•¿</p><p>è¿™å°±è¦æ±‚æˆ‘ä»¬åœ¨åšæ•°æ®åº“å¼€å‘çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„é«˜å¹¶å‘ä¸‹çš„ç“¶é¢ˆï¼Œé˜²æ­¢å› é«˜å¹¶å‘é€ æˆæ•°æ®åº“ç˜«ç—ªã€‚</p><p>è¿™é‡Œçš„æ‹’ç»3Bæ˜¯æŒ‡ï¼š</p><ul><li>å¤§SQLï¼ˆ<strong>B</strong>IG SQLï¼‰ï¼šè¦å‡å°‘</li><li>å¤§äº‹åŠ¡ï¼ˆ<strong>B</strong>IG Transactionï¼‰</li><li>å¤§æ‰¹é‡ï¼ˆ<strong>B</strong>IG Batchï¼‰</li></ul><h2 id="ç”¨å¥½æ•°å€¼å­—æ®µç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç”¨å¥½æ•°å€¼å­—æ®µç±»å‹"><span>ç”¨å¥½æ•°å€¼å­—æ®µç±»å‹</span></a></h2><p>ä¸‰ç±»æ•°å€¼ç±»å‹ï¼š</p><ul><li>æ•´å‹ï¼šTINYINT(1Byte)ã€TINYINT(1Byte)ã€SMALLINT(2B)ã€MEDIUMINT(3B)ã€INT(4B)ã€BIGINT(8B)</li><li>æµ®ç‚¹å‹ï¼šFLOAT(4B)ã€DOUBLE(8B)</li><li>DECIMAL(M,D)</li></ul><p>ä»¥å‡ ä¸ªå¸¸è§çš„ä¾‹å­æ¥è¿›è¡Œè¯´æ˜ï¼š</p><p>1ï¼‰INT(1) VS INT(11)</p><p>å¾ˆå¤šäººéƒ½åˆ†ä¸æ¸…INT(1)å’ŒINT(11)çš„åŒºåˆ«ï¼Œæƒ³å¿…å¤§å®¶ä¹Ÿå¾ˆå¥½å¥‡å§ï¼Œå…¶å®1å’Œ11å…¶å®åªæ˜¯æ˜¾ç¤ºé•¿åº¦çš„å´åˆ«è€Œå·²ï¼Œä¹Ÿå°±æ˜¯ä¸ç®¡intï¼ˆxï¼‰xçš„å€¼æ˜¯ä»€ä¹ˆå€¼ï¼Œå­˜å‚¨æ•°å­—çš„å–å€¼èŒƒå›´è¿˜æ˜¯intæœ¬èº«æ•°æ®ç±»å‹çš„å–å€¼èŒƒå›´ï¼Œxåªæ˜¯æ•°æ®æ˜¾ç¤ºçš„é•¿åº¦è€Œå·²ã€‚</p><p>2ï¼‰BIGINT AUTO_INCREMENT</p><p>å¤§å®¶éƒ½çŸ¥é“ï¼Œæœ‰ç¬¦å·intæœ€å¤§å¯ä»¥æ”¯æŒåˆ°çº¦22äº¿ï¼Œè¿œè¿œå¤§äºæˆ‘ä»¬çš„éœ€æ±‚å’ŒMySQLå•è¡¨æ‰€èƒ½æ”¯æŒçš„æ€§èƒ½ä¸Šé™ã€‚å¯¹äºOLTPåº”ç”¨æ¥è¯´ï¼Œå•è¡¨çš„è§„æ¨¡ä¸€èˆ¬è¦ä¿æŒåœ¨åƒä¸‡çº§åˆ«ï¼Œä¸ä¼šè¾¾åˆ°22äº¿ä¸Šé™ã€‚å¦‚æœè¦åŠ å¤§é¢„ç•™é‡ï¼Œå¯ä»¥æŠŠä¸»é”®æ”¹ä¸ºæ”¹ä¸ºæ— ç¬¦å·intï¼Œä¸Šé™ä¸º42äº¿ï¼Œè¿™ä¸ªé¢„ç•™é‡å·²ç»æ˜¯éå¸¸çš„å……è¶³äº†ã€‚</p><p>ä½¿ç”¨bigintï¼Œä¼šå ç”¨æ›´å¤§çš„ç£ç›˜å’Œå†…å­˜ç©ºé—´ï¼Œå†…å­˜ç©ºé—´æ¯•ç«Ÿæœ‰é™ï¼Œæ— æ•ˆçš„å ç”¨ä¼šå¯¼è‡´æ›´å¤šçš„æ•°æ®æ¢å…¥æ¢å‡ºï¼Œé¢å¤–å¢åŠ äº†IOçš„å‹åŠ›ï¼Œå¯¹æ€§èƒ½æ˜¯ä¸åˆ©çš„ã€‚</p><p><strong>å› æ­¤æ¨èè‡ªå¢ä¸»é”®ä½¿ç”¨int unsignedç±»å‹ï¼Œä½†ä¸å»ºè®®ä½¿ç”¨bigintã€‚</strong></p><p>3ï¼‰DECIMAL(N,0)</p><p>å½“é‡‡ç”¨DECIMALæ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œä¸€èˆ¬å°æ•°ä½æ•°ä¸ä¼šæ˜¯0ï¼Œå¦‚æœå°æ•°ä½æ•°è®¾ç½®ä¸º0ï¼Œé‚£å»ºè®®ä½¿ç”¨INTç±»å‹</p><h2 id="ä¸åœ¨æ•°æ®åº“é‡Œå­˜å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#ä¸åœ¨æ•°æ®åº“é‡Œå­˜å›¾ç‰‡"><span>ä¸åœ¨æ•°æ®åº“é‡Œå­˜å›¾ç‰‡</span></a></h2><p>å¯è§ï¼Œå¦‚æœå°†å›¾ç‰‡å…¨éƒ¨å­˜åœ¨æ•°æ®åº“ï¼Œå°†ä½¿å¾—æ•°æ®åº“ä½“ç§¯å˜å¤§ï¼Œä¼šé€ æˆè¯»å†™é€Ÿåº¦å˜æ…¢ã€‚</p><p>å›¾ç‰‡å­˜æ•°æ®åº“çš„å¼Šç«¯ï¼š</p><ul><li>å¯¹æ•°æ®åº“çš„è¯»/å†™çš„é€Ÿåº¦æ°¸è¿œéƒ½èµ¶ä¸ä¸Šæ–‡ä»¶ç³»ç»Ÿå¤„ç†çš„é€Ÿåº¦</li><li>æ•°æ®åº“å¤‡ä»½å˜çš„å·¨å¤§ï¼Œè¶Šæ¥è¶Šè€—æ—¶é—´</li><li>å¯¹æ–‡ä»¶çš„è®¿é—®éœ€è¦ç©¿è¶Šä½ çš„åº”ç”¨å±‚å’Œæ•°æ®åº“å±‚</li></ul><h2 id="æ•°æ®è¡¨çš„è®¾è®¡åŸåˆ™å…¶å®ƒå‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¡¨çš„è®¾è®¡åŸåˆ™å…¶å®ƒå‚è€ƒ"><span>æ•°æ®è¡¨çš„è®¾è®¡åŸåˆ™å…¶å®ƒå‚è€ƒ</span></a></h2><p>1ã€æ•°æ®è¡¨çš„ä¸ªæ•°è¶Šå°‘è¶Šå¥½</p><p>RDBMSçš„æ ¸å¿ƒåœ¨äºå¯¹å®ä½“å’Œè”ç³»çš„å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯E-Rå›¾ï¼ˆEntity Relationship Diagramï¼‰ï¼Œæ•°æ®è¡¨è¶Šå°‘ï¼Œè¯æ˜å®ä½“å’Œè”ç³»è®¾è®¡å¾—è¶Šç®€æ´ï¼Œæ—¢æ–¹ä¾¿ç†è§£åˆæ–¹ä¾¿æ“ä½œã€‚</p><p>2ã€æ•°æ®è¡¨ä¸­çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½</p><p>å­—æ®µä¸ªæ•°è¶Šå¤šï¼Œæ•°æ®å†—ä½™çš„å¯èƒ½æ€§è¶Šå¤§ã€‚è®¾ç½®å­—æ®µä¸ªæ•°å°‘çš„å‰ææ˜¯å„ä¸ªå­—æ®µç›¸äº’ç‹¬ç«‹ï¼Œè€Œä¸æ˜¯æŸä¸ªå­—æ®µçš„å–å€¼å¯ä»¥ç”±å…¶ä»–å­—æ®µè®¡ç®—å‡ºæ¥ï¼Œå½“ç„¶å­—æ®µä¸ªæ•°å°‘æ˜¯ç›¸å¯¹çš„ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨æ•°æ®å†—ä½™å’Œæ£€ç´¢æ•ˆç‡ä¸­è¿›è¡Œå¹³è¡¡ã€‚</p><p>3ã€æ•°æ®è¡¨ä¸­è”åˆä¸»é”®çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½</p><p>è®¾ç½®ä¸»é”®æ˜¯ä¸ºäº†ç¡®å®šå”¯ä¸€æ€§ï¼Œå½“ä¸€ä¸ªå­—æ®µæ— æ³•ç¡®å®šå”¯ä¸€æ€§çš„æ—¶å€™ï¼Œå°±éœ€è¦é‡‡ç”¨è”åˆä¸»é”®çš„æ–¹å¼ï¼ˆä¹Ÿå°±æ˜¯ç”¨å¤šä¸ªå­—æ®µæ¥å®šä¹‰ä¸€ä¸ªä¸»é”®ï¼‰ã€‚è”åˆä¸»é”®ä¸­çš„å­—æ®µè¶Šå¤šï¼Œå ç”¨çš„ç´¢å¼•ç©ºé—´è¶Šå¤§ï¼Œä¸ä»…ä¼šåŠ å¤§ç†è§£éš¾åº¦ï¼Œè¿˜ä¼šå¢åŠ è¿è¡Œæ—¶é—´å’Œç´¢å¼•ç©ºé—´ï¼Œå› æ­¤è”åˆä¸»é”®çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½ã€‚</p><p>4ã€ä½¿ç”¨ä¸»éµå’Œå¤–éµè¶Šå¤šè¶Šå¥½</p><p>æ•°æ®åº“çš„è®¾è®¡å®é™…ä¸Šå°±æ˜¯å®šä¹‰å„ç§è¡¨ï¼Œä»¥åŠå„ç§å­—æ®µä¹‹é—´çš„å…³ç³»ã€‚è¿™äº›å…³ç³»è¶Šå¤šï¼Œè¯æ˜è¿™äº›å®ä½“ä¹‹é—´çš„å†—ä½™åº¦è¶Šä½ï¼Œåˆ©ç”¨åº¦è¶Šé«˜ï¼Œè¿™æ ·åšçš„å¥½å¤„åœ¨äºä¸ä»…ä¿è¯äº†æ•°æ®è¡¨ä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼Œè¿˜èƒ½æå‡ç›¸äº’ä¹‹é—´çš„å…³è”ä½¿ç”¨ç‡ã€‚</p><p>â€œä¸‰å°‘ä¸€å¤š&quot;åŸåˆ™çš„æ ¸å¿ƒå°±æ˜¯ç®€å•å¯å¤ç”¨ã€‚ç®€å•æŒ‡çš„æ˜¯ç”¨æ›´å°‘çš„è¡¨ã€æ›´å°‘çš„å­—æ®µã€æ›´å°‘çš„è”åˆä¸»é”®å­—æ®µæ¥å®Œæˆæ•°æ®è¡¨çš„è®¾è®¡ã€‚å¯å¤ç”¨åˆ™æ˜¯é€šè¿‡ä¸»é”®ã€å¤–é”®çš„ä½¿ç”¨æ¥å¢å¼ºæ•°æ®è¡¨ä¹‹é—´çš„å¤ç”¨ç‡ã€‚å› ä¸ºä¸€ä¸ªä¸»é”®å¯ä»¥ç†è§£æ˜¯ä¸€å¼ è¡¨çš„ä»£è¡¨ã€‚é”®è®¾è®¡å¾—è¶Šå¤šï¼Œè¯æ˜å®ƒä»¬ä¹‹é—´çš„åˆ©ç”¨ç‡è¶Šé«˜ã€‚</p><p>æ³¨æ„ï¼šè¿™ä¸ªåŸåˆ™å¹¶ä¸æ˜¯ç»å¯¹çš„ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ç‰ºç‰²æ•°æ®çš„å†—ä½™åº¦æ¥æ¢å–æ•°æ®å¤„ç†çš„æ•ˆç‡ã€‚</p><h2 id="æ•°æ®åº“å¯¹è±¡ç¼–å†™å»ºè®®" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“å¯¹è±¡ç¼–å†™å»ºè®®"><span>æ•°æ®åº“å¯¹è±¡ç¼–å†™å»ºè®®</span></a></h2><p>å…³äºåº“<br> ã€å¼ºåˆ¶ã€‘åº“çš„åç§°å¿…é¡»æ§åˆ¶åœ¨32ä¸ªå­—ç¬¦ä»¥å†…ï¼Œåªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œå»ºè®®ä»¥è‹±æ–‡å­— æ¯å¼€å¤´ã€‚<br> ã€å¼ºåˆ¶ã€‘åº“åä¸­è‹±æ–‡ ä¸€å¾‹å°å†™ ï¼Œä¸åŒå•è¯é‡‡ç”¨ ä¸‹åˆ’çº¿ åˆ†å‰²ã€‚é¡»è§åçŸ¥æ„ã€‚<br> ã€å¼ºåˆ¶ã€‘åº“çš„åç§°æ ¼å¼ï¼šä¸šåŠ¡ç³»ç»Ÿåç§°_å­ç³»ç»Ÿåã€‚ _<br> ã€å¼ºåˆ¶ã€‘åº“åç¦æ­¢ä½¿ç”¨å…³é”®å­—ï¼ˆå¦‚type,orderç­‰ï¼‰ã€‚<br> ã€å¼ºåˆ¶ã€‘åˆ›å»ºæ•°æ®åº“æ—¶å¿…é¡» æ˜¾å¼æŒ‡å®šå­—ç¬¦é›† ï¼Œå¹¶ä¸”å­—ç¬¦é›†åªèƒ½æ˜¯utf8æˆ–è€…utf8mb4ã€‚ åˆ›å»ºæ•°æ®åº“SQLä¸¾ä¾‹ï¼šCREATE DATABASE crm_fund DEFAULT CHARACTER SET â€˜utf8â€™ ;<br> ã€å»ºè®®ã€‘å¯¹äºç¨‹åºè¿æ¥æ•°æ®åº“è´¦å·ï¼Œéµå¾ª æƒé™æœ€å°åŸåˆ™ ä½¿ç”¨æ•°æ®åº“è´¦å·åªèƒ½åœ¨ä¸€ä¸ªDBä¸‹ä½¿ç”¨ï¼Œä¸å‡†è·¨åº“ã€‚ç¨‹åºä½¿ç”¨çš„è´¦å· åŸåˆ™ä¸Šä¸å‡†æœ‰dropæƒé™ ã€‚<br> ã€å»ºè®®ã€‘ä¸´æ—¶åº“ä»¥ tmp_ ä¸ºå‰ç¼€ï¼Œå¹¶ä»¥æ—¥æœŸä¸ºåç¼€ï¼› å¤‡ä»½åº“ä»¥ bak_ ä¸ºå‰ç¼€ï¼Œå¹¶ä»¥æ—¥æœŸä¸ºåç¼€ã€‚<br> å…³äºè¡¨ã€åˆ—<br> 1.ã€å¼ºåˆ¶ã€‘è¡¨å’Œåˆ—çš„åç§°å¿…é¡»æ§åˆ¶åœ¨32ä¸ªå­—ç¬¦ä»¥å†…ï¼Œè¡¨ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œå»ºè®® ä»¥ è‹±æ–‡å­—æ¯å¼€å¤´ ã€‚</p><p>2.ã€å¼ºåˆ¶ã€‘è¡¨å’Œåˆ—çš„åç§°å¿…é¡»æ§åˆ¶åœ¨32ä¸ªå­—ç¬¦ä»¥å†…ï¼Œè¡¨ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œå»ºè®® ä»¥ è‹±æ–‡å­—æ¯å¼€å¤´ ã€‚</p><p>3.ã€å¼ºåˆ¶ã€‘è¡¨åè¦æ±‚æœ‰æ¨¡å—åå¼ºç›¸å…³ï¼ŒåŒä¸€æ¨¡å—çš„è¡¨åå°½é‡ä½¿ç”¨ ç»Ÿä¸€å‰ç¼€ ã€‚æ¯”å¦‚ï¼šcrm_fund_item</p><p>4.ã€å¼ºåˆ¶ã€‘åˆ›å»ºè¡¨æ—¶å¿…é¡» æ˜¾å¼æŒ‡å®šå­—ç¬¦é›† ä¸ºutf8æˆ–utf8mb4ã€‚</p><p>5.ã€å¼ºåˆ¶ã€‘è¡¨åã€åˆ—åç¦æ­¢ä½¿ç”¨å…³é”®å­—ï¼ˆå¦‚type,orderç­‰ï¼‰ã€‚</p><p>6.ã€å¼ºåˆ¶ã€‘åˆ›å»ºè¡¨æ—¶å¿…é¡» æ˜¾å¼æŒ‡å®šè¡¨å­˜å‚¨å¼•æ“ ç±»å‹ã€‚å¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œä¸€å¾‹ä¸ºInnoDBã€‚</p><p>7.ã€å¼ºåˆ¶ã€‘å»ºè¡¨å¿…é¡»æœ‰commentã€‚</p><p>8.ã€å¼ºåˆ¶ã€‘å­—æ®µå‘½ååº”å°½å¯èƒ½ä½¿ç”¨è¡¨è¾¾å®é™…å«ä¹‰çš„è‹±æ–‡å•è¯æˆ– ç¼©å†™ ã€‚å¦‚ï¼šå…¬å¸ IDï¼Œä¸è¦ä½¿ç”¨ corporation_id, è€Œç”¨corp_id å³å¯ã€‚</p><p>9.ã€å¼ºåˆ¶ã€‘å¸ƒå°”å€¼ç±»å‹çš„å­—æ®µå‘½åä¸º is_æè¿° ã€‚å¦‚memberè¡¨ä¸Šè¡¨ç¤ºæ˜¯å¦ä¸ºenabledçš„ä¼šå‘˜çš„å­—æ®µå‘½ åä¸º is_enabledã€‚</p><p>10.ã€å¼ºåˆ¶ã€‘ç¦æ­¢åœ¨æ•°æ®åº“ä¸­å­˜å‚¨å›¾ç‰‡ã€æ–‡ä»¶ç­‰å¤§çš„äºŒè¿›åˆ¶æ•°æ®</p><p>é€šå¸¸æ–‡ä»¶å¾ˆå¤§ï¼ŒçŸ­æ—¶é—´å†…é€ æˆæ•°æ®é‡å¿«é€Ÿå¢é•¿ï¼Œæ•°æ®åº“è¿›è¡Œæ•°æ®åº“è¯»å–æ—¶ï¼Œé€šå¸¸ä¼šè¿›è¡Œå¤§é‡çš„éš æœºIOæ“ä½œï¼Œæ–‡ä»¶å¾ˆå¤§æ—¶ï¼ŒIOæ“ä½œå¾ˆè€—æ—¶ã€‚é€šå¸¸å­˜å‚¨äºæ–‡ä»¶æœåŠ¡å™¨ï¼Œæ•°æ®åº“åªå­˜å‚¨æ–‡ä»¶åœ°å€ä¿¡æ¯ã€‚<br> 11.ã€å»ºè®®ã€‘å»ºè¡¨æ—¶å…³äºä¸»é”®ï¼š è¡¨å¿…é¡»æœ‰ä¸»é”® (1)å¼ºåˆ¶è¦æ±‚ä¸»é”®ä¸ºidï¼Œç±»å‹ä¸ºintæˆ–bigintï¼Œä¸”ä¸º auto_increment å»ºè®®ä½¿ç”¨unsignedæ— ç¬¦å·å‹ã€‚ (2)æ ‡è¯†è¡¨é‡Œæ¯ä¸€è¡Œä¸»ä½“çš„å­—æ®µä¸è¦è®¾ä¸ºä¸»é”®ï¼Œå»ºè®® è®¾ä¸ºå…¶ä»–å­—æ®µå¦‚user_idï¼Œorder_idç­‰ï¼Œå¹¶å»ºç«‹unique keyç´¢å¼•ã€‚å› ä¸ºå¦‚æœè®¾ä¸ºä¸»é”®ä¸”ä¸»é”®å€¼ä¸ºéšæœº æ’å…¥ï¼Œåˆ™ä¼šå¯¼è‡´innodbå†…éƒ¨é¡µåˆ†è£‚å’Œå¤§é‡éšæœºI/Oï¼Œæ€§èƒ½ä¸‹é™ã€‚</p><p>12.ã€å»ºè®®ã€‘æ ¸å¿ƒè¡¨ï¼ˆå¦‚ç”¨æˆ·è¡¨ï¼‰å¿…é¡»æœ‰è¡Œæ•°æ®çš„ åˆ›å»ºæ—¶é—´å­—æ®µ ï¼ˆcreate_timeï¼‰å’Œ æœ€åæ›´æ–°æ—¶é—´å­—æ®µ ï¼ˆupdate_timeï¼‰ï¼Œä¾¿äºæŸ¥é—®é¢˜ã€‚</p><p>13.ã€å»ºè®®ã€‘è¡¨ä¸­æ‰€æœ‰å­—æ®µå°½é‡éƒ½æ˜¯ NOT NULL å±æ€§ï¼Œä¸šåŠ¡å¯ä»¥æ ¹æ®éœ€è¦å®šä¹‰ DEFAULTå€¼ ã€‚ å› ä¸ºä½¿ç”¨ NULLå€¼ä¼šå­˜åœ¨æ¯ä¸€è¡Œéƒ½ä¼šå ç”¨é¢å¤–å­˜å‚¨ç©ºé—´ã€æ•°æ®è¿ç§»å®¹æ˜“å‡ºé”™ã€èšåˆå‡½æ•°è®¡ç®—ç»“æœåå·®ç­‰é—® é¢˜ã€‚</p><p>14.ã€å»ºè®®ã€‘æ‰€æœ‰å­˜å‚¨ç›¸åŒæ•°æ®çš„ åˆ—åå’Œåˆ—ç±»å‹å¿…é¡»ä¸€è‡´ ï¼ˆä¸€èˆ¬ä½œä¸ºå…³è”åˆ—ï¼Œå¦‚æœæŸ¥è¯¢æ—¶å…³è”åˆ—ç±»å‹ ä¸ä¸€è‡´ä¼šè‡ªåŠ¨è¿›è¡Œæ•°æ®ç±»å‹éšå¼è½¬æ¢ï¼Œä¼šé€ æˆåˆ—ä¸Šçš„ç´¢å¼•å¤±æ•ˆï¼Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡é™ä½ï¼‰ã€‚</p><p>15.ã€å»ºè®®ã€‘ä¸­é—´è¡¨ï¼ˆæˆ–ä¸´æ—¶è¡¨ï¼‰ç”¨äºä¿ç•™ä¸­é—´ç»“æœé›†ï¼Œåç§°ä»¥ tmp_ å¼€å¤´ã€‚</p><p>å¤‡ä»½è¡¨ç”¨äºå¤‡ä»½æˆ–æŠ“å–æºè¡¨å¿«ç…§ï¼Œåç§°ä»¥ bak_ å¼€å¤´ã€‚ä¸­é—´è¡¨å’Œå¤‡ä»½è¡¨å®šæœŸæ¸…ç†ã€‚<br> 16.ã€å»ºè®®ã€‘åˆ›å»ºè¡¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¯è§†åŒ–å·¥å…·ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿è¡¨ã€å­—æ®µç›¸å…³çš„çº¦å®šéƒ½èƒ½è®¾ç½®ä¸Šã€‚</p><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬é€šå¸¸å¾ˆå°‘è‡ªå·±å†™ DDL è¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›å¯è§†åŒ–å·¥å…·æ¥åˆ›å»ºå’Œæ“ä½œæ•°æ®åº“å’Œæ•°æ®è¡¨ã€‚ å¯è§†åŒ–å·¥å…·é™¤äº†æ–¹ä¾¿ï¼Œè¿˜èƒ½ç›´æ¥å¸®æˆ‘ä»¬å°†æ•°æ®åº“çš„ç»“æ„å®šä¹‰è½¬åŒ–æˆ SQL è¯­è¨€ï¼Œæ–¹ä¾¿æ•°æ®åº“å’Œæ•°æ®è¡¨ç»“æ„ çš„å¯¼å‡ºå’Œå¯¼å…¥ã€‚</p><h2 id="å…³äºç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#å…³äºç´¢å¼•"><span>å…³äºç´¢å¼•</span></a></h2><p>ã€å¼ºåˆ¶ã€‘InnoDBè¡¨å¿…é¡»ä¸»é”®ä¸ºid int/bigint auto_incrementï¼Œä¸”ä¸»é”®å€¼ ç¦æ­¢è¢«æ›´æ–° ã€‚<br> ã€å¼ºåˆ¶ã€‘InnoDBå’ŒMyISAMå­˜å‚¨å¼•æ“è¡¨ï¼Œç´¢å¼•ç±»å‹å¿…é¡»ä¸º BTREE ã€‚<br> ã€å»ºè®®ã€‘ä¸»é”®çš„åç§°ä»¥ pk_ å¼€å¤´ï¼Œå”¯ä¸€é”®ä»¥ uni_ æˆ– uk_ å¼€å¤´ï¼Œæ™®é€šç´¢å¼•ä»¥ idx_ å¼€å¤´ï¼Œä¸€å¾‹ ä½¿ç”¨å°å†™æ ¼å¼ï¼Œä»¥å­—æ®µçš„åç§°æˆ–ç¼©å†™ä½œä¸ºåç¼€ã€‚<br> ã€å»ºè®®ã€‘å¤šå•è¯ç»„æˆçš„columnnameï¼Œå–å‰å‡ ä¸ªå•è¯é¦–å­—æ¯ï¼ŒåŠ æœ«å•è¯ç»„æˆcolumn_nameã€‚å¦‚: sample è¡¨ member_id ä¸Šçš„ç´¢å¼•ï¼šidx_sample_midã€‚<br> ã€å»ºè®®ã€‘å•ä¸ªè¡¨ä¸Šçš„ç´¢å¼•ä¸ªæ•° ä¸èƒ½è¶…è¿‡6ä¸ª ã€‚<br> ã€å»ºè®®ã€‘åœ¨å»ºç«‹ç´¢å¼•æ—¶ï¼Œå¤šè€ƒè™‘å»ºç«‹ è”åˆç´¢å¼• ï¼Œå¹¶æŠŠåŒºåˆ†åº¦æœ€é«˜çš„å­—æ®µæ”¾åœ¨æœ€å‰é¢ã€‚<br> ã€å»ºè®®ã€‘åœ¨å¤šè¡¨ JOIN çš„SQLé‡Œï¼Œä¿è¯è¢«é©±åŠ¨è¡¨çš„è¿æ¥åˆ—ä¸Šæœ‰ç´¢å¼•ï¼Œè¿™æ ·JOIN æ‰§è¡Œæ•ˆç‡æœ€é«˜ã€‚<br> ã€å»ºè®®ã€‘å»ºè¡¨æˆ–åŠ ç´¢å¼•æ—¶ï¼Œä¿è¯è¡¨é‡Œäº’ç›¸ä¸å­˜åœ¨ å†—ä½™ç´¢å¼• ã€‚ æ¯”å¦‚ï¼šå¦‚æœè¡¨é‡Œå·²ç»å­˜åœ¨key(a,b)ï¼Œ åˆ™key(a)ä¸ºå†—ä½™ç´¢å¼•ï¼Œéœ€è¦åˆ é™¤ã€‚</p><h2 id="sqlç¼–å†™" tabindex="-1"><a class="header-anchor" href="#sqlç¼–å†™"><span>SQLç¼–å†™</span></a></h2><p>ã€å¼ºåˆ¶ã€‘ç¨‹åºç«¯SELECTè¯­å¥å¿…é¡»æŒ‡å®šå…·ä½“å­—æ®µåç§°ï¼Œç¦æ­¢å†™æˆ *ã€‚<br> ã€å»ºè®®ã€‘ç¨‹åºç«¯insertè¯­å¥æŒ‡å®šå…·ä½“å­—æ®µåç§°ï¼Œä¸è¦å†™æˆINSERT INTO t1 VALUES(â€¦)ã€‚<br> ã€å»ºè®®ã€‘é™¤é™æ€è¡¨æˆ–å°è¡¨ï¼ˆ100è¡Œä»¥å†…ï¼‰ï¼ŒDMLè¯­å¥å¿…é¡»æœ‰WHEREæ¡ä»¶ï¼Œä¸”ä½¿ç”¨ç´¢å¼•æŸ¥æ‰¾ã€‚<br> ã€å»ºè®®ã€‘INSERT INTOâ€¦VALUES(XX),(XX),(XX)â€¦ è¿™é‡ŒXXçš„å€¼ä¸è¦è¶…è¿‡5000ä¸ªã€‚ å€¼è¿‡å¤šè™½ç„¶ä¸Šçº¿å¾ˆ å¿«ï¼Œä½†ä¼šå¼•èµ·ä¸»ä»åŒæ­¥å»¶è¿Ÿã€‚<br> ã€å»ºè®®ã€‘SELECTè¯­å¥ä¸è¦ä½¿ç”¨UNIONï¼Œæ¨èä½¿ç”¨UNION ALLï¼Œå¹¶ä¸”UNIONå­å¥ä¸ªæ•°é™åˆ¶åœ¨5ä¸ªä»¥ å†…ã€‚<br> ã€å»ºè®®ã€‘çº¿ä¸Šç¯å¢ƒï¼Œå¤šè¡¨ JOIN ä¸è¦è¶…è¿‡5ä¸ªè¡¨ã€‚<br> ã€å»ºè®®ã€‘å‡å°‘ä½¿ç”¨ORDER BYï¼Œå’Œä¸šåŠ¡æ²Ÿé€šèƒ½ä¸æ’åºå°±ä¸æ’åºï¼Œæˆ–å°†æ’åºæ”¾åˆ°ç¨‹åºç«¯å»åšã€‚ORDER BYã€GROUP BYã€DISTINCT è¿™äº›è¯­å¥è¾ƒä¸ºè€—è´¹CPUï¼Œæ•°æ®åº“çš„CPUèµ„æºæ˜¯æå…¶å®è´µçš„ã€‚<br> ã€å»ºè®®ã€‘åŒ…å«äº†ORDER BYã€GROUP BYã€DISTINCT è¿™äº›æŸ¥è¯¢çš„è¯­å¥ï¼ŒWHERE æ¡ä»¶è¿‡æ»¤å‡ºæ¥çš„ç»“æœ é›†è¯·ä¿æŒåœ¨1000è¡Œä»¥å†…ï¼Œå¦åˆ™SQLä¼šå¾ˆæ…¢ã€‚<br> ã€å»ºè®®ã€‘å¯¹å•è¡¨çš„å¤šæ¬¡alteræ“ä½œå¿…é¡»åˆå¹¶ä¸ºä¸€æ¬¡ å¯¹äºè¶…è¿‡100Wè¡Œçš„å¤§è¡¨è¿›è¡Œalter tableï¼Œå¿…é¡»ç»è¿‡DBAå®¡æ ¸ï¼Œå¹¶åœ¨ä¸šåŠ¡ä½å³°æœŸæ‰§è¡Œï¼Œå¤šä¸ªalteréœ€æ•´ åˆåœ¨ä¸€èµ·ã€‚ å› ä¸ºalter tableä¼šäº§ç”Ÿ è¡¨é” ï¼ŒæœŸé—´é˜»å¡å¯¹äºè¯¥è¡¨çš„æ‰€æœ‰å†™å…¥ï¼Œå¯¹äºä¸šåŠ¡å¯èƒ½ä¼šäº§ç”Ÿæ å¤§å½±å“ã€‚<br> ã€å»ºè®®ã€‘æ‰¹é‡æ“ä½œæ•°æ®æ—¶ï¼Œéœ€è¦æ§åˆ¶äº‹åŠ¡å¤„ç†é—´éš”æ—¶é—´ï¼Œè¿›è¡Œå¿…è¦çš„sleepã€‚<br> ã€å»ºè®®ã€‘äº‹åŠ¡é‡ŒåŒ…å«SQLä¸è¶…è¿‡5ä¸ªã€‚ å› ä¸ºè¿‡é•¿çš„äº‹åŠ¡ä¼šå¯¼è‡´é”æ•°æ®è¾ƒä¹…ï¼ŒMySQLå†…éƒ¨ç¼“å­˜ã€è¿æ¥æ¶ˆè€—è¿‡å¤šç­‰é—®é¢˜ã€‚</p><p>ã€å»ºè®®ã€‘äº‹åŠ¡é‡Œæ›´æ–°è¯­å¥å°½é‡åŸºäºä¸»é”®æˆ–UNIQUE KEYï¼Œå¦‚UPDATEâ€¦ WHERE id=XX;å¦åˆ™ä¼šäº§ç”Ÿé—´éš™é”ï¼Œå†…éƒ¨æ‰©å¤§é”å®šèŒƒå›´ï¼Œå¯¼è‡´ç³»ç»Ÿæ€§èƒ½ä¸‹é™ï¼Œäº§ç”Ÿæ­»é”ã€‚</p><h2 id="mysqlä¸€å¼ è¡¨æœ€å¤šå¤šå°‘å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#mysqlä¸€å¼ è¡¨æœ€å¤šå¤šå°‘å­—æ®µ"><span><strong>mysqlä¸€å¼ è¡¨æœ€å¤šå¤šå°‘å­—æ®µ</strong></span></a></h2><p>MySQLæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å¼€æºå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥ç”¨äºå­˜å‚¨å’Œç®¡ç†å¤§é‡çš„æ•°æ®ã€‚åœ¨MySQLä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªè¡¨æ¥ç»„ç»‡æ•°æ®ï¼Œæ¯ä¸ªè¡¨å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µæ¥æè¿°å’Œå®šä¹‰æ•°æ®çš„ç»“æ„ã€‚ä½†æ˜¯ï¼Œæ¯å¼ è¡¨èƒ½å¤Ÿæ‹¥æœ‰çš„å­—æ®µæ•°é‡æ˜¯æœ‰é™åˆ¶çš„ã€‚</p><h3 id="å­—æ®µæ•°é‡é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#å­—æ®µæ•°é‡é™åˆ¶"><span>å­—æ®µæ•°é‡é™åˆ¶</span></a></h3><p>åœ¨MySQLä¸­ï¼Œæ¯å¼ è¡¨çš„å­—æ®µæ•°é‡æ˜¯æœ‰é™åˆ¶çš„ã€‚å…·ä½“çš„é™åˆ¶å–å†³äºæ‰€ä½¿ç”¨çš„MySQLç‰ˆæœ¬å’Œè¡¨çš„å­˜å‚¨å¼•æ“ã€‚å¯¹äºInnoDBå­˜å‚¨å¼•æ“ï¼ŒMySQL 5.7åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæ¯å¼ è¡¨çš„å­—æ®µæ•°é‡æœ€å¤šä¸º4096ä¸ªã€‚è€Œå¯¹äºMySQL 8.0åŠæ›´é«˜ç‰ˆæœ¬ï¼Œè¿™ä¸€é™åˆ¶è¢«æ‰©å¤§åˆ°äº†16384ä¸ªã€‚å¦‚æœä½¿ç”¨çš„æ˜¯MyISAMå­˜å‚¨å¼•æ“ï¼Œæ¯å¼ è¡¨çš„å­—æ®µæ•°é‡æœ€å¤šä¸º65535ä¸ªã€‚</p><p>é™¤äº†å­—æ®µæ•°é‡çš„é™åˆ¶å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘å…¶ä»–æ–¹é¢çš„å› ç´ ï¼Œä¾‹å¦‚è¡¨çš„è¡Œå¤§å°å’Œè¡¨çš„æ€»æ•°æ®å¤§å°ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸ä¸ä¼šå‡ºç°éœ€è¦ä½¿ç”¨å¦‚æ­¤å·¨å¤§æ•°é‡çš„å­—æ®µçš„æƒ…å†µã€‚å¦‚æœè¡¨çš„å­—æ®µæ•°é‡è¶…è¿‡å‡ åä¸ªï¼Œé€šå¸¸å¯ä»¥è€ƒè™‘è¿›è¡Œè¡¨ç»“æ„çš„ä¼˜åŒ–ï¼Œå°†ä¸€äº›é‡å¤æˆ–å†—ä½™çš„å­—æ®µåˆå¹¶ï¼Œä»¥å‡å°‘å­—æ®µæ•°é‡ã€‚</p><h3 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h3><p>MySQLä¸­æ¯å¼ è¡¨çš„å­—æ®µæ•°é‡æ˜¯æœ‰é™åˆ¶çš„ï¼Œå…·ä½“é™åˆ¶å–å†³äºMySQLç‰ˆæœ¬å’Œä½¿ç”¨çš„å­˜å‚¨å¼•æ“ã€‚å¯¹äºInnoDBå­˜å‚¨å¼•æ“ï¼ŒMySQL 5.7åŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæ¯å¼ è¡¨çš„å­—æ®µæ•°é‡æœ€å¤šä¸º4096ä¸ªï¼Œè€ŒMySQL 8.0åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸€é™åˆ¶è¢«æ‰©å¤§åˆ°äº†16384ä¸ªã€‚å¦‚æœä½¿ç”¨çš„æ˜¯MyISAMå­˜å‚¨å¼•æ“ï¼Œæ¯å¼ è¡¨çš„å­—æ®µæ•°é‡æœ€å¤šä¸º65535ä¸ªã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸€èˆ¬ä¸ä¼šå‡ºç°éœ€è¦ä½¿ç”¨å¦‚æ­¤å·¨å¤§æ•°é‡çš„å­—æ®µçš„æƒ…å†µã€‚é€šå¸¸å¯ä»¥é€šè¿‡å¯¹è¡¨ç»“æ„è¿›è¡Œä¼˜åŒ–ï¼Œåˆå¹¶é‡å¤æˆ–å†—ä½™çš„å­—æ®µï¼Œä»¥å‡å°‘å­—æ®µæ•°é‡ã€‚</p><p>é™¤äº†å­—æ®µæ•°é‡çš„é™åˆ¶å¤–ï¼Œè¿˜è¦è€ƒè™‘å…¶ä»–æ–¹é¢çš„å› ç´ ï¼Œä¾‹å¦‚è¡¨çš„è¡Œå¤§å°å’Œè¡¨çš„æ€»æ•°æ®å¤§å°ã€‚åœ¨è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„æ—¶ï¼Œåº”æ ¹æ®å®é™…éœ€æ±‚åˆç†å®‰æ’å­—æ®µï¼Œå¹¶è¿›è¡Œé€‚å½“çš„ä¼˜åŒ–ï¼Œä»¥æé«˜æ•°æ®åº“çš„æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h1 id="mysqlé«˜çº§æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#mysqlé«˜çº§æ€§èƒ½ä¼˜åŒ–"><span>MySQLé«˜çº§æ€§èƒ½ä¼˜åŒ–</span></a></h1><p>åœ¨åº”ç”¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºå‰æœŸæ•°æ®é‡å°‘ï¼Œå¼€å‘äººå‘˜ç¼–å†™çš„SQLè¯­å¥æˆ–è€…æ•°æ®åº“æ•´ä½“è§£å†³æ–¹æ¡ˆéƒ½æ›´é‡è§†åœ¨åŠŸèƒ½ä¸Šçš„å® ç°ï¼Œä½†æ˜¯å½“åº”ç”¨ç³»ç»Ÿæ­£å¼ä¸Šçº¿åï¼Œéšç€ç”Ÿæˆæ•°æ®é‡çš„æ€¥å‰§å¢é•¿ï¼Œå¾ˆå¤šSQLè¯­å¥å’Œæ•°æ®åº“æ•´ä½“æ–¹æ¡ˆå¼€å§‹é€æ¸æ˜¾éœ²å‡ºäº†æ€§ èƒ½é—®é¢˜ï¼Œå¯¹ç”Ÿæˆçš„å½±å“ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œæ­¤æ—¶Mysqlæ•°æ®åº“çš„æ€§èƒ½é—®é¢˜æˆä¸ºç³»ç»Ÿåº”ç”¨çš„ç“¶é¢ˆï¼Œå› æ­¤éœ€è¦è¿›è¡ŒMysqlæ•°æ®åº“ çš„æ€§èƒ½ä¼˜åŒ–ã€‚</p><ul><li><strong>1.1 æ€§èƒ½ä¸‹é™çš„è¡¨ç°</strong></li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ‰§è¡Œæ—¶é—´é•¿</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ç­‰å¾…æ—¶é—´é•¿</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>1.2 æ€§èƒ½ä¸‹é™çš„åŸå› </strong></li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æŸ¥è¯¢è¯­å¥å†™çš„ä¸å¥½ï¼Œå„ç§è¿æ¥ï¼Œå„ç§å­æŸ¥è¯¢å¯¼è‡´ç”¨ä¸ä¸Šç´¢å¼•æˆ–è€…æ²¡æœ‰å»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å»ºç«‹çš„ç´¢å¼•å¤±æ•ˆï¼Œå»ºç«‹äº†ç´¢å¼•,åœ¨çœŸæ­£æ‰§è¡Œæ—¶,æ²¡æœ‰ç”¨ä¸Šå»ºç«‹çš„ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å…³è”æŸ¥è¯¢å¤ªå¤šjoin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æœåŠ¡å™¨è°ƒä¼˜åŠé…ç½®å‚æ•°å¯¼è‡´ï¼Œå¦‚æœè®¾ç½®çš„ä¸åˆç†,æ¯”ä¾‹ä¸æ°å½“,ä¹Ÿä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™,sqlå˜æ…¢</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ç³»ç»Ÿæ¶æ„çš„é—®é¢˜</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>1.3 é€šç”¨çš„ä¼˜åŒ–æ–¹æ¡ˆ</strong></li></ul><p><strong>ç”Ÿäº§æ•°æ®åº“çš„mysqlçš„å¹¶å‘æ•°</strong></p><p>ä¼˜åŒ–åˆ†ä¸ºï¼š</p><ul><li>è®¾è®¡ä¼˜åŒ–: è¡¨çš„è®¾è®¡åˆç†åŒ–(ç¬¦åˆ3NFï¼Œæœ‰æ—¶å€™è¦è¿›è¡Œåä¸‰èŒƒå¼æ“ä½œ)</li><li>ç´¢å¼•ä¼˜åŒ–: æ·»åŠ é€‚å½“ç´¢å¼•(indexï¼‰(é‡ç‚¹)</li><li>Sqlä¼˜åŒ–: å†™å‡ºé«˜è´¨é‡çš„sqlï¼Œé¿å…ç´¢å¼•å¤±æ•ˆ (é‡ç‚¹)</li><li>æ¶æ„ä¼˜åŒ–: åˆ†è¡¨æŠ€æœ¯(æ°´å¹³åˆ†å‰²ã€å‚ç›´åˆ†å‰²) ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»</li><li><mark>é…ç½®ä¼˜åŒ–: å¯¹mysqlé…ç½®ä¼˜åŒ– [é…ç½®æœ€å¤§å¹¶å‘æ•°my.ini, è°ƒæ•´ç¼“å­˜å¤§å° ]</mark></li><li><mark>ç¡¬ä»¶ä¼˜åŒ–: æœåŠ¡å™¨çš„ç¡¬ä»¶ä¼˜åŒ–</mark></li></ul><h1 id="_04ã€mysqlæ•°æ®åº“ä¼˜åŒ–-ç´¢å¼•ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_04ã€mysqlæ•°æ®åº“ä¼˜åŒ–-ç´¢å¼•ä¼˜åŒ–"><span>04ã€MYSQLæ•°æ®åº“ä¼˜åŒ– - ç´¢å¼•ä¼˜åŒ–</span></a></h1><h2 id="_01ã€mysqlç´¢å¼•åŸç†åŠæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_01ã€mysqlç´¢å¼•åŸç†åŠæ¦‚å¿µ"><span>01ã€MySQLç´¢å¼•åŸç†åŠæ¦‚å¿µ</span></a></h2><p><strong>åˆ†æ</strong></p><p>ç´¢å¼•æ˜¯è§£å†³SQLæ€§èƒ½é—®é¢˜çš„é‡è¦æ‰‹æ®µä¹‹ä¸€ï¼Œä½¿ç”¨ç´¢å¼•å¯ä»¥å¸®åŠ©ç”¨æˆ·è§£å†³å¤§å¤šæ•°çš„SQLæ€§èƒ½é—®é¢˜ã€‚ç´¢å¼•<mark>å°±æ˜¯æ•°æ®ç»“æ„</mark>ï¼Œ ç´¢å¼•æ˜¯Mysqlé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„,,==ç±»ä¼¼æ–°åå­—å…¸çš„ç´¢å¼•ç›®å½•,==å¯ä»¥é€šè¿‡ç´¢å¼•ç›®å½•å¿«é€ŸæŸ¥åˆ°ä½ æƒ³è¦çš„å­—.æ’å¥½åºçš„å¿« é€ŸæŸ¥æ‰¾æ•°æ®</p><p>ç´¢å¼•å¯¹æ•°æ®åº“å¾—æ€§èƒ½å¾—å½±å“è¿˜æ˜¯éå¸¸çš„å…³é”® ï¼Œç´¢å¼•ä¸»è¦ä½œç”¨ï¼šå‘ŠçŸ¥å­˜å‚¨å¼•æ“å¦‚ä½•å¿«é€Ÿçš„æ‰¾åˆ°æˆ‘ä»¬æ‰€éœ€çš„æ•°æ®ã€‚</p><p><mark>å½“è¡¨ä¸­å¾—æ•°æ®è¿˜æ¯”è¾ƒå°å¾—æ—¶å€™ï¼Œç´¢å¼•è¿˜ä¸è¶³ä»¥å‘æŒ¥å®ƒå¾—æ„ä¹‰å’Œä»·å€¼</mark>ã€‚å› ä¸ºè¿™ä¸ªæ—¶å€™è¡¨ä¸­çš„æ•°æ®ä¼šæ‘éƒ¨ç¼“å­˜åˆ°å†…å­˜ä¸­ã€‚å°±ç®—æ˜¯å…¨è¡¨æ‰«æä¹Ÿä¸ä¼šå¤ªæ…¢ã€‚è€Œéšç€è¡¨ä¸­çš„æ•°æ®è¶Šæ¥è¶Šå¤šã€‚æŸ¥è¯¢ä¹Ÿè¶Šæ¥è¶Šé¢‘ç¹ï¼Œå†…å­˜ä¹Ÿä¸èƒ½å®Œå…¨çš„ç¼“å­˜è¡¨ä¸­çš„æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™ç´¢å¼•å°±ä¼šæ˜¾å¾—è¶Šæ¥è¶Šé‡è¦ã€‚</p><p>åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œå¾€å¾€å¾ˆå¤šæ—¶å€™ä¼šå¿½ç•¥æˆ–è€…è¿‡åº¦çš„å¼ºè°ƒç´¢å¼•ã€‚å½¢æˆäº†ä¸¤ä¸ªæç«¯ï¼Œè¦ä¹ˆå°±æ˜¯é™¤äº†ä¸»é”®ä»¥å¤–çš„éƒ½ä¸å»ºè®¾ç´¢å¼•ï¼Œè¦ä¹ˆå°±æ˜¯æ³›æ»¥å»ºè®¾ç´¢å¼•ã€‚è¿™äº›éƒ½æ˜¯ä¸å¥½çš„ä¼˜åŒ–ä½“éªŒï¼Œç´¢å¼•å¤ªå°‘æ•°æ®é‡è¶Šå¤§çš„æ—¶å€™ï¼Œæ€§èƒ½å¯èƒ½å¾—ä¸åˆ°æå‡ï¼Œå¤ªå¤šç»´æŠ¤ç´¢å¼•çš„æ—¶é—´å°±ä¼šå¾ˆé•¿ï¼Œæ¶ˆè€—çš„å†…å­˜å’Œcpuä¹Ÿä¼šè¶Šå¤šã€‚ä¹Ÿä¸åˆ©äºæŸ¥è¯¢çš„æ€§èƒ½æå‡ã€‚</p><p><strong>ç£ç›˜å­˜å–ç¤ºæ„å›¾</strong></p><p>æ¯æ¬¡ä»ç£ç›˜ä¸­æŸ¥æ‰¾æ•°æ®ç§°ä¸ºç£ç›˜I/Oï¼Œ è€Œç£ç›˜IO è‡³å°‘è¦ç»å†ç£ç›˜å¯»é“ã€ç£ç›˜æ—‹è½¬ã€æ•°æ®è¯»å–ç­‰ç­‰æ“ä½œï¼Œéå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œæ‰€ä»¥å¯¹äºè¯»å–æ•°æ®ï¼Œæœ€å¤§çš„ä¼˜åŒ–å°±æ˜¯å‡å°‘ç£ç›˜I/O</p><p>Â </p><p><strong>æ‰§è¡Œsqlçš„è¿‡ç¨‹</strong></p><ul><li>ä¼šå‘èµ·ä¸€èµ·ç£ç›˜IO = å¯»é“ + æ—‹è½¬ + è¯»å–æ•°æ® + è¿”å›æ•°æ®å­˜å‚¨å†…å­˜çš„è¿‡ç¨‹ã€‚</li><li>å¦‚æœæ¡ä»¶ä¸æ»¡è¶³å°±ä¼šä¸åœçš„å¯»é“å’Œå‘èµ·IOã€‚</li><li>æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæ²¡é”™å°±æ˜¯ä¼˜åŒ–è¡¨ï¼Œå¯¹è¡¨çš„æ•°æ®è¿›è¡Œé‡æ–°ç¼–æ’å’Œå»ºç«‹ç›®å½•æ˜ å°„ã€‚å…¶å®å°±æ˜¯ä¼˜åŒ–æ•°æ®çš„å­˜å‚¨çš„ç»“æ„ï¼Œå°±æ˜¯å»ºç«‹ç´¢å¼•ã€‚</li></ul><h2 id="_02ã€mysqlç´¢å¼•çš„åº•å±‚å®ç°" tabindex="-1"><a class="header-anchor" href="#_02ã€mysqlç´¢å¼•çš„åº•å±‚å®ç°"><span>02ã€MySQLç´¢å¼•çš„åº•å±‚å®ç°</span></a></h2><p><strong>åº•å±‚æ•°æ®ç»“æ„åˆ†æ</strong></p><h3 id="äºŒå‰æ ‘" tabindex="-1"><a class="header-anchor" href="#äºŒå‰æ ‘"><span><strong>äºŒå‰æ ‘</strong></span></a></h3><p>ä¸ºäº†åŠ å¿«æ•°æ®çš„æŸ¥æ‰¾,å¯ä»¥ç»´æŠ¤<strong>äºŒå‰æŸ¥æ‰¾æ ‘</strong>, æ¯ä¸ªèŠ‚ç‚¹åˆ†åˆ«åŒ…å«ç´¢å¼•é”®å€¼å’Œä¸€ä¸ªæŒ‡å‘å¯¹åº”æ•°æ®è®°å½•çš„ç‰©ç†åœ°å€çš„æŒ‡é’ˆ,è¿™æ ·å°±å¯ä»¥è¿ç”¨äºŒå‰æŸ¥æ‰¾åœ¨ä¸€å®šçš„å¤æ‚åº¦å†…è·å–ç›¸åº”çš„æ•°æ®,ä»è€Œå¿«é€Ÿçš„æ£€ç´¢å‡ºç¬¦åˆæ¡ä»¶ çš„è®°å½•</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å·¦å­æ ‘çš„é”®å€¼å°äºæ ¹çš„é”®å€¼</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å³å­æ ‘çš„é”®å€¼å¤§äºæ ¹çš„é”®å€¼</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»äºŒå‰æ ‘çš„æŸ¥æ‰¾è¿‡ç¨‹äº†æ¥çœ‹ï¼Œæœ€åçš„æƒ…å†µä¸‹ç£ç›˜IOçš„æ¬¡æ•°ç”±æ ‘çš„é«˜åº¦æ¥å†³å®šã€‚ä»å‰é¢åˆ†ææƒ…å†µæ¥çœ‹ï¼Œå‡å°‘ç£ç›˜IOçš„æ¬¡æ•°å°±å¿…é¡»è¦å‹ç¼©æ ‘çš„é«˜åº¦ï¼Œè®©ç˜¦é«˜çš„æ ‘å°½é‡å˜æˆçŸ®èƒ–çš„æ ‘ï¼Œæ‰€ä»¥å¼•å‡ºB-Treeå¼ºåŠ¿ç™»åœº</p><p>å‚è€ƒç½‘ç«™ï¼š <a href="https://www.cs.usfca.edu/~galles/visualization/BST.html" target="_blank" rel="noopener noreferrer">https://www.cs.usfca.edu/~galles/visualization/BST.html</a></p><p><strong>ç¼ºç‚¹</strong></p><ul><li>äºŒå‰æ ‘æ˜¯ä¸€ç§åå‘æ ‘ï¼Œä¼šé€ æˆå±‚çº§è¿‡æ·±ï¼Œç»™æŸ¥è¯¢å…¶å®å¹¶æ²¡ç”¨æé«˜æ€§èƒ½ã€‚</li><li>äºŒå‰æ ‘ä¹Ÿåªèƒ½å­˜ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå±‚çº§è¶Šæ¥è¶Šå¤§è¶Šæ¥è¶Šæ·±ï¼Œå‘ç”Ÿç£ç›˜çš„IOä¼šè¶Šé¢‘ç¹ã€‚</li></ul><h3 id="b-tree" tabindex="-1"><a class="header-anchor" href="#b-tree"><span><strong>B-Tree</strong></span></a></h3><p><mark>Bæ ‘æ˜¯ä¸€ç§å¤šè·¯è‡ªå¹³è¡¡æœç´¢æ ‘</mark>ï¼Œå®ƒç±»ä¼¼æ™®é€šçš„äºŒå‰æ ‘ï¼Œä½†æ˜¯Bä¹¦å…è®¸æ¯ä¸ªèŠ‚ç‚¹æœ‰æ›´å¤šçš„å­èŠ‚ç‚¹ã€‚Bæ ‘ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ä¸ºäº†æå‡åº¦çš„é•¿åº¦ï¼Œè¿˜éœ€è¦å¯¹è¿™ç§æ•°æ®ç»“æ„è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥å®ƒçš„å‡åç‰ˆB+Treeè¯ç”Ÿäº†</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>ç‰¹ç‚¹</strong></p><ul><li><p>å’ŒäºŒå‰æ ‘ä¸€æ ·æ¯”çˆ¶èŠ‚ç‚¹å¤§çš„æ•°æ®å­˜å‚¨åœ¨å³è¾¹ï¼Œå°çš„å­˜å‚¨åœ¨å·¦è¾¹ã€‚</p></li><li><p>å¹³è¡¡æŸ¥è¯¢æ ‘ï¼Œå®ƒå¯¹æ•°æ®ä¼šè¿›è¡Œè‡ªæˆ‘å¹³è¡¡ã€‚å®ƒæ¯”äºŒå‰æ ‘çš„å±‚çº§è¦ä½ã€‚æ‰€ä»¥æŸ¥è¯¢çš„æ€§èƒ½è¦æ¯”äºŒå‰æ ‘é«˜å¾ˆå¤šã€‚</p></li><li><p>åº¦ï¼ˆdegree)èŠ‚ç‚¹çš„æ•°æ®å­˜å‚¨ä¸ªæ•°ã€‚åº¦è¶Šæ·±ä»£è¡¨å­˜å‚¨çš„æ•°æ®è¶Šå¯†ï¼Œæ ‘çš„å±‚çº§å’Œé«˜åº¦å°±è¶Šä½ã€‚è¶Šåˆ©äºæœç´¢å’Œå­˜å‚¨æ•°æ®ã€‚è¯„ä»·ä¸€ä¸ªç´¢å¼•çš„å¥½åä¸€å®šæ˜¯è¿›å…¥ç´¢å¼•çš„æ¬¡æ•°è¶Šå°è¶Šå¿«ã€‚</p></li><li><p>èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„æ·±åº¦</p></li><li><p>èŠ‚ç‚¹ä¸­æ•°æ®keyä»å·¦åˆ°æœ‰é€’å¢æ’åˆ—</p></li><li><p>å¶èŠ‚ç‚¹çš„æŒ‡é’ˆä¸ºç©º.</p></li></ul><p>å‚è€ƒï¼š <a href="https://www.cs.usfca.edu/~galles/visualization/BTree.html" target="_blank" rel="noopener noreferrer">https://www.cs.usfca.edu/~galles/visualization/BTree.html</a></p><p><strong>ç¼ºç‚¹</strong></p><ul><li>Btreeæ•°æ®æ˜¯å­˜å‚¨åˆ°æ¯ä¸ªèŠ‚ç‚¹è‡ªå·±ï¼Œæ‰€ä»¥æ¯æ¬¡æŸ¥è¯¢çš„å’Œç»´æŠ¤çš„æ—¶å€™å°±ä¼šç»´æŠ¤ç´¢å¼•å€¼åˆç»´æŠ¤äº†æ•°æ®ï¼Œè¿™æ ·ä¼šå°±æ˜¯é€ æˆå†…å­˜çš„æµªè´¹å’Œæ€§èƒ½çš„æ¶ˆè€—ã€‚è¿™ä¹Ÿæ˜¯B+TREEä¼˜åŒ–çš„åœ°æ–¹ã€‚</li></ul><h3 id="b-tree-1" tabindex="-1"><a class="header-anchor" href="#b-tree-1"><span><strong>B+Tree</strong></span></a></h3><ul><li>ä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ•°æ®åº“æ‰€è¯´çš„ç´¢å¼•ã€‚</li><li>b-treeç´¢å¼•åº•å±‚ï¼š<strong><mark>é‡‡ç”¨b+treeçš„æ–¹å¼è¿›è¡Œç»“æ„å­˜å‚¨æ•°æ®</mark></strong></li></ul><p>åœ¨è¯´B+æ ‘ä¹‹å‰æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦æœ‰Bæ ‘ï¼Œå…¶å®è¿™äº›æ ‘æœ€å¼€å§‹éƒ½æ˜¯ä¸ºäº†è§£å†³æŸç§ç³»ç»Ÿä¸­ï¼ŒæŸ¥è¯¢æ•ˆç‡ä½çš„é—®é¢˜ã€‚Bæ ‘å…¶å®æœ€å¼€å§‹æºäºçš„æ˜¯äºŒå‰æ ‘ï¼ŒäºŒå‰æ ‘æ˜¯åªæœ‰å·¦å³å­©å­çš„æ ‘ï¼Œå½“æ•°æ®é‡è¶Šå¤§çš„æ—¶å€™ï¼ŒäºŒå‰æ ‘çš„èŠ‚ç‚¹è¶Šå¤šï¼Œé‚£ä¹ˆå½“ä»æ ¹èŠ‚ç‚¹æœç´¢çš„æ—¶å€™ï¼Œå½±å“æŸ¥è¯¢æ•ˆç‡ã€‚æ‰€ä»¥å¦‚æœè¿™äº›èŠ‚ç‚¹å­˜å‚¨åœ¨å¤–å­˜å‚¨å™¨ä¸­çš„è¯ï¼Œæ¯è®¿é—®ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›¸å½“äºè¿›è¡Œäº†ä¸€æ¬¡I/Oæ“ä½œã€‚</p><h4 id="å¤–å­˜å‚¨å™¨å’Œå†…å­˜å‚¨å™¨" tabindex="-1"><a class="header-anchor" href="#å¤–å­˜å‚¨å™¨å’Œå†…å­˜å‚¨å™¨"><span>å¤–å­˜å‚¨å™¨å’Œå†…å­˜å‚¨å™¨ï¼š</span></a></h4><p>**å¤–å­˜å‚¨å™¨ï¼š**å°±æ˜¯å°†æ•°æ®å­˜å‚¨åˆ°ç£ç›˜ä¸­ï¼Œæ¯æ¬¡æŸ¥æ‰¾çš„æŸä¸ªå…ƒç´ çš„æ—¶å€™éƒ½è¦å–ç£ç›˜ä¸­æŸ¥æ‰¾ï¼Œç„¶åå†å†™å…¥å†…å­˜ä¸­ï¼Œå®¹é‡å¤§ï¼Œä½†æ˜¯æŸ¥è¯¢æ•ˆç‡ä½ã€‚</p><p>**å†…å­˜å‚¨å™¨ï¼š**å°±æ˜¯å°†æ•°æ®æ”¾åœ¨å†…å­˜ä¸­ï¼ŒæŸ¥è¯¢å¿«ï¼Œä½†æ˜¯å®¹é‡å°ã€‚</p><p>æˆ‘ä»¬å¤§è‡´äº†è§£äº†Bæ ‘å’Œä»€ä¹ˆæ˜¯å¤–å­˜å‚¨å™¨ï¼Œå†…å­˜å‚¨å™¨ï¼Œé‚£ä¹ˆå°±çŸ¥é“å…¶å®B+æ ‘å°±æ˜¯ä¸ºäº†è§£å†³æ•°æ®é‡å¤§çš„æ—¶å€™å­˜å‚¨åœ¨å¤–å­˜å‚¨å™¨æ—¶å€™ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä½çš„é—®é¢˜ã€‚æ¥ä¸‹æ¥å°±è¯´ä¸‹B+æ ‘çš„ç‰¹ç‚¹ï¼š</p><ul><li>ä¸­é—´å…ƒç´ ä¸å­˜æ•°æ®ï¼Œåªæ˜¯å½“ç´¢å¼•ç”¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å¶å­ç»“ç‚¹ä¸­ã€‚</li><li>æ‰€æœ‰çš„ä¸­é—´èŠ‚ç‚¹åœ¨å­èŠ‚ç‚¹ä¸­è¦ä¹ˆæ˜¯æœ€å¤§çš„å…ƒç´ è¦ä¹ˆæ˜¯æœ€å°çš„å…ƒç´  ã€‚</li><li>å¶å­ç»“ç‚¹åŒ…å«æ‰€æœ‰çš„æ•°æ®ï¼Œå’ŒæŒ‡å‘è¿™äº›å…ƒç´ çš„æŒ‡é’ˆï¼Œè€Œä¸”å¶å­ç»“ç‚¹çš„å…ƒç´ å½¢æˆäº†è‡ªå°å‘å¤§è¿™æ ·å­çš„é“¾è¡¨ã€‚</li></ul><p>B+æ ‘æ˜¯Bæ ‘çš„å˜ä½“ï¼Œä¹Ÿæ˜¯ä¸€ç§å¤šè·¯å¹³è¡¡æŸ¥æ‰¾æ ‘ï¼ŒB+æ ‘çš„ç¤ºæ„å›¾ä¸ºï¼š</p><p><strong>ç‰¹ç‚¹</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">éå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨data,åªå­˜å‚¨key,å¯ä»¥å¢å¤§åº¦</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æŒ‡é’ˆ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">é¡ºåºè®¿é—®æŒ‡é’ˆï¼Œæé«˜åŒºé—´è®¿é—®èƒ½åŠ›</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>B+Tree<strong>ç´¢å¼•çš„æ€§èƒ½åˆ†æ</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ä¸€èˆ¬ä½¿ç”¨ç£ç›˜I/Oæ¬¡æ•°è¯„ä»·ç´¢å¼•ç»“æ„çš„ä¼˜åŠ£</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">é¢„è¯»ï¼šç£ç›˜ä¸€èˆ¬ä¼šé¡ºåºå‘åè¯»å–ä¸€å®šé•¿åº¦çš„æ•°æ®(é¡µçš„æ•´æ•°å€</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)æ”¾å…¥å†…å­˜</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å±€éƒ¨æ€§åŸç†ï¼šå½“ä¸€ä¸ªæ•°æ®è¢«ç”¨åˆ°æ—¶ï¼Œå…¶é™„è¿‘çš„æ•°æ®ä¹Ÿé€šå¸¸ä¼šé©¬ä¸Šè¢«ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">B+Treeçš„åº¦ä¸€èˆ¬ä¼šè¶…è¿‡100ï¼Œå› æ­¤héå¸¸å°</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (ä¸€èˆ¬ä¸º3åˆ°5ä¹‹é—´)ï¼Œæ€§èƒ½å°±ä¼šéå¸¸ç¨³å®š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">B+Treeå¶å­èŠ‚ç‚¹æœ‰é¡ºåºæŒ‡é’ˆï¼Œæ›´å®¹æ˜“åšèŒƒå›´æŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å­˜å‚¨å™¨è¯»å–æ•°æ®æŒ‰</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç£ç›˜å—è¯»å–</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ¯ä¸ªç£ç›˜å—çš„å¤§å°ä¸º</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  æ‰‡åŒºï¼ˆé¡µï¼‰çš„2çš„Næ¬¡æ–¹</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ¯ä¸ªæ‰‡åŒºçš„æœ€å°å•ä½</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 512B</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æˆ–</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4096B</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä¸åŒçš„ç”Ÿäº§å‚å®¶ä¸åŒ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‚è€ƒç½‘ç«™ï¼š <a href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html" target="_blank" rel="noopener noreferrer">https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html</a></p><p>å¦‚ä¸‹è¿™ä¸ªå›¾å°±å¾ˆå¥½çš„è¯´æ˜äº†B+çš„ç‰¹ç‚¹</p><p>çœ‹å›¾å…¶å®å¯ä»¥çœ‹åˆ°ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥å­˜æ”¾å¤šä¸ªæ•°æ®ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™å¯ä»¥æœ‰å¤šä¸ªå…ƒç´ ï¼Œå¤§å¤§æå‡æŸ¥æ‰¾æ•ˆç‡ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ•°æ®åº“ç´¢å¼•ç”¨çš„å°±æ˜¯B+æ ‘ï¼Œå› ä¸ºç´¢å¼•å¾ˆå¤§ï¼Œä¸å¯èƒ½éƒ½æ”¾åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥é€šå¸¸æ˜¯ä»¥ç´¢å¼•æ–‡ä»¶çš„å½¢å¼æ”¾åœ¨ç£ç›˜ä¸Šï¼Œæ‰€ä»¥å½“æŸ¥æ‰¾æ•°æ®çš„æ—¶å€™å°±ä¼šæœ‰ç£ç›˜I/Oçš„æ¶ˆè€—ï¼Œè€ŒB+æ ‘æ­£å¯ä»¥è§£å†³è¿™ç§é—®é¢˜ï¼Œå‡å°‘ä¸ç£ç›˜çš„äº¤äº’ï¼Œå› ä¸ºè¿›è¡Œä¸€æ¬¡I/Oæ“ä½œå¯ä»¥å¾—åˆ°å¾ˆå¤šæ•°æ®ï¼Œå¢å¤§æŸ¥æ‰¾æ•°æ®çš„å‘½ä¸­ç‡ã€‚</p><p>è¿™å°±å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºB+æ ‘çš„ä¼˜åŠ¿ï¼š</p><ol><li>å•ä¸ªèŠ‚ç‚¹å¯ä»¥å­˜å‚¨æ›´å¤šçš„æ•°æ®ï¼Œå‡å°‘I/Oçš„æ¬¡æ•°ã€‚</li><li>æŸ¥æ‰¾æ€§èƒ½æ›´ç¨³å®šï¼Œå› ä¸ºéƒ½æ˜¯è¦æŸ¥æ‰¾åˆ°å¶å­ç»“ç‚¹ã€‚</li><li>å¶å­ç»“ç‚¹å½¢æˆäº†æœ‰åºé“¾è¡¨ï¼Œä¾¿äºæŸ¥è¯¢ã€‚</li></ol><p>B+æ ‘æ˜¯æ€ä¹ˆè¿›è¡ŒæŸ¥æ‰¾çš„å‘¢ï¼Œåˆ†ä¸ºå•å…ƒç´ æŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾</p><p>å•å…ƒç´ æŸ¥æ‰¾æ˜¯ä»æ ¹ä¸€ç›´æŸ¥æ‰¾åˆ°å¶å­ç»“ç‚¹ï¼Œå³ä½¿ä¸­é—´ç»“ç‚¹æœ‰è¿™ä¸ªå…ƒç´ ä¹Ÿè¦æŸ¥åˆ°å¶å­ç»“ç‚¹ï¼Œå› ä¸ºä¸­é—´ç»“ç‚¹åªæ˜¯ç´¢å¼•ï¼Œä¸å­˜æ•°æ®ã€‚æ¯”å¦‚è¦æŸ¥å…ƒç´ 3ï¼Œå¦‚å›¾ï¼š</p><p>èŒƒå›´æŸ¥æ‰¾æ˜¯ç›´æ¥ä»é“¾è¡¨æŸ¥ï¼Œæ¯”å¦‚è¦æŸ¥å…ƒç´ 3åˆ°å…ƒç´ 8çš„ï¼Œå¦‚å›¾ï¼š</p><h4 id="btreeç´¢å¼•çš„éµå¾ªåŸåˆ™å’Œä½¿ç”¨é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#btreeç´¢å¼•çš„éµå¾ªåŸåˆ™å’Œä½¿ç”¨é™åˆ¶"><span>Btreeç´¢å¼•çš„éµå¾ªåŸåˆ™å’Œä½¿ç”¨é™åˆ¶</span></a></h4><ul><li><p>éµå¾ªæœ€å·¦åŸåˆ™å¼€å§‹æŸ¥æ‰¾ï¼Œå¦åˆ™æ— æ³•å‘½ä¸­ç´¢å¼•</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+age+emailå»ºè®¾äº†ä¸€ä¸ªè”åˆç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> email </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;xxx@qq.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">//å‘½ä¸­ä¸åˆ°ç´¢å¼•</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œä¸èƒ½è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+age+emailå»ºè®¾äº†ä¸€ä¸ªè”åˆç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> email </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;xxx@qq.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">//åªä¼šå‘½ä¸­nameçš„ç´¢å¼•ä¸ä¼šå‘½ä¸­emailçš„ç´¢å¼•äº†</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>not intå’Œ&lt;&gt;æ“ä½œæ— æ³•ä½¿ç”¨ç´¢å¼•</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+age+emailå»ºè®¾äº†ä¸€ä¸ªè”åˆç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> email </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;xxx@qq.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">//ç´¢å¼•å¤±æ•ˆ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å¦‚æœæŸ¥è¯¢ä¸­æœ‰æŸä¸ªåˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™å…¶å³è¾¹æ‰€æœ‰åˆ—éƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+age+emailå»ºè®¾äº†ä¸€ä¸ªè”åˆç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;zhangsan&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> email </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;xxx@qq.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">//</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+ageå‘½ä¸­ï¼Œemailå¤±æ•ˆ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="hash" tabindex="-1"><a class="header-anchor" href="#hash"><span><strong>Hash</strong></span></a></h3><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ä½¿ç”¨hashç»“æ„å­˜å‚¨ç´¢å¼•ï¼ŒæŸ¥æ‰¾å•è¡Œæ•°æ®å¾ˆå¿«ï¼Œä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ã€‚</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1ï¼šæ— æ³•ç”¨äºæ’åº</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2ï¼šåªæ”¯æŒç­‰å€¼æŸ¥æ‰¾</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3.å­˜åœ¨Hashå†²çª</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Hashç´¢å¼•åªé€‚ç”¨äºæŸäº›ç‰¹å®šåœºæ™¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸å¤š</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_03ã€mysqlçš„ç´¢å¼•å®ç°" tabindex="-1"><a class="header-anchor" href="#_03ã€mysqlçš„ç´¢å¼•å®ç°"><span>03ã€MySQLçš„ç´¢å¼•å®ç°</span></a></h2><p><strong>MyISAMç´¢å¼•(éèšç°‡)</strong></p><p>MyISAM ç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶æ˜¯åˆ†ç¦»çš„</p><p><strong>InnoDBç´¢å¼•(èšç°‡)</strong></p><blockquote><p>æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ç´¢å¼•æ–‡ä»¶<br> è¡¨æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯æŒ‰ç…§B+Treeç»„ç»‡çš„ä¸€ä¸ªç´¢å¼•ç»“æ„æ–‡ä»¶<br> èšé›†ç´¢å¼•-å¶èŠ‚ç‚¹åŒ…å«äº†å®Œæ•´çš„æ•°æ®è®°å½•</p></blockquote><p><strong>è”åˆç´¢å¼•</strong></p><h2 id="_04ã€mysqlç´¢å¼•çš„ä¼˜åŠ£åŠ¿" tabindex="-1"><a class="header-anchor" href="#_04ã€mysqlç´¢å¼•çš„ä¼˜åŠ£åŠ¿"><span>04ã€MySQLç´¢å¼•çš„ä¼˜åŠ£åŠ¿</span></a></h2><p><strong>ä¼˜åŠ¿</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1.å¯ä»¥é€šè¿‡å»ºç«‹å”¯ä¸€ç´¢å¼•æˆ–è€…ä¸»é”®ç´¢å¼•,ä¿è¯æ•°æ®åº“è¡¨ä¸­æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ€§.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2.å»ºç«‹ç´¢å¼•å¯ä»¥å¤§å¤§æé«˜æ£€ç´¢çš„æ•°æ®,ä»¥åŠå‡å°‘è¡¨çš„æ£€ç´¢è¡Œæ•°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3.åœ¨è¡¨è¿æ¥çš„è¿æ¥æ¡ä»¶</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¯ä»¥åŠ é€Ÿè¡¨ä¸è¡¨ç›´æ¥çš„ç›¸è¿</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">4.åœ¨åˆ†ç»„å’Œæ’åºå­—å¥è¿›è¡Œæ•°æ®æ£€ç´¢,å¯ä»¥å‡å°‘æŸ¥è¯¢æ—¶é—´ä¸­</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> åˆ†ç»„</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å’Œ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ’åºæ—¶æ‰€æ¶ˆè€—çš„æ—¶é—´</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ•°æ®åº“çš„è®°å½•ä¼šé‡æ–°æ’åº</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">5.å»ºç«‹ç´¢å¼•,åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ç´¢å¼•</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¯ä»¥æé«˜æ€§èƒ½</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åŠ£åŠ¿</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1.åœ¨åˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä¼šè€—è´¹æ—¶é—´,éšç€æ•°æ®é‡çš„å¢åŠ è€Œå¢åŠ </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2.ç´¢å¼•æ–‡ä»¶ä¼šå ç”¨ç‰©ç†ç©ºé—´,é™¤äº†æ•°æ®è¡¨éœ€è¦å ç”¨ç‰©ç†ç©ºé—´ä¹‹å¤–,æ¯ä¸€ä¸ªç´¢å¼•è¿˜ä¼šå ç”¨ä¸€å®šçš„ç‰©ç†ç©ºé—´</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3.å½“å¯¹è¡¨çš„æ•°æ®è¿›è¡ŒINSERT,UPDATE,DELETE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> çš„æ—¶å€™,ç´¢å¼•ä¹Ÿè¦åŠ¨æ€çš„ç»´æŠ¤,è¿™æ ·å°±ä¼šé™ä½æ•°æ®çš„ç»´æŠ¤é€Ÿåº¦,</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å»ºç«‹ç´¢å¼•ä¼šå ç”¨ç£ç›˜ç©ºé—´çš„ç´¢å¼•æ–‡ä»¶ã€‚ä¸€èˆ¬æƒ…å†µè¿™ä¸ªé—®é¢˜ä¸å¤ªä¸¥é‡ï¼Œä½†å¦‚æœä½ åœ¨ä¸€ä¸ªå¤§è¡¨ä¸Šåˆ›å»ºäº†å¤šç§ç»„åˆç´¢å¼•ï¼Œç´¢å¼•æ–‡ä»¶çš„ä¼šè†¨èƒ€å¾ˆå¿«</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç´¢å¼•çš„åˆ†ç±»</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1.æ™®é€šç´¢å¼•index</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :åŠ é€ŸæŸ¥æ‰¾</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2.å”¯ä¸€ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	ä¸»é”®ç´¢å¼•ï¼šprimary</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ï¼šåŠ é€ŸæŸ¥æ‰¾+çº¦æŸï¼ˆä¸ä¸ºç©ºä¸”å”¯ä¸€ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	å”¯ä¸€ç´¢å¼•ï¼šuniqueï¼šåŠ é€ŸæŸ¥æ‰¾+çº¦æŸ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ï¼ˆå”¯ä¸€ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3.è”åˆç´¢å¼•ï¼ˆç»„åˆç´¢å¼•ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	-primary</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">id,name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:è”åˆä¸»é”®ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	-unique(id,name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):è”åˆå”¯ä¸€ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	-index(id,name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):è”åˆæ™®é€šç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">4.å…¨æ–‡ç´¢å¼•fulltext</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :ç”¨äºæœç´¢å¾ˆé•¿ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæ•ˆæœæœ€å¥½ã€‚</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> ---Elasticsearch</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_05ã€mysqlç´¢å¼•çš„æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_05ã€mysqlç´¢å¼•çš„æ“ä½œ"><span>05ã€MySQLç´¢å¼•çš„æ“ä½œ</span></a></h2><p><strong>åˆ›å»ºç´¢å¼•</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> [UNIQUE|primary|fulltext]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ç´¢å¼•åç§° </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> è¡¨å(å­—æ®µ(é•¿åº¦))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> emp_name_index</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NAME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>æµ‹è¯•è„šæœ¬</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">èµ„æ–™ä¸­</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  testemployee.sqlæ–‡ä»¶</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>æ²¡æœ‰ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢çš„æ—¶é—´å¦‚ä¸‹</strong>ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   # æ—¶é—´: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.311ms</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>åˆ›å»ºç´¢å¼•åæŸ¥è¯¢çš„æ—¶é—´å¦‚ä¸‹</strong>ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ä¸ºnumåˆ›å»ºä¸€ä¸ªç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_cusid</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee(cusid)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å†æ¬¡æŸ¥è¯¢è€—æ—¶</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> # æ—¶é—´: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.041ms</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹ç´¢å¼•</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">index</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> è¡¨å</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>åˆ é™¤ç´¢å¼•</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">drop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[ç´¢å¼•åç§°]</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> è¡¨å</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DROP</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> emp_name_index </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ›´æ”¹ç´¢å¼•</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> primary key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(column_list)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ·»åŠ ä¸€ä¸ªä¸»é”®,ç´¢å¼•å¿…é¡»æ˜¯å”¯ä¸€ç´¢å¼•,ä¸èƒ½ä¸ºNULL</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> unque index_name(column_list)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åˆ›å»ºçš„ç´¢å¼•æ˜¯å”¯ä¸€ç´¢å¼•,å¯ä»¥ä¸ºNULL</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index_name(column_list)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ™®é€šç´¢å¼•,ç´¢å¼•å€¼å¯å‡ºç°å¤šæ¬¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tab_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> fulltext</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index_name(column_list)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_05ã€mysqlæ•°æ®åº“ä¼˜åŒ–-ç´¢å¼•ä¼˜åŒ–ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_05ã€mysqlæ•°æ®åº“ä¼˜åŒ–-ç´¢å¼•ä¼˜åŒ–ç­–ç•¥"><span>05ã€MYSQLæ•°æ®åº“ä¼˜åŒ– - ç´¢å¼•ä¼˜åŒ–ç­–ç•¥</span></a></h1><h2 id="_01ã€mysqlç´¢å¼•åˆ—ä»€ä¹ˆæ ·å­çš„åˆ—é€‚åˆé€‰æ‹©æˆä¸ºç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_01ã€mysqlç´¢å¼•åˆ—ä»€ä¹ˆæ ·å­çš„åˆ—é€‚åˆé€‰æ‹©æˆä¸ºç´¢å¼•"><span>01ã€MySQLç´¢å¼•åˆ—ä»€ä¹ˆæ ·å­çš„åˆ—é€‚åˆé€‰æ‹©æˆä¸ºç´¢å¼•</span></a></h2><p><strong>é€‚åˆå»ºç«‹ç´¢å¼•</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1.ä¸»é”®è‡ªåŠ¨å»ºç«‹å”¯ä¸€ç´¢å¼•:primary</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2.é¢‘ç¹ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µåº”è¯¥åˆ›å»ºç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ¯”å¦‚é“¶è¡Œç³»ç»Ÿé“¶è¡Œå¸å·,ç”µä¿¡ç³»ç»Ÿçš„æ‰‹æœºå·</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3.æŸ¥è¯¢ä¸­ä¸å…¶å®ƒè¡¨å…³è”çš„å­—æ®µ,å¤–é”®å…³ç³»å»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ¯”å¦‚å‘˜å·¥è¡¨çš„éƒ¨é—¨å¤–é”®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">4.é¢‘ç¹æ›´æ–°çš„å­—æ®µä¸é€‚åˆå»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ¯æ¬¡æ›´æ–°ä¸å•å•æ›´æ–°æ•°æ®,è¿˜è¦æ›´æ–°ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">5.whereæ¡ä»¶é‡Œç”¨ä¸åˆ°çš„å­—æ®µä¸å»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">6.æŸ¥è¯¢ä¸­æ’åºçš„å­—æ®µ,æ’åºçš„å­—æ®µè‹¥é€šè¿‡ç´¢å¼•å»è®¿é—®å°†å¤§å¤§æå‡æ’åºé€Ÿåº¦</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ç´¢å¼•èƒ½å¤Ÿæé«˜æ£€ç´¢çš„é€Ÿåº¦å’Œæ’åºçš„é€Ÿåº¦</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">7.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æŸ¥è¯¢ä¸­ç»Ÿè®¡æˆ–åˆ†ç»„çš„å­—æ®µ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸é€‚åˆå»ºç«‹ç´¢å¼•</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1ï¼šè®°å½•æ¯”è¾ƒå°‘</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2ï¼šç»å¸¸å¢åˆ æ”¹çš„è¡¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3ï¼šç´¢å¼•æé«˜äº†æŸ¥è¯¢çš„é€Ÿåº¦ï¼ŒåŒæ—¶å´ä¼šé™ä½æ›´æ–°è¡¨çš„é€Ÿåº¦,å› ä¸ºå»ºç«‹ç´¢å¼•å,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¦‚æœå¯¹è¡¨è¿›è¡ŒINSERT,UPDATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DELETE,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MYSQLä¸ä»…è¦ä¿å­˜æ•°æ®,è¿˜è¦ä¿å­˜ä¸€ä¸‹ç´¢å¼•æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">4ï¼šæ•°æ®é‡å¤çš„è¡¨å­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">5ï¼šå¦‚æœæŸä¸ªæ•°æ®åˆ—åŒ…å«äº†è®¸å¤šé‡å¤çš„å†…å®¹,ä¸ºå®ƒå»ºç«‹ç´¢å¼•</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  å°±æ²¡æœ‰å¤ªå¤§åœ¨çš„å®é™…æ•ˆæœï¼Œæ¯”å¦‚è¡¨ä¸­çš„æŸä¸€ä¸ªå­—æ®µä¸ºå›½ç±,æ€§åˆ«ï¼Œæ•°æ®çš„å·®å¼‚ç‡ä¸é«˜,è¿™ç§å»ºç«‹ç´¢å¼•å°±æ²¡æœ‰å¤ªå¤šæ„ä¹‰ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_02ã€å¸¸è§çš„mysqlæ€§èƒ½åˆ†æå·¥å…·å’Œé…ç½®" tabindex="-1"><a class="header-anchor" href="#_02ã€å¸¸è§çš„mysqlæ€§èƒ½åˆ†æå·¥å…·å’Œé…ç½®"><span>02ã€å¸¸è§çš„MySQLæ€§èƒ½åˆ†æå·¥å…·å’Œé…ç½®</span></a></h2><h3 id="æ…¢æŸ¥è¯¢æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æ…¢æŸ¥è¯¢æ—¥å¿—"><span><strong>æ…¢æŸ¥è¯¢æ—¥å¿—</strong></span></a></h3><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqlçš„æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯mysqlæä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œå®ƒç”¨æ¥è®°å½•åœ¨mysqlä¸­å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„è¯­å¥,mysql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> çš„æ—¥å¿—æ˜¯è·Ÿè¸ªmysqlæ€§èƒ½ç“¶é¢ˆçš„æœ€å¿«å’Œæœ€ç›´æ¥çš„æ–¹å¼äº†ï¼Œç³»ç»Ÿæ€§èƒ½å‡ºç°ç“¶é¢ˆçš„æ—¶å€™ï¼Œé¦–å…ˆè¦æ‰“å¼€æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè¿›è¡Œè·Ÿè¸ªï¼Œå°½å¿«çš„åˆ†æå’Œæ’æŸ¥å‡ºæ‰§è¡Œæ•ˆç‡è¾ƒæ…¢çš„SQL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ,åŠæ—¶è§£å†³é¿å…é€ æˆä¸å¥½çš„å½±å“ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">**ä½œç”¨**ï¼š è®°å½•å…·ä½“æ‰§è¡Œæ•ˆç‡è¾ƒä½çš„SQLè¯­å¥çš„æ—¥å¿—ä¿¡æ¯ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ³¨æ„ï¼š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">åœ¨é»˜è®¤æƒ…å†µä¸‹mysqlçš„æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•æ˜¯å…³é—­çš„ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">åŒæ—¶æ…¢æŸ¥è¯¢æ—¥å¿—é»˜è®¤ä¸è®°å½•ç®¡ç†è¯­å¥å’Œä¸ä½¿ç”¨ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢çš„è¯­å¥</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹æ˜¯å¦å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show variables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%slow_query_log%&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">å¼€å¯</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> slow_query_log</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">åªå¯¹å½“å‰æ•°æ®åº“ç”Ÿæ•ˆ,å¦‚æœé‡å¯åï¼Œåˆ™ä¼šå¤±æ•ˆ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">å¦‚æœæƒ³æ°¸ä¹…ç”Ÿæ•ˆï¼Œå¿…é¡»ä¿®æ”¹é…ç½®æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">slow_query_log</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">slow_query_log_file</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">åœ°å€</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è®¾ç½®æ…¢æŸ¥è¯¢çš„é˜€å€¼</strong></p><p>é»˜è®¤æƒ…å†µä¸‹æ˜¯ï¼š10s</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show variables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;long_query_time&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> long_query_time</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¦æ–­å¼€è¿æ¥å, æ‰èƒ½ç”Ÿæ•ˆ</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">global</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> variables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;long_query_time&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sleep(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">global</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> status</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%slow_queries%&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ…¢æŸ¥è¯¢æ—¥å¿—åˆ†æ</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­å¯èƒ½ä¼šå‡ºç°å¾ˆå¤šçš„æ—¥å¿—è®°å½•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—å·¥å…·è¿›è¡Œåˆ†æï¼ŒMySQLé»˜è®¤å®‰è£…äº†</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqldumpslowå·¥å…·å®ç°å¯¹æ…¢æŸ¥è¯¢æ—¥å¿—ä¿¡æ¯çš„åˆ†æã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¾—åˆ°è¿”å›è®°å½•é›†æœ€å¤šçš„10ä¸ªSQLã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqldumpslow.pl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> r</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/lib/mysql/data/61d50d6107ef-slow.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¾—åˆ°è®¿é—®æ¬¡æ•°æœ€å¤šçš„10ä¸ªSQL</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqldumpslow.pl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/lib/mysql/data/61d50d6107ef-slow.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¾—åˆ°æŒ‰ç…§æ—¶é—´æ’åºçš„å‰10æ¡é‡Œé¢å«æœ‰å·¦è¿æ¥çš„æŸ¥è¯¢è¯­å¥ã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqldumpslow.pl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â€œleft</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> joinâ€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">oft</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\D</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ESKTOP-8GVEK4U-slow.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¦å¤–å»ºè®®åœ¨ä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶ç»“åˆ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å’Œmore</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä½¿ç”¨</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ï¼Œå¦åˆ™æœ‰å¯èƒ½å‡ºç°åˆ·å±çš„æƒ…å†µã€‚</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqldumpslow.pl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> r</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">oft</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\D</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ESKTOP-8GVEK4U-slow.log</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Count:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4ï¼ˆæ‰§è¡Œäº†å¤šå°‘æ¬¡ï¼‰</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Â </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">375.01sï¼ˆæ¯æ¬¡æ‰§è¡Œçš„æ—¶é—´ï¼‰</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1500s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ï¼ˆä¸€å…±æ‰§è¡Œäº†å¤šå°‘æ—¶é—´ï¼‰</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Â </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Lock</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">0.00s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">0s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ï¼ˆç­‰å¾…é”çš„æ—¶é—´ï¼‰</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Â </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Rows</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">10200.3ï¼ˆæ¯æ¬¡è¿”å›çš„è®°å½•æ•°ï¼‰</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> (40801</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)ï¼ˆæ€»å…±è¿”å›çš„è®°å½•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ•°ï¼‰,Â </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">username[password]@[10.194.172.41]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å‚æ•°è¯´æ˜</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æŒ‰ç…§é‚£ç§æ–¹å¼æ’åº</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cï¼šè®¿é—®è®¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lï¼šé”å®šæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">r:è¿”å›è®°å½•</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alï¼šå¹³å‡é”å®šæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">arï¼šå¹³å‡è®¿é—®è®°å½•æ•°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">atï¼šå¹³å‡æŸ¥è¯¢æ—¶é—´</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ˜¯top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nçš„æ„æ€ï¼Œè¿”å›å¤šå°‘æ¡æ•°æ®ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¯ä»¥è·Ÿä¸Šæ­£åˆ™åŒ¹é…æ¨¡å¼ï¼Œå¤§å°å†™ä¸æ•æ„Ÿã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¬¬ä¸‰æ–¹çš„æ…¢æŸ¥è¯¢æ—¥å¿—åˆ†æå·¥å…·ï¼šmysqlslaï¼Œmyprofiï¼Œpt-query-digesç­‰ç­‰</strong></p><h3 id="æ‰§è¡Œè®¡åˆ’explain" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œè®¡åˆ’explain"><span>æ‰§è¡Œè®¡åˆ’Explain</span></a></h3><p><strong>æ¦‚å¿µåŠä½œç”¨</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ä½¿ç”¨explainå…³é”®å­—,å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡Œçš„SQLè¯­å¥</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ä»è€ŒçŸ¥é“MYSQLæ˜¯å¦‚ä½•å¤„ç†sqlè¯­å¥çš„</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">é€šè¿‡Explainå¯ä»¥åˆ†ææŸ¥è¯¢è¯­å¥æˆ–è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆ</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å…·ä½“ä½œç”¨ï¼š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æŸ¥çœ‹è¡¨çš„è¯»å–é¡ºåº</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æŸ¥çœ‹å“ªäº›ç´¢å¼•å¯ä»¥ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æŸ¥çœ‹å“ªäº›ç´¢å¼•è¢«å®é™…ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æŸ¥çœ‹è¡¨ä¹‹é—´çš„å¼•ç”¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æŸ¥çœ‹æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æ‰§è¡Œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨æ–¹æ³•</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ä½¿ç”¨Explainå…³é”®å­— æ”¾åˆ°sqlè¯­å¥å‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å‚æ•°è¯¦è§£</strong></p><p><strong>id</strong>â€‹ ï¼ˆé‡è¦ï¼‰</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> selectæŸ¥è¯¢çš„åºåˆ—å·ï¼ŒåŒ…å«ä¸€ç»„æ•°å­—,è¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> å€¼åˆ†ä¸ºä¸‰ç§æƒ…å†µ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">**idå€¼ç›¸åŒ**</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æ‰§è¡Œé¡ºåºç”±ä¸Šåˆ°ä¸‹</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">**idä¸åŒ**</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	å¦‚æœæ˜¯å­æŸ¥è¯¢,idçš„åºå·ä¼šé€’å¢,idå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜,ä¼˜å…ˆè¢«æ‰§è¡Œ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">**idç›¸åŒä¸åŒ,åŒæ—¶å­˜åœ¨**</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç»„,ä»ä¸Šå¾€ä¸‹é¡ºåºæ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	åœ¨æ‰€æœ‰ç»„ä¸­,idå€¼è¶Šå¤§,ä¼˜å…ˆçº§è¶Šé«˜,è¶Šå…ˆæ‰§è¡Œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- idå€¼ç›¸åŒ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e,department d,customer c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">cus_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- idå€¼ä¸åŒ	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customer </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- idå€¼ç›¸åŒ ä¸åŒéƒ½å­˜åœ¨ deriverd è¡ç”Ÿå‡ºæ¥çš„è™šè¡¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department d, (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">group by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id) t </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>select_type</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æŸ¥è¯¢ç±»å‹,ä¸»è¦ç”¨äºåŒºåˆ«æ™®é€šæŸ¥è¯¢,è”åˆæŸ¥è¯¢,å­æŸ¥è¯¢ç­‰å¤æ‚æŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ç»“æœå€¼</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SIMPLE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	ç®€å•selectæŸ¥è¯¢,æŸ¥è¯¢ä¸­ä¸åŒ…å«å­æŸ¥è¯¢æˆ–è€…UNION</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">PRIMARY</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­æŸ¥è¯¢,æœ€å¤–å±‚æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸ºprimary</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SUBQUERY</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	åœ¨selectæˆ–whereä¸­åŒ…å«äº†å­æŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DERIVED</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	åœ¨fromåˆ—è¡¨ä¸­åŒ…å«çš„å­æŸ¥è¯¢è¢«æ ‡è®°ä¸ºderived(è¡ç”Ÿ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)æŠŠç»“æœæ”¾åœ¨ä¸´æ—¶è¡¨å½“ä¸­		</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">UNION</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	è‹¥ç¬¬äºŒä¸ªselectå‡ºç°çš„unionä¹‹å,åˆ™è¢«æ ‡è®°ä¸ºunion</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	è‹¥unionåŒ…å«åœ¨fromå­å¥çš„å­æŸ¥è¯¢ä¸­,å¤–å±‚selectå°†è¢«æ ‡è®°ä¸ºderiver</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">UNION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> RESULT</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	ä»unionè¡¨è·å–ç»“æœselect,ä¸¤ä¸ªUNIONåˆå¹¶çš„ç»“æœé›†åœ¨æœ€å</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- union å’Œ union result ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LEFT JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">RIGHT JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department D </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>table</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ˜¾ç¤ºè¿™ä¸€è¡Œçš„æ•°æ®æ˜¯å…³äºå“ªå¼ è¡¨çš„</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>**partitions **</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å¦‚æœæŸ¥è¯¢æ˜¯åŸºäºåˆ†åŒºè¡¨çš„è¯,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä¼šæ˜¾ç¤ºæŸ¥è¯¢è®¿é—®çš„åˆ†åŒº</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>type</strong> (é‡è¦)</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">è®¿é—®ç±»å‹æ’åˆ—</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ç»“æœå€¼:(æœ€å¥½åˆ°æœ€å·®</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) system &gt; const &gt; eq_ref &gt;  ref &gt; range &gt; index &gt; ALL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- system è¡¨ä¸­æœ‰ä¸€è¡Œè®°å½•(ç³»ç»Ÿè¡¨)  è¿™æ˜¯constç±»å‹çš„ç‰¹ä¾‹,å¹³æ—¶ä¸ä¼šå‡ºç°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> HOST </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> mysql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">db</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> HOST</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;localhost&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- const  è¡¨ç¤ºé€šè¿‡ç´¢å¼•ä¸€æ¬¡å°±æ‰¾åˆ°äº†ï¼Œconstç”¨äºæ¯”è¾ƒprimary æˆ–è€… uniqueç´¢å¼•.   ç›´æ¥æŸ¥è¯¢ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•ï¼Œå› ä¸ºåªåŒ¹é…ä¸€è¡Œæ•°æ®,æ‰€ä»¥å¾ˆå¿«</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- eq_ref å”¯ä¸€æ€§ç´¢å¼•æ‰«æ å¯¹äºæ¯ä¸ªç´¢å¼•é”®,è¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é…, å¸¸è§äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e,department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ref éå”¯ä¸€æ€§ç´¢å¼•æ‰«æ,è¿”å›åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„æ‰€æœ‰è¡Œ,æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§ç´¢å¼•è®¿é—®,å®ƒè¿”å›æ‰€æœ‰åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„è¡Œå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œ,æ‰€ä»¥å®ƒåº”è¯¥å±äºæŸ¥æ‰¾å’Œæ‰«æçš„æ··åˆä½“</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e,department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- range åªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œ,ä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œ ä¸€èˆ¬å°±æ˜¯åœ¨ä½ çš„whereè¯­å¥ä¸­å‡ºç°between\&lt;\&gt;\ inç­‰æŸ¥è¯¢,è¿™ç§èŒƒå›´æ‰«æç´¢å¼•æ¯”å…¨è¡¨æ‰«æè¦å¥½,å› ä¸ºå®ƒåªéœ€è¦å¼€å§‹äºç´¢å¼•çš„æŸä¸€ç‚¹.è€Œç»“æŸè¯­å¦ä¸€ç‚¹,ä¸ç”¨æ‰«æå…¨éƒ¨ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- index indexä¸AllåŒºåˆ«ä¸ºindexç±»å‹åªéå†ç´¢å¼•æ ‘,é€šå¸¸æ¯”Allè¦å¿«,å› ä¸ºç´¢å¼•æ–‡ä»¶é€šå¸¸æ¯”æ•°æ®æ–‡ä»¶è¦å°allå’Œindexéƒ½æ˜¯è¯»å…¨è¡¨,ä½†indexæ˜¯ä»ç´¢å¼•ä¸­è¯»å–,allæ˜¯ä»ç¡¬ç›˜å½“ä¸­è¯»å–</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ALL å°†å…¨è¡¨è¿›è¡Œæ‰«æ,ä»ç¡¬ç›˜å½“ä¸­è¯»å–æ•°æ®,å¦‚æœå‡ºç°äº†All åˆ‡æ•°æ®é‡éå¸¸å¤§, ä¸€å®šè¦å»åšä¼˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">è¦æ±‚:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	ä¸€èˆ¬æ¥è¯´,ä¿è¯æŸ¥è¯¢è‡³å°‘è¾¾åˆ°rangeçº§åˆ«</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	æœ€å¥½èƒ½è¾¾åˆ°ref</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>possible_keys</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•,ä¸€ä¸ªæˆ–è€…å¤šä¸ª</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µä¸Šè‹¥å­˜åœ¨ç´¢å¼•,åˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡º,ä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢å®é™…ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å¯èƒ½è‡ªå·±åˆ›å»ºäº†4ä¸ªç´¢å¼•,åœ¨æ‰§è¡Œçš„æ—¶å€™,å¯èƒ½æ ¹æ®å†…éƒ¨çš„è‡ªåŠ¨åˆ¤æ–­,åªä½¿ç”¨äº†3ä¸ª</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--  å¯èƒ½ä¸ä¼šç”¨åˆ°ç´¢å¼•ï¼Œå®é™…ç”¨åˆ°ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å¯èƒ½ä¼šä½¿ç”¨ç´¢å¼•ï¼Œå®é™…æ²¡ç”¨åˆ°ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e,department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>key</strong> ï¼ˆé‡è¦ï¼‰</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å®é™…ä½¿ç”¨çš„ç´¢å¼•,å¦‚æœä¸ºNULL,åˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•,æŸ¥è¯¢ä¸­è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ,åˆ™è¯¥ç´¢å¼•ä»…å‡ºç°åœ¨keyåˆ—è¡¨</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">possible_keysä¸keyå…³ç³»,ç†è®ºåº”è¯¥ç”¨åˆ°å“ªäº›ç´¢å¼•</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  å®é™…ç”¨åˆ°äº†å“ªäº›ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">è¦†ç›–ç´¢å¼•</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æŸ¥è¯¢çš„å­—æ®µå’Œå»ºç«‹çš„å­—æ®µåˆšå¥½å»åˆ,è¿™ç§æˆ‘ä»¬ç§°ä¸ºè¦†ç›–ç´¢å¼•</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>key_len</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°,å¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•é•¿åº¦ .</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ref</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ç´¢å¼•æ˜¯å¦è¢«å¼•å…¥åˆ°,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> åˆ°åº•å¼•ç”¨åˆ°äº†å“ªå‡ ä¸ªç´¢å¼•</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e,department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">cus_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e,department d,customer c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">cus_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>rows</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µ,å¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¦è¯»å–çš„è¡Œæ•°,æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ä¼˜åŒ–å™¨æŸ¥è¯¢è¿‡</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>filtered</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ»¡è¶³æŸ¥è¯¢çš„è®°å½•æ•°é‡çš„æ¯”ä¾‹ï¼Œæ³¨æ„æ˜¯ç™¾åˆ†æ¯”ï¼Œä¸æ˜¯å…·ä½“è®°å½•æ•° . å€¼è¶Šå¤§è¶Šå¥½ï¼Œfilteredåˆ—çš„å€¼ä¾èµ–ç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶ä¸ååˆ†å‡†ç¡®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e,department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Extra</strong> ï¼ˆé‡è¦ï¼‰</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ³¨æ„ï¼šè¯­å¥ä¸­å‡ºç°äº†Using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Filesort</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å’Œ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Temporaryè¯´æ˜æ²¡æœ‰ä½¿ç”¨åˆ°ç´¢å¼•</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>äº§ç”Ÿçš„å€¼:</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	/* </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	Using filesort (éœ€è¦ä¼˜åŒ–)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		è¯´æ˜mysqlä¼šå¯¹æ•°æ®ä½¿ç”¨ä¸€ä¸ªå¤–éƒ¨çš„ç´¢å¼•æ’åº,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		è€Œä¸æ˜¯æŒ‰ç…§è¡¨å†…çš„ç´¢å¼•é¡ºåºè¿›è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		Mysqlä¸­æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆæ’åºæ“ä½œç§°ä¸º&quot;æ–‡ä»¶æ’åº&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	*/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	/* </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	Using temporary (éœ€è¦ä¼˜åŒ–)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		ä½¿ç”¨äº†ä¸´æ—¶è¡¨ä¿å­˜ä¸­é—´ç»“æœ,Mysqlåœ¨å¯¹æŸ¥è¯¢ç»“æœæ’åºæ—¶, ä½¿ç”¨äº†ä¸´æ—¶è¡¨,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		å¸¸è§äºæ’åºorderby å’Œåˆ†ç»„æŸ¥è¯¢group by</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	*/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GROUP BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cus_id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	/*</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	impossible where (éœ€è¦ä¼˜åŒ–)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">		where å­å¥çš„å€¼æ€»æ˜¯false ä¸èƒ½ç”¨æ¥è·å–ä»»ä½•å…ƒç»„</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">	*/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;zs&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	use</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> index</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		è¡¨ç¤ºç›¸åº”çš„selectä¸­ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•,é¿å…è®¿é—®äº†è¡¨çš„æ•°æ®è¡Œ,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ•ˆç‡å¾ˆå¥½</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		å¦‚æœåŒæ—¶å‡ºç°using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> where</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  è¡¨æ˜ç´¢å¼•è¢«ç”¨æ¥æ‰§è¡Œç´¢å¼•é”®å€¼çš„æŸ¥æ‰¾</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		å¦‚æœæ²¡æœ‰åŒæ—¶å‡ºç°using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> where</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> è¡¨æ˜ç´¢å¼•</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç”¨æ¥è¯»å–æ•°æ®è€Œéæ‰§è¡ŒæŸ¥æ‰¾åŠ¨ä½œ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		è¡¨æ˜ä½¿ç”¨äº†whereè¿‡æ»¤</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> join</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> buffer</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		ä½¿ç”¨äº†è¿æ¥ç¼“å­˜</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqlå‰ç¼€ç´¢å¼•å’Œç´¢å¼•åˆ—çš„é€‰æ‹©æ€§" tabindex="-1"><a class="header-anchor" href="#mysqlå‰ç¼€ç´¢å¼•å’Œç´¢å¼•åˆ—çš„é€‰æ‹©æ€§"><span>MySQLå‰ç¼€ç´¢å¼•å’Œç´¢å¼•åˆ—çš„é€‰æ‹©æ€§</span></a></h3><p>ç´¢å¼•å¾ˆé•¿çš„å­—ç¬¦åˆ—(å¾ˆé•¿çš„varcharã€textã€blob)ï¼Œå¿…é¡»ä½¿ç”¨å‰ç¼€ç´¢å¼•(MyISAM 727å­—èŠ‚ï¼ŒInnodb 1000å­—èŠ‚)ï¼Œå› ä¸ºMySQLä¸å…è®¸ç´¢å¼•è¿™äº›ã€åˆ—çš„å®Œæ•´é•¿åº¦ï¼Œä½¿ç”¨å‰é¢æ‰€è¯´çš„ä¼ªå“ˆå¸Œç´¢å¼•æ˜¯ä¸è¡Œçš„ï¼Œé€šå¸¸æ˜¯ç´¢å¼•å¼€å§‹çš„éƒ¨åˆ†å­—ç¬¦ï¼Œå¯ä»¥èŠ‚çœç´¢å¼•ç©ºé—´ï¼Œæé«˜ç´¢å¼•æ•ˆç‡ï¼Œä½†æ˜¯ä¼šé™ä½ç´¢å¼•çš„é€‰æ‹©æ€§æ‰€ä»¥éœ€è¦åœ¨å‰ç¼€ç´¢å¼•çš„å¤§å°å’Œé€‰æ‹©æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> index_name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> on</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">col_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(n))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©ä¸€ä¸ªåˆ—ä½œä¸ºç´¢å¼•åˆ—ï¼Œä¸€èˆ¬å°±çœ‹è¿™åˆ—çš„é‡å¤è¡Œï¼Œé‡å¤æ€§è¶Šä½è¶Šé€‚åˆåšç´¢å¼•åˆ—ã€‚ä¹Ÿå°±æ˜¯ï¼š<strong><mark>ä¸é‡å¤çš„ç´¢å¼•å€¼å’Œè¡¨çš„è®°å½•æ•°çš„æ¯”å€¼</mark></strong> ã€‚å¦‚æœè¿™ä¸ªè¡¨ä¸­è®°å½•çš„å”¯ä¸€æ€§è¶Šé«˜è¯´æ˜è¶Šé€‚åˆåšç´¢å¼•ã€‚æ¯”å¦‚ï¼šä¸»é”®å’Œå”¯ä¸€åˆ—ï¼Œéƒ½ç‰¹åˆ«é€‚åˆåšç´¢å¼•ã€‚<mark><strong>æ¯”å€¼è¶Šé«˜ç´¢å¼•çš„æ•ˆç‡è¶Šå¥½ï¼Œå› ä¸ºé€‰æ‹©æ€§é«˜çš„ç´¢å¼•å¯ä»¥åœ¨æŸ¥æ‰¾æ—¶è¿‡æ»¤æ‰æ›´å¤šçš„è¡Œï¼Œå”¯ä¸€ç´¢å¼•çš„å€¼æ˜¯1ï¼Œè¿™æ˜¯æ€§èƒ½æœ€å¥½çš„</strong></mark></p><h3 id="è”åˆç´¢å¼•-å¾ˆå¤šåˆ—éƒ½å»ºç«‹ç´¢å¼•ä¸å¦‚å»ºç«‹è”åˆç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•-å¾ˆå¤šåˆ—éƒ½å»ºç«‹ç´¢å¼•ä¸å¦‚å»ºç«‹è”åˆç´¢å¼•"><span>è”åˆç´¢å¼•ï¼šå¾ˆå¤šåˆ—éƒ½å»ºç«‹ç´¢å¼•ä¸å¦‚å»ºç«‹è”åˆç´¢å¼•</span></a></h3><p>åœ¨å¤šä¸ªå•ç‹¬åˆ—å»ºç«‹ç‹¬ç«‹ç´¢å¼•å¤§å¤šæ•°æƒ…å†µä¸èƒ½æé«˜MySQLæŸ¥è¯¢æ€§èƒ½ï¼Œå› ä¸ºéœ€è¦æ›´å¤šåœ°å†…å­˜å’Œç£ç›˜IO</p><ul><li>1ã€å½“æœåŠ¡å™¨å¯¹å¤šä¸ªç´¢å¼•åšç›¸äº¤æ“ä½œ(å¤šä¸ªand)çš„æ—¶å€™ï¼Œé€šå¸¸éœ€è¦ä¸€ä¸ªåŒ…å«å¤šä¸ªåˆ—çš„å¤šåˆ—ç´¢å¼•ï¼Œè€Œä¸æ˜¯å¤šä¸ªç‹¬ç«‹çš„å•ç‹¬ç´¢å¼•</li><li>2ã€å¤šä¸ªor(è”åˆæ“ä½œ)ï¼Œä¼šæ¶ˆè€—å¤§é‡CPUå’Œå†…å­˜èµ„æºåœ¨ç®—æ³•çš„ç¼“å­˜ã€æ’åºå’Œåˆå¹¶æ“ä½œä¸Šï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜å¯èƒ½æœ‰æŸ¥è¯¢çš„å¹¶å‘æ€§ï¼Œè¿˜ä¸å¦‚æ²¡æœ‰ç´¢å¼•ï¼Œä½¿ç”¨union</li><li>3ã€å¦‚æœåœ¨explainä¸­çœ‹åˆ°ç´¢å¼•åˆå¹¶ï¼Œå°±è¦æ£€æŸ¥ä¸€ä¸‹æŸ¥è¯¢å’Œè¡¨ç»“æ„ã€‚å¯ä»¥é€šè¿‡optimizer_switchæ¥å…³é—­ç´¢å¼•åˆå¹¶åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ignore index</li></ul><p><strong>æ¥è®©ä¼˜åŒ–å™¨å¿½ç•¥æ‰æŸäº›ç´¢å¼•ã€‚å¦‚ä½•é€‰æ‹©ç´¢å¼•åˆ—çš„é¡ºåºï¼šåœ¨ä¸è€ƒè™‘æ’åºå’Œåˆ†ç»„çš„æƒ…å†µä¸‹</strong></p><ul><li>1ã€ç»å¸¸ä½¿ç”¨çš„åˆ—æ”¾åœ¨æœ€å·¦è¾¹ï¼Œå› ä¸ºç´¢å¼•åˆ—æ˜¯æŒ‰ç…§ ä»å·¦åˆ°å³å»ä½¿ç”¨çš„</li><li>2ã€é€‰æ‹©æ€§é«˜çš„åˆ—ä¼˜å…ˆ</li><li>3ã€å®½åº¦å°ï¼Œæ„å‘³ç€æ¯ä¸€é¡µçš„æ•°æ®æ›´å¤šï¼Œç£ç›˜IOæ¶ˆè€—æ›´å°‘</li></ul><h3 id="è¦†ç›–ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#è¦†ç›–ç´¢å¼•"><span>è¦†ç›–ç´¢å¼•</span></a></h3><p>å¦‚æœä¸€ä¸ªç´¢å¼•åŒ…å«ã€è¦†ç›–æ‰€éœ€è¦<mark>æŸ¥è¯¢çš„åˆ—çš„å€¼</mark>ï¼Œå°±ç§°ä¸º&quot;è¦†ç›–ç´¢å¼•&quot;</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å¯ä»¥ä¼˜åŒ–ç¼“å­˜ï¼Œå‡å°‘ç£ç›˜IOæ“ä½œ</li><li>å› ä¸ºB-treeç´¢å¼•å¯ä»¥å‡å°‘éšæœºIOï¼Œå˜éšæœºIOè®¿é—®ä¸ºé¡ºåºIOæ“ä½œï¼Œæœ‰åˆ©äºæ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦</li><li>é¿å…InnoDBç´¢å¼•çš„äºŒæ¬¡æŸ¥è¯¢ï¼Œè¿™ç‚¹å’ŒHashç´¢å¼•ä¸åŒ</li><li>é¿å…MyISAMè¡¨è¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œå› ä¸ºMySQLåªæ˜¯ç¼“å­˜ç´¢å¼•çš„ä¿¡æ¯ï¼Œæ•°æ®è¦ä¾èµ–æ“ä½œç³»ç»Ÿç¼“å­˜ï¼Œæ‰€ä»¥è®¿é—®æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œç³»ç»Ÿè°ƒç”¨çš„æ€§èƒ½é€šå¸¸ä¸å¥½</li></ul><p><strong>è¦†ç›–ç´¢å¼•çš„é™åˆ¶ï¼š</strong></p><ul><li>å­˜åœ¨å­˜å‚¨å¼•æ“ä¸æ”¯æŒè¦†ç›–ç´¢å¼•ï¼ŒMemoryã€hashã€å…¨æ–‡ã€ç©ºé—´ç´¢å¼•éƒ½ä¸èƒ½åšè¦†ç›–ç´¢å¼•ï¼Œåªèƒ½ä½¿ç”¨B-Treeç´¢å¼•åšè¦†ç›–ç´¢å¼•</li><li>æŸ¥è¯¢ä¸­ä½¿ç”¨å¤ªå¤šçš„åˆ—ï¼Œåªæœ‰ç´¢å¼•çš„å¤§å°è¿œè¿œå°äºæ•°æ®æœ¬èº«æ‰èƒ½å‘æŒ¥ç´¢å¼•çš„ä½œç”¨</li><li>ä½¿ç”¨äº†like &#39;%%&#39;è¿™ç§åŒç™¾åˆ†å·çš„æŸ¥è¯¢ï¼Œå› ä¸ºå­˜å‚¨å¼•æ“åº•å±‚çš„APIé™åˆ¶çš„ï¼Œåªèƒ½æå–æ•°æ®è¡Œçš„å€¼å¹¶åŠ è½½å†…å­˜ä¸­ï¼Œç„¶ååœ¨å†…å­˜ä¸­è¿›è¡Œwhereè¿‡æ»¤</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">house_detail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">` (</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bigint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `description`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;è¯¦ç»†æè¿°&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `layout_desc`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æˆ·å‹ä»‹ç»&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `traffic`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;äº¤é€šå‡ºè¡Œ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `round_service`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å‘¨è¾¹é…å¥—&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `rent_way`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç§Ÿèµæ–¹å¼&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `address`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;è¯¦ç»†åœ°å€ &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `subway_line_id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bigint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `subway_line_name`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é™„è¿‘åœ°é“çº¿åç§°&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `subway_station_id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bigint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `subway_station_name`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> COMMENT </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;åœ°é“ç«™å&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `house_id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bigint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  UNIQUE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> KEY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `index_on_house_id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`house_id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">USING</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BTREE</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ENGINE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">InnoDB AUTO_INCREMENT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">39</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFAULT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CHARSET</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">utf8mb4 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COLLATE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">utf8mb4_0900_ai_ci</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥è¯¢å¦‚ä¸‹ï¼šEXPLAIN SELECT house_id FROM house_detail WHERE house_id = 15;</li></ul><p>å¯ä»¥åœ¨Extraä¸­çœ‹åˆ°Using indexï¼Œè¿˜æœ‰ä½¿ç”¨çš„ç´¢å¼•åç§°</p><ul><li>å¦‚æœæ˜¯EXPLAIN SELECT house_id FROM house_detail WHERE house_id LIKE &#39;%1%&#39;;</li></ul><p>æˆ‘ä»¬çœ‹åˆ°Using whereå’ŒUsing index</p><h3 id="mysqlä¼˜åŒ–å®æˆ˜ä¹‹é¿å…ç´¢å¼•å¤±æ•ˆ" tabindex="-1"><a class="header-anchor" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹é¿å…ç´¢å¼•å¤±æ•ˆ"><span>MySQLä¼˜åŒ–å®æˆ˜ä¹‹é¿å…ç´¢å¼•å¤±æ•ˆ</span></a></h3><p><strong>ç›®æ ‡</strong></p><p>å®æˆ˜ç´¢å¼•</p><ul><li>å…¨å€¼åŒ¹é…</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åˆ›å»ºç»„åˆç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_name_dep_age</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,dep_id,age)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç´¢å¼•å­—æ®µå…¨éƒ¨ä½¿ç”¨ä¸Š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æœ€å·¦åŒ¹é…åŸåˆ™</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å»æ‰nameæ¡ä»¶ ç´¢å¼•å…¨éƒ¨å¤±æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å»æ‰dep_id   nameç´¢å¼•ç”Ÿæ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- é¡ºåºé”™ä¹±ä¸ä¼šå½±å“æœ€å·¦åŒ¹é…</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸å†ç´¢å¼•åˆ—ä¸Šåšä»»ä½•æ“ä½œ</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åœ¨nameå­—æ®µä¸Š åŠ ä¸Šå»é™¤ç©ºæ ¼çš„å‡½æ•° ç´¢å¼•å¤±æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> TRIM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>èŒƒå›´æ¡ä»¶å³è¾¹çš„ç´¢å¼•å¤±æ•ˆ</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- èŒƒå›´æŸ¥æ‰¾ ä¼šé€ æˆè¯¥ç»„åˆç´¢å¼•å­—æ®µçš„å³ä¾§ç´¢å¼•å…¨éƒ¨å¤±æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mysqlåœ¨ä½¿ç”¨ä¸ç­‰äº(!=æˆ–è€…&lt;&gt;)ç´¢å¼•å¤±æ•ˆ</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>is null,is not nullæ— æ³•ä½¿ç”¨ç´¢å¼•</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> is not NULL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>likeä»¥é€šé…ç¬¦å¼€å¤´(%qw)ç´¢å¼•å¤±æ•ˆ</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%é²&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å­—ç¬¦ä¸²ä¸åŠ å¼•å·ç´¢å¼•å¤±æ•ˆ</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨orè¿æ¥ç´¢å¼•å¤±æ•ˆ</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¦†ç›–ç´¢å¼•: è¦æŸ¥è¯¢çš„å­—æ®µå…¨éƒ¨æ˜¯ç´¢å¼•å­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ä¸Šé¢æƒ…å†µä¼šè§¦å‘å…¨è¡¨æ‰«æï¼Œä¸è¿‡è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼Œåˆ™ä¼šåªæ‰«æç´¢å¼•æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,dep_id,age </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqlä¼˜åŒ–å®æˆ˜ä¹‹æ’åºä¸åˆ†ç»„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹æ’åºä¸åˆ†ç»„ä¼˜åŒ–"><span>MySQLä¼˜åŒ–å®æˆ˜ä¹‹æ’åºä¸åˆ†ç»„ä¼˜åŒ–</span></a></h3><p><strong>ä½¿ç”¨order byå‡ºç°Using filesort</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ²¡æœ‰ä½¿ç”¨ç´¢å¼•æ’åºï¼Œè€Œæ˜¯å†…éƒ¨åˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œæ–‡ä»¶æ’åºï¼Œæ‰€ä»¥éœ€è¦ä¼˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å¦‚æœselectè¯­å¥æœªä½¿ç”¨åˆ°ç´¢å¼•ï¼Œä¼šå‡ºç° filesort</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee  </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">order by</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,dep_id,age</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç»„åˆç´¢å¼•ç¼ºå°‘ç´¢å¼•å­—æ®µ ä¼šå‡ºç° filesort</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> order by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id,age</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee  </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">order by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id,age  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç»„åˆç´¢å¼•é¡ºåºä¸ä¸€è‡´(order byçš„åé¢) ä¼šå‡ºç° filesort</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> order by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id,age </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> order by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age,dep_id</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å½“ç´¢å¼•å‡ºç°èŒƒå›´æŸ¥æ‰¾æ—¶ å¯èƒ½ä¼šå‡ºç° filesort</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> order by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ’åºä½¿ç”¨ä¸€å‡ä¸€é™ä¼šé€ æˆfilesort</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;é²ç­&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> order by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">desc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,age</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨group byå‡ºç°Using temporary</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> åŒorder</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> byæƒ…å†µç±»ä¼¼ï¼Œ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> åˆ†ç»„å¿…å®šè§¦å‘æ’åº</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="mysqlä¼˜åŒ–å®æˆ˜ä¹‹å¤§æ•°æ®é‡åˆ†é¡µä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹å¤§æ•°æ®é‡åˆ†é¡µä¼˜åŒ–"><span>MySQLä¼˜åŒ–å®æˆ˜ä¹‹å¤§æ•°æ®é‡åˆ†é¡µä¼˜åŒ–</span></a></h3><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> åˆ†é¡µæ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„åŠŸèƒ½ï¼Œåœ¨æ•°æ®é‡å°‘æ—¶å•çº¯çš„ä½¿ç”¨limit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> m,n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä¸ä¼šæ„Ÿè§‰åˆ°æ€§èƒ½çš„å½±å“</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä½†æˆ‘ä»¬çš„æ•°æ®è¾¾åˆ°æˆç™¾ä¸Šåƒä¸‡æ—¶</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ï¼Œ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å°±ä¼šæ˜æ˜¾æŸ¥è¯¢é€Ÿåº¦è¶Šæ¥è¶Šä½</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹å¯¼å…¥æ•°æ®</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æŸ¥çœ‹æ˜¯å¦å¼€å¯å‡½æ•°åŠŸèƒ½</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show variables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;log_bin_trust_function_creators&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è®¾ç½®å¼€å¯å‡½æ•°åŠŸèƒ½</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> global</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> log_bin_trust_function_creators</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åˆ›å»ºå‡½æ•°ç”¨äºç”Ÿæˆéšæœºå­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">delimiter $$</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> rand_string</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(n </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">returns</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> begin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   declare</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> chars_str </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;qwertyuiopasdfghjklzxcvbnm&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   declare</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> return_str </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   declare</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">n do</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> return_str</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">concat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(return_str,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">substring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(chars_str,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">floor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">rand</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">52</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">i+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   end</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">   return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> return_str;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $$</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ç”¨äºæ’å…¥æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">delimiter $$</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> procedure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> insert_emp(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> start</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> max_num </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">begin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> declare</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> /*æŠŠautocommitè®¾ç½®æˆ0*/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> autocommit</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> repeat</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">i+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> insert into</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,dep_id,age,salary,cus_id)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> values</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(rand_string(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;2&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> until i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">max_num </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> repeat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">commit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $$</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è°ƒç”¨å­˜å‚¨è¿‡ç¨‹æ’å…¥æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">call</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> insert_emp(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æµ‹è¯•ä¸€ä¸‹åˆ†é¡µæ•°æ®çš„ç›¸åº”æ—¶é—´</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- limit 0,20 æ—¶é—´: 0.001ms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- limit 10000,20 æ—¶é—´: 0.004ms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- limit 100000,20 æ—¶é—´: 0.044ms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- limit 1000000,20 æ—¶é—´:  0.370ms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- limit 3000000,20 æ—¶é—´: 1.068ms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å­æŸ¥è¯¢ä¼˜åŒ–</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å­æŸ¥è¯¢ä¼˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- é€šè¿‡Explainå‘ç°ï¼Œä¹‹å‰æˆ‘ä»¬æ²¡æœ‰åˆ©ç”¨åˆ°ç´¢å¼•ï¼Œè¿™æ¬¡æˆ‘ä»¬åˆ©ç”¨ç´¢å¼•æŸ¥è¯¢å‡ºå¯¹åº”çš„æ‰€æœ‰ID</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åœ¨é€šè¿‡å…³è”æŸ¥è¯¢ï¼ŒæŸ¥è¯¢å‡ºå¯¹åº”çš„å…¨éƒ¨æ•°æ®ï¼Œæ€§èƒ½æœ‰äº†æ˜æ˜¾æå‡</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- limit 3000000,20 æ—¶é—´: 1.068ms -&gt; æ—¶é—´: 0.742ms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee e,(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) tmp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">tmp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è‡ªå¢IDä¹Ÿå¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee t </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨idé™å®šæ–¹æ¡ˆ</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ä½¿ç”¨idé™å®šæ–¹æ¡ˆï¼Œå°†ä¸Šä¸€é¡µçš„IDä¼ é€’è¿‡æ¥ æ ¹æ®idèŒƒå›´è¿›è¡Œåˆ†é¡µæŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- é€šè¿‡ç¨‹åºçš„è®¾è®¡ï¼ŒæŒç»­ä¿ç•™ä¸Šä¸€é¡µçš„IDï¼Œå¹¶ä¸”IDä¿è¯è‡ªå¢</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ—¶é—´: 0.010ms   </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3000109</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> limit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è™½ç„¶ä½¿ç”¨æ¡ä»¶æœ‰äº›è‹›åˆ» ä½†æ•ˆç‡éå¸¸é«˜ï¼Œå¯ä»¥å’Œæ–¹æ¡ˆä¸€ç»„åˆä½¿ç”¨ ï¼Œè·³è½¬æŸé¡µä½¿ç”¨æ–¹æ¡ˆä¸€ ä¸‹ä¸€é¡µä½¿ç”¨æ–¹æ¡ˆ2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysqlä¼˜åŒ–å®æˆ˜ä¹‹å°è¡¨é©±åŠ¨å¤§è¡¨" tabindex="-1"><a class="header-anchor" href="#mysqlä¼˜åŒ–å®æˆ˜ä¹‹å°è¡¨é©±åŠ¨å¤§è¡¨"><span>MySQLä¼˜åŒ–å®æˆ˜ä¹‹å°è¡¨é©±åŠ¨å¤§è¡¨</span></a></h3><p><strong>3.2.4.1 è¡¨å…³è”æŸ¥è¯¢</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">MySQL è¡¨å…³è”çš„ç®—æ³•æ˜¯ Nest </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Loop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> Join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ï¼Œæ˜¯é€šè¿‡é©±åŠ¨è¡¨çš„ç»“æœé›†ä½œä¸ºå¾ªç¯åŸºç¡€æ•°æ®ï¼Œç„¶åä¸€æ¡ä¸€æ¡åœ°é€šè¿‡è¯¥ç»“æœé›†ä¸­çš„æ•°æ®ä½œä¸ºè¿‡æ»¤æ¡ä»¶åˆ°ä¸‹ä¸€ä¸ªè¡¨ä¸­æŸ¥è¯¢æ•°æ®ï¼Œç„¶ååˆå¹¶ç»“æœã€‚å¦‚æœå°çš„å¾ªç¯åœ¨å¤–å±‚ï¼Œå¯¹äºæ•°æ®åº“è¿æ¥æ¥è¯´å°±åªè¿æ¥5æ¬¡ï¼Œè¿›è¡Œ5000æ¬¡æ“ä½œï¼Œå¦‚æœ1000åœ¨å¤–ï¼Œåˆ™éœ€è¦è¿›è¡Œ1000æ¬¡æ•°æ®åº“è¿æ¥ï¼Œä»è€Œæµªè´¹èµ„æºï¼Œå¢åŠ æ¶ˆè€—ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å°è¡¨é©±åŠ¨å¤§è¡¨ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ€»ç»“ï¼š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å¤šè¡¨æŸ¥è¯¢ä¸­ï¼Œä¸€å®šè¦è®©å°è¡¨é©±åŠ¨å¤§è¡¨</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3.2.4.2 inå’ŒexitsæŸ¥è¯¢</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ä½¿ç”¨in æ—¶é—´: 3.292ms</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dep_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ä½¿ç”¨departmentè¡¨ä¸­æ•°æ®ä½œä¸ºå¤–å±‚å¾ªç¯ 10æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department d)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	æ¯æ¬¡å¾ªç¯æ‰§è¡Œemployeeè¡¨ä¸­çš„æŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ä½¿ç”¨exits æ—¶é—´: 14.771ms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> exists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ä½¿ç”¨employeeè¡¨ä¸­æ•°æ®ä½œä¸ºå¤–å±‚å¾ªç¯ 3000000ä¸‡æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employee e)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	æ¯æ¬¡å¾ªç¯æ‰§è¡Œdepartmentè¡¨ä¸­çš„æŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">dep_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ€»ç»“ï¼š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	å½“Aè¡¨æ•°æ®å¤šäºBè¡¨ä¸­çš„æ•°æ®æ—¶ï¼Œè¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨inä¼˜äºExists</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	å½“Bè¡¨æ•°æ®å¤šäºAè¡¨ä¸­çš„æ•°æ®æ—¶,è¿™æ—¶æˆ‘ä»¬ä½¿ç”¨Existsä¼˜äºin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	å¦‚æœæ•°æ®é‡å·®ä¸å¤šï¼Œé‚£ä¹ˆå®ƒä»¬çš„æ‰§è¡Œæ€§èƒ½å·®ä¸å¤š</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	Existså­æŸ¥è¯¢åªè¿”å›trueæˆ–false,å› æ­¤å­æŸ¥è¯¢ä¸­çš„select</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¯ä»¥æ˜¯select</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1æˆ–å…¶å®ƒ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3.2.5 maxå‡½æ•°ä¼˜åŒ–</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç»™maxå‡½æ•°ä¸­çš„å­—æ®µæ·»åŠ ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(age) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> testemployee</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_06ã€mysqlçš„é«˜å¯ç”¨æ¶æ„-ä¸»ä»å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#_06ã€mysqlçš„é«˜å¯ç”¨æ¶æ„-ä¸»ä»å¤åˆ¶"><span>06ã€MYSQLçš„é«˜å¯ç”¨æ¶æ„-ä¸»ä»å¤åˆ¶</span></a></h1><h2 id="ä¸ºä»€ä¹ˆåŸºäºdockeræ­å»º" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆåŸºäºdockeræ­å»º"><span><strong>ä¸ºä»€ä¹ˆåŸºäºDockeræ­å»ºï¼Ÿ</strong></span></a></h2><ul><li>èµ„æºæœ‰é™</li><li>è™šæ‹Ÿæœºæ­å»ºå¯¹æœºå™¨é…ç½®æœ‰è¦æ±‚ï¼Œå¹¶ä¸”å®‰è£…mysqlæ­¥éª¤ç¹ç</li><li>ä¸€å°æœºå™¨ä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªDockerå®¹å™¨</li><li>Dockerå®¹å™¨ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œæœ‰ç‹¬ç«‹ipï¼Œäº’ä¸å†²çª</li><li>Dockerä½¿ç”¨æ­¥éª¤ç®€ä¾¿ï¼Œå¯åŠ¨å®¹å™¨åœ¨ç§’çº§åˆ«</li></ul><p><strong>æ­¥éª¤</strong></p><p>1ï¼šé¦–å…ˆæ‹‰å–mysql5.7çš„é•œåƒ</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql:5.7</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2ï¼šä½¿ç”¨dockerå®‰è£…å‡†å¤‡ä¸¤å°mysqlæœåŠ¡å™¨</p><p><strong>Master(ä¸»)ï¼š</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3306:3306</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mymysql-master</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MYSQL_ROOT_PASSWORD=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123456</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql:5.7</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>Slave(ä»)ï¼š</strong></p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3307:3306</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mymysql-slave-01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MYSQL_ROOT_PASSWORD=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123456</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql:5.7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3308:3306</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mymysql-slave-02</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MYSQL_ROOT_PASSWORD=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123456</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql:5.7</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Masterå¯¹å¤–æ˜ å°„çš„ç«¯å£æ˜¯3306ï¼ŒSlaveå¯¹å¤–æ˜ å°„çš„ç«¯å£æ˜¯3307ã€‚å› ä¸ºdockerå®¹å™¨æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªå®¹å™¨æœ‰å…¶ç‹¬ç«‹çš„ipï¼Œæ‰€ä»¥ä¸åŒå®¹å™¨ä½¿ç”¨ç›¸åŒçš„ç«¯å£å¹¶ä¸ä¼šå†²çªã€‚è¿™é‡Œæˆ‘ä»¬åº”è¯¥å°½é‡ä½¿ç”¨mysqlé»˜è®¤çš„3306ç«¯å£ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ— æ³•é€šè¿‡ipè¿æ¥dockerå®¹å™¨å†…mysqlçš„é—®é¢˜ã€‚ <mark>æ³¨æ„å¦‚æœæ˜¯ï¼šé˜¿é‡Œäº‘æœåŠ¡å™¨å¿…é¡»åœ¨å®‰å…¨ç»„å¼€æ”¾3340å’Œ3339çš„ç«¯å£ã€‚</mark></p><p>ä½¿ç”¨<code>docker ps</code>å‘½ä»¤æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼š</p><p>æ­¤æ—¶å¯ä»¥ä½¿ç”¨Navicatç­‰å·¥å…·æµ‹è¯•è¿æ¥mysql</p><p>3ï¼šåˆ›å»ºä¸¤ä¸ªä¸»ä»çš„é…ç½®æ–‡ä»¶<code>/opt/mysql/mysqlmaster.cnf</code>å’Œ<code>/opt/mysql/mysqlslave.cnf</code></p><p>mysqlmaster.cnfé…ç½®å¦‚ä¸‹</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## åŒä¸€å±€åŸŸç½‘å†…æ³¨æ„è¦å”¯ä¸€</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">server-id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼Œå¯ä»¥éšä¾¿å–ï¼ˆå…³é”®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">log-bin</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysql-bin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â å¤åˆ¶è¿‡æ»¤ï¼šä¸éœ€è¦å¤‡ä»½çš„æ•°æ®åº“ï¼Œä¸è¾“å‡ºï¼ˆmysqlåº“ä¸€èˆ¬ä¸åŒæ­¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog-ignore-db</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysql</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â ä¸ºæ¯ä¸ªsessionÂ åˆ†é…çš„å†…å­˜ï¼Œåœ¨äº‹åŠ¡è¿‡ç¨‹ä¸­ç”¨æ¥å­˜å‚¨äºŒè¿›åˆ¶æ—¥å¿—çš„ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog_cache_size</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">1M</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â ä¸»ä»å¤åˆ¶çš„æ ¼å¼ï¼ˆmixed,statement,rowï¼Œé»˜è®¤æ ¼å¼æ˜¯statementï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog_format</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mixed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mysqlslave01.cnf</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## è®¾ç½®server_id,æ³¨æ„è¦å”¯ä¸€</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">server-id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">102</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼Œä»¥å¤‡Slaveä½œä¸ºå…¶å®ƒSlaveçš„Masteræ—¶ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">log-bin</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysql-slave-bin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## relay_logé…ç½®ä¸­ç»§æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">relay_log</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">edu-mysql-relay-bin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##å¤åˆ¶è¿‡æ»¤ï¼šä¸éœ€è¦å¤‡ä»½çš„æ•°æ®åº“ï¼Œä¸è¾“å‡ºï¼ˆmysqlåº“ä¸€èˆ¬ä¸åŒæ­¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog-ignore-db</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysql</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â å¦‚æœéœ€è¦åŒæ­¥å‡½æ•°æˆ–è€…å­˜å‚¨è¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">log_bin_trust_function_creators</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â ä¸ºæ¯ä¸ªsessionÂ åˆ†é…çš„å†…å­˜ï¼Œåœ¨äº‹åŠ¡è¿‡ç¨‹ä¸­ç”¨æ¥å­˜å‚¨äºŒè¿›åˆ¶æ—¥å¿—çš„ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog_cache_size</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">1M</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â ä¸»ä»å¤åˆ¶çš„æ ¼å¼ï¼ˆmixed,statement,rowï¼Œé»˜è®¤æ ¼å¼æ˜¯statementï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog_format</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mixed</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â è·³è¿‡ä¸»ä»å¤åˆ¶ä¸­é‡åˆ°çš„æ‰€æœ‰é”™è¯¯æˆ–æŒ‡å®šç±»å‹çš„é”™è¯¯ï¼Œé¿å…slaveç«¯å¤åˆ¶ä¸­æ–­ã€‚</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â å¦‚ï¼š1062é”™è¯¯æ˜¯æŒ‡ä¸€äº›ä¸»é”®é‡å¤ï¼Œ1032é”™è¯¯æ˜¯å› ä¸ºä¸»ä»æ•°æ®åº“æ•°æ®ä¸ä¸€è‡´</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">slave_skip_errors</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">1062</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mysqlslave02.cnf</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## è®¾ç½®server_id,æ³¨æ„è¦å”¯ä¸€</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">server-id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">103</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼Œä»¥å¤‡Slaveä½œä¸ºå…¶å®ƒSlaveçš„Masteræ—¶ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">log-bin</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysql-slave-bin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## relay_logé…ç½®ä¸­ç»§æ—¥å¿—</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">relay_log</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">edu-mysql-relay-bin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##å¤åˆ¶è¿‡æ»¤ï¼šä¸éœ€è¦å¤‡ä»½çš„æ•°æ®åº“ï¼Œä¸è¾“å‡ºï¼ˆmysqlåº“ä¸€èˆ¬ä¸åŒæ­¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog-ignore-db</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mysql</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â å¦‚æœéœ€è¦åŒæ­¥å‡½æ•°æˆ–è€…å­˜å‚¨è¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">log_bin_trust_function_creators</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â ä¸ºæ¯ä¸ªsessionÂ åˆ†é…çš„å†…å­˜ï¼Œåœ¨äº‹åŠ¡è¿‡ç¨‹ä¸­ç”¨æ¥å­˜å‚¨äºŒè¿›åˆ¶æ—¥å¿—çš„ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog_cache_size</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">1M</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â ä¸»ä»å¤åˆ¶çš„æ ¼å¼ï¼ˆmixed,statement,rowï¼Œé»˜è®¤æ ¼å¼æ˜¯statementï¼‰</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">binlog_format</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mixed</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â è·³è¿‡ä¸»ä»å¤åˆ¶ä¸­é‡åˆ°çš„æ‰€æœ‰é”™è¯¯æˆ–æŒ‡å®šç±»å‹çš„é”™è¯¯ï¼Œé¿å…slaveç«¯å¤åˆ¶ä¸­æ–­ã€‚</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">##Â å¦‚ï¼š1062é”™è¯¯æ˜¯æŒ‡ä¸€äº›ä¸»é”®é‡å¤ï¼Œ1032é”™è¯¯æ˜¯å› ä¸ºä¸»ä»æ•°æ®åº“æ•°æ®ä¸ä¸€è‡´</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">slave_skip_errors</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">1062</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4ï¼šå°†ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°ä¸¤ä¸ªmysqlå®¹å™¨å†…éƒ¨ã€‚</p><p>å°†ä¸¤ä¸ªæ–‡ä»¶åˆ†åˆ«æ‹·è´åˆ°å„è‡ªçš„å®¹å™¨ä¸‹å³å¯(å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>å·</code> volumeçš„æ–¹å¼ä¹Ÿå¯ä»¥)</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/mysql/mysqlmaster.cnf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  mymysql-master:/etc/mysql/conf.d</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/mysql/mysqlslave01.cnf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mymysql-slave-01:/etc/mysql/conf.d</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/mysql/mysqlslave02.cnf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mymysql-slave-02:/etc/mysql/conf.d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><mark>ç„¶åé‡æ–°å¯åŠ¨ä¸¤ä¸ªæœåŠ¡å™¨å³å¯ã€‚</mark></p><p>5ï¼šè¿›å…¥åˆ°slaveæœåŠ¡å™¨å°±è¡Œbinlogæ–‡ä»¶å¤åˆ¶å’Œå¯åŠ¨slaveå¤åˆ¶åŠŸèƒ½</p><ul><li>è¿›å…¥slaveçš„mysqlæ•°æ®åº“</li></ul><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysql</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -uroot</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p123456</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>è¿›è¡Œmasteræ•°æ®åº“å’Œslaveæ•°æ®åº“çš„å¤åˆ¶åŠŸèƒ½</li></ul><p>è¿™é‡Œæ³¨æ„ä¸€ä¸‹ master_log_file å’Œ master_log_pos éƒ½æ˜¯é€šè¿‡ masteræœåŠ¡å™¨é€šè¿‡show master statusè·å¾—ã€‚</p><p>è·å–ä¸»èŠ‚ç‚¹çš„IPåœ°å€ï¼š</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> inspect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2763daa6ad2a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">change</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master_host=&#39;172.17.0.2&#39;,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master_user=&#39;root&#39;,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master_password=&#39;123456&#39;,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master_port=3306,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master_log_file=&#39;mysql-bin.000001&#39;,master_log_pos=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1448</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>master_host=&#39;39.105.15.89&#39; ## Masterçš„IPåœ°å€<br> master_user=&#39;root&#39; ## ç”¨äºåŒæ­¥æ•°æ®çš„ç”¨æˆ·ï¼ˆåœ¨Masterä¸­æˆæƒçš„ç”¨æˆ·ï¼‰<br> master_password=&#39;xxxx&#39; ## åŒæ­¥æ•°æ®ç”¨æˆ·çš„å¯†ç <br> master_port=3306 ## Masteræ•°æ®åº“æœåŠ¡çš„ç«¯å£<br> master_log_file=&#39;edu-mysql-bin.000001&#39;</p></blockquote><p>7ï¼šæŸ¥çœ‹ä¸»ä»åŒæ­¥çŠ¶æ€</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## æŸ¥çœ‹åŒæ­¥çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; show slave status</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\G</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## å¼€å¯ä¸»ä»åŒæ­¥</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; start slave;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Query</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> OK,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rows</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> affected</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (0.00 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">sec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## å†æŸ¥çœ‹ä¸»ä»åŒæ­¥çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; show slave status</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\G</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£å¸¸æƒ…å†µä¸‹ï¼ŒSlaveIORunning å’Œ SlaveSQLRunning éƒ½æ˜¯Noï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å¼€å¯ä¸»ä»å¤åˆ¶è¿‡ç¨‹ã€‚ä½¿ç”¨<code>start slave</code>å¼€å¯ä¸»ä»å¤åˆ¶è¿‡ç¨‹ï¼Œç„¶åå†æ¬¡æŸ¥è¯¢ä¸»ä»åŒæ­¥çŠ¶æ€<code>show slave status \G;</code>ã€‚</p><p>&amp;nbspï¼›</p><p>SlaveIORunning å’Œ SlaveSQLRunning éƒ½æ˜¯Yesï¼Œè¯´æ˜ä¸»ä»å¤åˆ¶å·²ç»å¼€å¯ã€‚æ­¤æ—¶å¯ä»¥æµ‹è¯•æ•°æ®åŒæ­¥æ˜¯å¦æˆåŠŸã€‚</p><h2 id="ä¸»ä»å¤åˆ¶æ’é”™" tabindex="-1"><a class="header-anchor" href="#ä¸»ä»å¤åˆ¶æ’é”™"><span>ä¸»ä»å¤åˆ¶æ’é”™</span></a></h2><p>ä½¿ç”¨<code>start slave</code>å¼€å¯ä¸»ä»å¤åˆ¶è¿‡ç¨‹åï¼Œå¦‚æœSlaveIORunningä¸€ç›´æ˜¯Connectingï¼Œåˆ™è¯´æ˜ä¸»ä»å¤åˆ¶ä¸€ç›´å¤„äºè¿æ¥çŠ¶æ€ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯ä¸‹é¢å‡ ç§åŸå› é€ æˆçš„ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® Last_IO_Erroræç¤ºäºˆä»¥æ’é™¤ã€‚</p><ol><li><p>ç½‘ç»œä¸é€š</p><p>æ£€æŸ¥ip,ç«¯å£</p></li><li><p>å¯†ç ä¸å¯¹</p><p>æ£€æŸ¥æ˜¯å¦åˆ›å»ºç”¨äºåŒæ­¥çš„ç”¨æˆ·å’Œç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®</p></li><li><p>posä¸å¯¹</p><p>æ£€æŸ¥Masterçš„ Position</p></li></ol><h2 id="æµ‹è¯•ä¸»ä»å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•ä¸»ä»å¤åˆ¶"><span>æµ‹è¯•ä¸»ä»å¤åˆ¶</span></a></h2><p>æµ‹è¯•ä¸»ä»å¤åˆ¶æ–¹å¼å°±ååˆ†å¤šäº†ï¼Œæœ€ç®€å•çš„æ˜¯åœ¨Masteråˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œç„¶åæ£€æŸ¥Slaveæ˜¯å¦å­˜åœ¨æ­¤æ•°æ®åº“ã€‚</p><p><strong>Master:</strong></p><p>&amp;nbspï¼›</p><p><strong>Slave:</strong></p><p>&amp;nbspï¼›</p><blockquote><h2 id="å¸¸è§é”™è¯¯æ’æŸ¥" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é”™è¯¯æ’æŸ¥"><span>å¸¸è§é”™è¯¯æ’æŸ¥</span></a></h2><ul><li><strong>MYSQLé•œåƒæœåŠ¡å™¨å› é”™è¯¯åœæ­¢çš„æ¢å¤</strong> --Slave_SQL_Running: No</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>å…ˆstop slaveï¼Œç„¶åæ‰§è¡Œäº†ä¸€ä¸‹æç¤ºçš„è¯­å¥ï¼Œå†</span></span>
<span class="line"><span>&gt; stop slave;</span></span>
<span class="line"><span>&gt; set global sql_slave_skip_counter=1;</span></span>
<span class="line"><span>&gt; start slave; </span></span>
<span class="line"><span>&gt; show slave status\G ;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>ä»MYSQLæœåŠ¡å™¨Slave_IO_Running: Noçš„è§£å†³2</strong></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>å°è¯•ä»æŸåä¹‹å‰çš„ä½ç½®å¼€å§‹ </span></span>
<span class="line"><span>&gt; stop slave;</span></span>
<span class="line"><span>&gt; CHANGE MASTER TO MASTER_LOG_FILE=&#39;mysql-bin.000008&#39;, MASTER_LOG_POS=519086591; </span></span>
<span class="line"><span>&gt; start slave;</span></span>
<span class="line"><span>æ— æ•ˆï¼ </span></span>
<span class="line"><span>åªå¥½ä»æ–°çš„æ—¥å¿—å¼€å§‹ </span></span>
<span class="line"><span>SLAVE STOP; </span></span>
<span class="line"><span>CHANGE MASTER TO MASTER_LOG_FILE=&#39;mysql-bin.000008&#39;, MASTER_LOG_POS=519260687; </span></span>
<span class="line"><span>SLAVE START; </span></span>
<span class="line"><span>æ­¤æ—¶Slave_IO_Runningæ¢å¤ä¸ºYesï¼ŒåŒæ­¥è¿›è¡Œäº†ï¼è§‚å¯Ÿäº†ä¼šå„¿ï¼Œæ²¡æœ‰ä»»ä½•å‡ºé”™è¿¹è±¡ï¼Œé—®é¢˜è§£å†³ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mysqlæ•°æ®ä¸»ä»åŒæ­¥å¤±è´¥è§£å†³æ–¹æ¡ˆ</li></ul><p>æ‰“å¼€æ•°æ®ä»åº“ï¼ˆslaveï¼‰ï¼Œè¿è¡Œ<br> mysql&gt;show slave status\G;<br> å¯ä»¥çœ‹åˆ°</p><p>slave_IO_Running:No è¯´æ˜æ•°æ®åº“åŒæ­¥æ“ä½œå¤±è´¥<br> æŠ¥é”™æç¤ºï¼š<br> Got fatal error 1236 from master when reading data from binary log: â€˜Could not find first log file name in binary log index fileâ€™<br><strong>è§£å†³æ–¹æ¡ˆ</strong><br> 1.åœ¨ä¸»åº“é‚£è¾¹ï¼ˆmasterï¼‰æ¸…é™¤æ—¥å¿—<br> flush logs;<br> 2.æŸ¥çœ‹ä¸»åº“çŠ¶æ€<br> show master status;<br> 3.è®°ä¸‹å¯¹åº”çš„File, Positionçš„å€¼ï¼Œä¸‹é¢ä¼šç”¨åˆ°<br> 4.åœ¨ä»åº“ï¼ˆslave)ï¼Œæ‰§è¡Œï¼š<br> CHANGE MASTER TO MASTER_LOG_FILE=&#39;mysql-bin.000002&#39;,MASTER_LOG_POS=2079;<br> slave start;<br> show slave status \G<br> æŸ¥çœ‹æ˜¯å¦åŒæ­¥æˆåŠŸäº†</p></blockquote></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/Cospk/edit/main/src/middleware/æ•°æ®åº“/MYSQLé«˜çº§.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/1/15 09:37:41</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: xie18115@outlook.com">xiaoxie001</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-Go.html" aria-label="MySQL-Go"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->MySQL-Go</div></a><a class="route-link auto-link next" href="/vuepress-app/middleware/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis.html" aria-label="Redis"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Redis<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 xiaoxie </div></footer></div><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/vuepress-app/assets/app-BLtUojHQ.js" defer></script>
  </body>
</html>
